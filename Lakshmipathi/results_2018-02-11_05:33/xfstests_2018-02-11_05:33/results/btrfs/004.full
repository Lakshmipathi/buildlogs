*** mkfs -dsize=2097152000

btrfs-progs v4.15
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               8aa8d8f6-3b7f-4150-85fc-d72954195803
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1517641242
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1517681818
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1517500172
# _scratch_unmount
# _scratch_mount -o atime
background noise by 26438
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517431629
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/f47
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/f47 is 1377330 (337 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      20:      58904..     58913:     10:         11: unwritten,shared
   1:       92..      98:       4244..      4250:      7:      58985: unwritten,shared
   2:      129..     139:      59027..     59037:     11:       4281: unwritten,shared
   3:      147..     147:      59045..     59045:      1:             unwritten,shared
   4:      156..     164:      68986..     68994:      9:      59054: shared
   5:      165..     186:      68417..     68438:     22:      68995: shared
   6:      249..     257:      58843..     58851:      9:      68501: shared
   7:      258..     258:      60133..     60133:      1:      58852: last,shared
/mnt/scratch/snap1/p0/d5/db4/d172/f47: 7 extents found
after filter: 241270784#40960#45056#unwritten,shared 17383424#28672#376832#unwritten,shared 241774592#45056#528384#unwritten,shared 241848320#4096#602112#unwritten,shared 282566656#36864#638976#shared 280236032#90112#675840#shared 241020928#36864#1019904#shared 246304768#4096#1056768#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 17383424 /mnt/scratch
inode 302 offset 671744 root 5
inode 292 offset 802816 root 258
inode 292 offset 802816 root 5
inode 316 offset 376832 root 5
inode 316 offset 376832 root 258
inode 302 offset 671744 root 258
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 241774592 /mnt/scratch
inode 272 offset 3108864 root 258
inode 272 offset 3260416 root 258
inode 272 offset 3108864 root 258
inode 272 offset 3260416 root 258
inode 349 offset 36864 root 258
inode 316 offset 528384 root 258
inode 292 offset 1159168 root 258
inode 292 offset 655360 root 258
inode 292 offset 1159168 root 258
inode 292 offset 1159168 root 5
inode 292 offset 655360 root 5
inode 292 offset 1159168 root 5
inode 272 offset 3108864 root 5
inode 272 offset 3260416 root 5
inode 272 offset 3108864 root 5
inode 272 offset 3260416 root 5
inode 349 offset 36864 root 5
inode 316 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 241848320 /mnt/scratch
inode 272 offset 3182592 root 258
inode 272 offset 3334144 root 258
inode 272 offset 3182592 root 258
inode 272 offset 3334144 root 258
inode 349 offset 110592 root 258
inode 334 offset 581632 root 258
inode 316 offset 602112 root 258
inode 272 offset 3182592 root 5
inode 272 offset 3334144 root 5
inode 272 offset 3182592 root 5
inode 272 offset 3334144 root 5
inode 349 offset 110592 root 5
inode 292 offset 729088 root 258
inode 292 offset 729088 root 5
inode 334 offset 581632 root 5
inode 316 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 282566656 /mnt/scratch
inode 316 offset 638976 root 258
inode 316 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 280236032 /mnt/scratch
inode 316 offset 675840 root 258
inode 316 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 241020928 /mnt/scratch
inode 316 offset 1019904 root 258
inode 316 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f47
316
# /bin/btrfs inspect-internal logical-resolve -P 246304768 /mnt/scratch
inode 316 offset 1056768 root 258
inode 316 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 316 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f47
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165 is 1038667 (254 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       45..      55:      71441..     71451:     11:         45: shared
   1:       90..      90:      67281..     67281:      1:      71486: unwritten,shared
   2:      223..     253:      69906..     69936:     31:      67414: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165: 3 extents found
after filter: 292622336#45056#184320#shared 275582976#4096#368640#unwritten,shared 286334976#126976#913408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
541
# /bin/btrfs inspect-internal logical-resolve -P 292622336 /mnt/scratch
inode 541 offset 184320 root 258
inode 506 offset 20480 root 258
inode 541 offset 184320 root 5
inode 506 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
541
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
541
# /bin/btrfs inspect-internal logical-resolve -P 286334976 /mnt/scratch
inode 541 offset 913408 root 258
inode 541 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/d134/f165
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe is 622592 (152 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      21:       4264..      4268:      5:         17: unwritten,shared
   1:       52..      56:       4264..      4268:      5:       4299: unwritten,shared
   2:      125..     151:      64986..     65012:     27:       4337: shared,eof
   3:      152..     257:      69330..     69435:    106:      65013: unwritten,shared,eof
   4:      309..     415:      70143..     70249:    107:      69487: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe: 5 extents found
after filter: 17465344#20480#69632#unwritten,shared 17465344#20480#212992#unwritten,shared 266182656#110592#512000#shared,eof 283975680#434176#622592#unwritten,shared,eof 287305728#438272#1265664#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
459
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
459
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
459
# /bin/btrfs inspect-internal logical-resolve -P 266182656 /mnt/scratch
inode 459 offset 512000 root 258
inode 459 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
459
# /bin/btrfs inspect-internal logical-resolve -P 283975680 /mnt/scratch
inode 459 offset 622592 root 258
inode 459 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
459
# /bin/btrfs inspect-internal logical-resolve -P 287305728 /mnt/scratch
inode 459 offset 1265664 root 258
inode 459 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/ffe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/fc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/fc is 2486272 (607 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      51:      63919..     63948:     30:         22: shared
   1:       87..      90:       4341..      4344:      4:      63984: shared
   2:       91..      91:       4610..      4610:      1:       4345: shared
   3:      194..     200:       4260..      4266:      7:       4713: unwritten,shared
   4:      201..     230:      59453..     59482:     30:       4267: shared
   5:      231..     232:       4454..      4455:      2:      59483: unwritten,shared
   6:      244..     246:       4713..      4715:      3:       4467: shared
   7:      252..     263:       3951..      3962:     12:       4721: unwritten,shared
   8:      264..     268:       4456..      4460:      5:       3963: unwritten,shared
   9:      269..     274:       4492..      4497:      6:       4461: unwritten,shared
  10:      275..     290:       4498..      4513:     16:             shared
  11:      291..     301:       4669..      4679:     11:       4514: shared
  12:      302..     302:      60025..     60025:      1:       4680: shared
  13:      343..     347:      58909..     58913:      5:      60066: unwritten,shared
  14:      351..     353:      60026..     60028:      3:      58917: shared
  15:      355..     361:      60029..     60035:      7:             shared
  16:      362..     371:      60363..     60372:     10:      60036: shared
  17:      372..     376:      60046..     60050:      5:      60373: shared
  18:      378..     391:      59923..     59936:     14:      60052: shared
  19:      428..     444:      60051..     60067:     17:      59973: shared
  20:      445..     445:      62151..     62151:      1:      60068: last,shared
/mnt/scratch/snap1/p0/d5/fc: 19 extents found
after filter: 261812224#122880#90112#shared 17780736#16384#356352#shared 18882560#4096#372736#shared 17448960#28672#794624#unwritten,shared 243519488#122880#823296#shared 18243584#8192#946176#unwritten,shared 19304448#12288#999424#shared 16183296#49152#1032192#unwritten,shared 18251776#20480#1081344#unwritten,shared 18399232#24576#1101824#unwritten,shared 18423808#65536#1126400#shared 19124224#45056#1191936#shared 245862400#4096#1236992#shared 241291264#20480#1404928#unwritten,shared 245866496#12288#1437696#shared 245878784#28672#1454080#shared 247246848#40960#1482752#shared 245948416#20480#1523712#shared 245444608#57344#1548288#shared 245968896#69632#1753088#shared 254570496#4096#1822720#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 261812224 /mnt/scratch
inode 268 offset 90112 root 258
inode 268 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 17780736 /mnt/scratch
inode 268 offset 356352 root 258
inode 268 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 18882560 /mnt/scratch
inode 268 offset 372736 root 258
inode 268 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 17448960 /mnt/scratch
inode 268 offset 794624 root 258
inode 268 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 243519488 /mnt/scratch
inode 268 offset 823296 root 258
inode 268 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 18243584 /mnt/scratch
inode 268 offset 946176 root 258
inode 268 offset 946176 root 258
inode 268 offset 946176 root 5
inode 268 offset 946176 root 5
inode 290 offset 655360 root 258
inode 290 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 19304448 /mnt/scratch
inode 290 offset 942080 root 258
inode 290 offset 942080 root 5
inode 268 offset 999424 root 258
inode 268 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 16183296 /mnt/scratch
inode 268 offset 1032192 root 258
inode 268 offset 1032192 root 5
inode 266 offset 618496 root 258
inode 266 offset 618496 root 5
inode 306 offset 475136 root 258
inode 306 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 18251776 /mnt/scratch
inode 268 offset 1081344 root 258
inode 268 offset 1081344 root 258
inode 268 offset 1081344 root 5
inode 268 offset 1081344 root 5
inode 290 offset 663552 root 258
inode 290 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 18399232 /mnt/scratch
inode 268 offset 1101824 root 258
inode 268 offset 1101824 root 258
inode 268 offset 1101824 root 5
inode 268 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 18423808 /mnt/scratch
inode 268 offset 1126400 root 258
inode 268 offset 1126400 root 258
inode 268 offset 1126400 root 5
inode 268 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 19124224 /mnt/scratch
inode 268 offset 1191936 root 258
inode 268 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245862400 /mnt/scratch
inode 268 offset 1236992 root 258
inode 268 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 241291264 /mnt/scratch
inode 316 offset 65536 root 5
inode 292 offset 552960 root 258
inode 290 offset 28672 root 258
inode 292 offset 552960 root 258
inode 292 offset 552960 root 5
inode 290 offset 28672 root 5
inode 292 offset 552960 root 5
inode 272 offset 1617920 root 5
inode 294 offset 851968 root 5
inode 349 offset 380928 root 5
inode 349 offset 1552384 root 5
inode 349 offset 1552384 root 5
inode 306 offset 425984 root 258
inode 306 offset 425984 root 5
inode 268 offset 1404928 root 258
inode 268 offset 1404928 root 5
inode 353 offset 458752 root 5
inode 349 offset 380928 root 258
inode 349 offset 1552384 root 258
inode 349 offset 1552384 root 258
inode 294 offset 851968 root 258
inode 272 offset 1617920 root 258
inode 316 offset 65536 root 258
inode 353 offset 458752 root 258
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245866496 /mnt/scratch
inode 268 offset 1437696 root 258
inode 268 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245878784 /mnt/scratch
inode 268 offset 1454080 root 258
inode 268 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 247246848 /mnt/scratch
inode 268 offset 1482752 root 258
inode 268 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245948416 /mnt/scratch
inode 268 offset 1523712 root 258
inode 268 offset 1523712 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245444608 /mnt/scratch
inode 268 offset 1548288 root 258
inode 268 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 245968896 /mnt/scratch
inode 268 offset 1753088 root 258
inode 268 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# stat -c %i /mnt/scratch/snap1/p0/d5/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 254570496 /mnt/scratch
inode 268 offset 1822720 root 258
inode 268 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/f11a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/f11a is 1425573 (349 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      19:       4264..      4268:      5:         15: unwritten,shared
   1:      211..     243:      69488..     69520:     33:       4460: unwritten,shared
   2:      269..     270:      69546..     69547:      2:             unwritten,shared
   3:      278..     306:      69555..     69583:     29:             unwritten,shared
   4:      326..     348:      69603..     69625:     23:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/f11a: 2 extents found
after filter: 17465344#20480#61440#unwritten,shared 284622848#135168#864256#unwritten,shared 284860416#8192#1101824#unwritten,shared 284897280#118784#1138688#unwritten,shared 285093888#94208#1335296#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f11a
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 284622848 /mnt/scratch
inode 482 offset 864256 root 258
inode 482 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f11a
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517691405
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 284860416 /mnt/scratch
inode 482 offset 1101824 root 258
inode 482 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f11a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 284897280 /mnt/scratch
inode 482 offset 1138688 root 258
inode 482 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f11a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f11a
482
# /bin/btrfs inspect-internal logical-resolve -P 285093888 /mnt/scratch
inode 482 offset 1335296 root 258
inode 482 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 482 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f11a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169 is 1159408 (284 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       58..      62:       4264..      4268:      5:         58: unwritten,shared
   1:      119..     121:      69979..     69981:      3:       4325: shared
   2:      122..     127:      70833..     70838:      6:      69982: shared
   3:      270..     283:      73428..     73441:     14:      70981: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169: 4 extents found
after filter: 17465344#20480#237568#unwritten,shared 286633984#12288#487424#shared 290131968#24576#499712#shared 300761088#57344#1105920#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
544
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
544
# /bin/btrfs inspect-internal logical-resolve -P 286633984 /mnt/scratch
inode 544 offset 487424 root 258
inode 544 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
544
# /bin/btrfs inspect-internal logical-resolve -P 290131968 /mnt/scratch
inode 544 offset 499712 root 258
inode 544 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
544
# /bin/btrfs inspect-internal logical-resolve -P 300761088 /mnt/scratch
inode 544 offset 1105920 root 258
inode 544 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/f169
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0 is 1077248 (263 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       67..      71:      67754..     67758:      5:         67: shared
   1:       85..      91:      64023..     64029:      7:      67772: shared
   2:       94..     104:      63260..     63270:     11:      64032: shared
   3:      105..     105:      66044..     66044:      1:      63271: shared
   4:      140..     149:      66970..     66979:     10:      66079: shared
   5:      182..     183:      67626..     67627:      2:      67012: unwritten,shared
   6:      218..     219:      71452..     71453:      2:      67662: shared
   7:      242..     262:      65864..     65884:     21:      71476: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0: 8 extents found
after filter: 277520384#20480#274432#shared 262238208#28672#348160#shared 259112960#45056#385024#shared 270516224#4096#430080#shared 274309120#40960#573440#shared 276996096#8192#745472#unwritten,shared 292667392#8192#892928#shared 269778944#86016#991232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 277520384 /mnt/scratch
inode 433 offset 274432 root 258
inode 433 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 262238208 /mnt/scratch
inode 433 offset 348160 root 258
inode 433 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 259112960 /mnt/scratch
inode 433 offset 385024 root 258
inode 433 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 270516224 /mnt/scratch
inode 433 offset 430080 root 258
inode 433 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 274309120 /mnt/scratch
inode 433 offset 573440 root 258
inode 433 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 292667392 /mnt/scratch
inode 433 offset 892928 root 258
inode 433 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
433
# /bin/btrfs inspect-internal logical-resolve -P 269778944 /mnt/scratch
inode 433 offset 991232 root 258
inode 433 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 433 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/fe0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4 is 2160925 (528 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       85..     111:      73236..     73262:     27:         85: shared
   1:      205..     222:      65329..     65346:     18:      73356: shared
   2:      515..     527:      73148..     73160:     13:      65639: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4: 3 extents found
after filter: 299974656#110592#348160#shared 267587584#73728#839680#shared 299614208#53248#2109440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
424
# /bin/btrfs inspect-internal logical-resolve -P 299974656 /mnt/scratch
inode 424 offset 348160 root 258
inode 424 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 424 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
424
# /bin/btrfs inspect-internal logical-resolve -P 267587584 /mnt/scratch
inode 424 offset 839680 root 258
inode 424 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 424 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
424
# /bin/btrfs inspect-internal logical-resolve -P 299614208 /mnt/scratch
inode 424 offset 2109440 root 258
inode 424 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 424 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/fd4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103 is 827392 (202 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      44:      72528..     72554:     27:         18: unwritten,shared
   1:       52..      92:      72562..     72602:     41:             unwritten,shared
   2:       93..     112:      66550..     66569:     20:      72603: shared
   3:      113..     113:      70281..     70281:      1:      66570: shared
   4:      114..     159:      72603..     72648:     46:      70282: unwritten,shared
   5:      160..     164:       4264..      4268:      5:      72649: unwritten,shared
   6:      165..     196:      72649..     72680:     32:       4269: unwritten,shared
   7:      197..     201:      69974..     69978:      5:      72681: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103: 7 extents found
after filter: 297074688#110592#73728#unwritten,shared 297213952#167936#212992#unwritten,shared 272588800#81920#380928#shared 287870976#4096#462848#shared 297381888#188416#466944#unwritten,shared 17465344#20480#655360#unwritten,shared 297570304#131072#675840#unwritten,shared 286613504#20480#806912#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 297074688 /mnt/scratch
inode 463 offset 73728 root 258
inode 463 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 297213952 /mnt/scratch
inode 463 offset 212992 root 258
inode 463 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 272588800 /mnt/scratch
inode 463 offset 380928 root 258
inode 463 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 287870976 /mnt/scratch
inode 463 offset 462848 root 258
inode 463 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 297381888 /mnt/scratch
inode 463 offset 466944 root 258
inode 463 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 297570304 /mnt/scratch
inode 463 offset 675840 root 258
inode 463 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
463
# /bin/btrfs inspect-internal logical-resolve -P 286613504 /mnt/scratch
inode 463 offset 806912 root 258
inode 463 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f is 1679360 (410 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      191..     211:      61571..     61591:     21:        191: shared
   1:      233..     265:      69634..     69666:     33:      61613: shared
   2:      323..     338:      70787..     70802:     16:      69724: shared
   3:      378..     401:      71318..     71341:     24:      70842: shared
   4:      409..     409:      62454..     62454:      1:      71349: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f: 5 extents found
after filter: 252194816#86016#782336#shared 285220864#135168#954368#shared 289943552#65536#1323008#shared 292118528#98304#1548288#shared 255811584#4096#1675264#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
374
# /bin/btrfs inspect-internal logical-resolve -P 252194816 /mnt/scratch
inode 374 offset 782336 root 258
inode 374 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
374
# /bin/btrfs inspect-internal logical-resolve -P 285220864 /mnt/scratch
inode 374 offset 954368 root 258
inode 374 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
374
# /bin/btrfs inspect-internal logical-resolve -P 289943552 /mnt/scratch
inode 374 offset 1323008 root 258
inode 374 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
374
# /bin/btrfs inspect-internal logical-resolve -P 292118528 /mnt/scratch
inode 374 offset 1548288 root 258
inode 374 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
background rm
374
# /bin/btrfs inspect-internal logical-resolve -P 255811584 /mnt/scratch
inode 374 offset 1675264 root 258
inode 374 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f8f
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517369859
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/f44
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/f44 is 2800365 (684 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      13:      60362..     60362:      1:         13: shared
   1:       25..      29:      60163..     60167:      5:      60374: shared
   2:       68..      81:      58932..     58945:     14:      60206: unwritten,shared
   3:      121..     124:      61328..     61331:      4:      58985: unwritten,shared
   4:      125..     129:      64947..     64951:      5:      61332: shared
   5:      140..     143:      61328..     61331:      4:      64962: unwritten,shared
   6:      152..     152:      68773..     68773:      1:      61340: shared
   7:      170..     177:      58928..     58935:      8:      68791: unwritten,shared
   8:      184..     187:      58942..     58945:      4:             unwritten,shared
   9:      267..     268:      67626..     67627:      2:      59025: unwritten,shared
  10:      323..     340:      62781..     62798:     18:      67682: shared
  11:      432..     433:      67626..     67627:      2:      62890: unwritten,shared
  12:      462..     466:       4264..      4268:      5:      67656: unwritten,shared
  13:      552..     553:      67626..     67627:      2:       4354: unwritten,shared
  14:      568..     569:      67626..     67627:      2:      67642: unwritten,shared
  15:      616..     616:      70352..     70352:      1:      67674: last,shared
/mnt/scratch/snap1/p0/d5/dd/d13/f44: 15 extents found
after filter: 247242752#4096#53248#shared 246427648#20480#102400#shared 241385472#57344#278528#unwritten,shared 251199488#16384#495616#unwritten,shared 266022912#20480#512000#shared 251199488#16384#573440#unwritten,shared 281694208#4096#622592#shared 241369088#32768#696320#unwritten,shared 241426432#16384#753664#unwritten,shared 276996096#8192#1093632#unwritten,shared 257150976#73728#1323008#shared 276996096#8192#1769472#unwritten,shared 17465344#20480#1892352#unwritten,shared 276996096#8192#2260992#unwritten,shared 276996096#8192#2326528#unwritten,shared 288161792#4096#2523136#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 247242752 /mnt/scratch
inode 313 offset 53248 root 258
inode 313 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 246427648 /mnt/scratch
inode 313 offset 102400 root 258
inode 313 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 241385472 /mnt/scratch
inode 308 offset 589824 root 5
inode 313 offset 278528 root 5
inode 313 offset 712704 root 5
inode 313 offset 712704 root 5
inode 335 offset 1306624 root 5
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 292 offset 1404928 root 258
inode 290 offset 307200 root 258
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 290 offset 307200 root 258
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 292 offset 1404928 root 5
inode 290 offset 307200 root 5
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 290 offset 307200 root 5
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 294 offset 1069056 root 5
inode 294 offset 1069056 root 5
inode 302 offset 774144 root 5
inode 302 offset 1273856 root 5
inode 302 offset 1273856 root 5
inode 294 offset 1069056 root 258
inode 294 offset 1069056 root 258
inode 302 offset 1273856 root 258
inode 302 offset 774144 root 258
inode 302 offset 1273856 root 258
inode 313 offset 712704 root 258
inode 313 offset 278528 root 258
inode 313 offset 712704 root 258
inode 308 offset 589824 root 258
inode 335 offset 1306624 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 251199488 /mnt/scratch
inode 346 offset 1703936 root 258
inode 313 offset 573440 root 258
inode 313 offset 495616 root 258
inode 313 offset 573440 root 258
inode 346 offset 1703936 root 5
inode 313 offset 573440 root 5
inode 313 offset 495616 root 5
inode 313 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 266022912 /mnt/scratch
inode 313 offset 512000 root 258
inode 313 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 251199488 /mnt/scratch
inode 346 offset 1703936 root 258
inode 313 offset 573440 root 258
inode 313 offset 495616 root 258
inode 313 offset 573440 root 258
inode 346 offset 1703936 root 5
inode 313 offset 573440 root 5
inode 313 offset 495616 root 5
inode 313 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 281694208 /mnt/scratch
inode 313 offset 622592 root 258
inode 313 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 241426432 /mnt/scratch
inode 308 offset 630784 root 5
inode 313 offset 319488 root 5
inode 313 offset 753664 root 5
inode 313 offset 753664 root 5
inode 292 offset 618496 root 258
inode 292 offset 1445888 root 258
inode 292 offset 1445888 root 258
inode 290 offset 348160 root 258
inode 292 offset 1445888 root 258
inode 290 offset 348160 root 258
inode 292 offset 618496 root 258
inode 292 offset 1445888 root 258
inode 292 offset 618496 root 5
inode 292 offset 1445888 root 5
inode 292 offset 1445888 root 5
inode 290 offset 348160 root 5
inode 292 offset 1445888 root 5
inode 290 offset 348160 root 5
inode 292 offset 618496 root 5
inode 292 offset 1445888 root 5
inode 294 offset 1110016 root 5
inode 294 offset 2158592 root 5
inode 294 offset 2158592 root 5
inode 294 offset 1110016 root 5
inode 294 offset 2158592 root 5
inode 294 offset 1110016 root 258
inode 294 offset 2158592 root 258
inode 294 offset 2158592 root 258
inode 294 offset 1110016 root 258
inode 294 offset 2158592 root 258
inode 313 offset 753664 root 258
inode 313 offset 319488 root 258
inode 313 offset 753664 root 258
inode 308 offset 630784 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 257150976 /mnt/scratch
inode 313 offset 1323008 root 258
inode 313 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 288161792 /mnt/scratch
inode 313 offset 2523136 root 258
inode 313 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f44
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122 is 934852 (229 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      23:      67626..     67626:      1:         23: unwritten,shared
   1:      100..     130:      65266..     65296:     31:      67703: shared
   2:      220..     228:      68728..     68736:      9:      65386: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122: 3 extents found
after filter: 276996096#4096#94208#unwritten,shared 267329536#126976#409600#shared 281509888#36864#901120#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
488
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
488
# /bin/btrfs inspect-internal logical-resolve -P 267329536 /mnt/scratch
inode 488 offset 409600 root 258
inode 488 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
488
# /bin/btrfs inspect-internal logical-resolve -P 281509888 /mnt/scratch
inode 488 offset 901120 root 258
inode 488 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f122
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/fe5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/fe5 is 454656 (111 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..      11:      69320..     69329:     10:          2: shared
   1:       82..     110:      70497..     70525:     29:      69400: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/fe5: 2 extents found
after filter: 283934720#40960#8192#shared 288755712#118784#335872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fe5
438
# /bin/btrfs inspect-internal logical-resolve -P 283934720 /mnt/scratch
inode 438 offset 8192 root 258
inode 438 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fe5
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fe5
438
# /bin/btrfs inspect-internal logical-resolve -P 288755712 /mnt/scratch
inode 438 offset 335872 root 258
inode 438 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fe5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f168
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f168 is 713961 (175 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f168: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0 is 878575 (215 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      24:      62511..     62519:      9:         16: shared
   1:       25..      26:      69988..     69989:      2:      62520: shared
   2:       27..      50:      70316..     70339:     24:      69990: shared
   3:       51..      67:      66952..     66968:     17:      70340: shared
   4:       71..      72:      67626..     67627:      2:      66972: unwritten,shared
   5:      114..     123:      70257..     70266:     10:      67669: shared
   6:      151..     155:       4255..      4259:      5:      70294: unwritten,shared
   7:      158..     164:       4262..      4268:      7:             unwritten,shared
   8:      191..     198:      64728..     64735:      8:       4295: shared
   9:      199..     199:      68875..     68875:      1:      64736: last,shared
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0: 9 extents found
after filter: 256045056#36864#65536#shared 286670848#8192#102400#shared 288014336#98304#110592#shared 274235392#69632#208896#shared 276996096#8192#290816#unwritten,shared 287772672#40960#466944#shared 17428480#20480#618496#unwritten,shared 17457152#28672#647168#unwritten,shared 265125888#32768#782336#shared 282112000#4096#815104#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 256045056 /mnt/scratch
inode 412 offset 65536 root 258
inode 412 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 286670848 /mnt/scratch
inode 412 offset 102400 root 258
inode 412 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 288014336 /mnt/scratch
inode 412 offset 110592 root 258
inode 412 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 274235392 /mnt/scratch
inode 412 offset 208896 root 258
inode 412 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 287772672 /mnt/scratch
inode 412 offset 466944 root 258
inode 412 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 265125888 /mnt/scratch
inode 412 offset 782336 root 258
inode 412 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
412
# /bin/btrfs inspect-internal logical-resolve -P 282112000 /mnt/scratch
inode 412 offset 815104 root 258
inode 412 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fc0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176 is 1798144 (439 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      23:       4264..      4268:      5:         19: unwritten,shared
   1:       69..      73:       4264..      4268:      5:       4314: unwritten,shared
   2:      185..     190:      60720..     60725:      6:       4380: unwritten,shared
   3:      191..     206:      59336..     59351:     16:      60726: shared
   4:      207..     254:      65541..     65588:     48:      59352: unwritten,shared
   5:      280..     314:      65614..     65648:     35:             unwritten,shared
   6:      329..     339:      64752..     64762:     11:      65663: shared
   7:      340..     340:      70820..     70820:      1:      64763: shared
   8:      352..     424:      71796..     71868:     73:      70832: unwritten,shared
   9:      432..     433:      71876..     71877:      2:             unwritten,shared
  10:      434..     438:      70636..     70640:      5:      71878: shared,eof
  11:      439..     595:      71878..     72034:    157:      70641: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176: 10 extents found
after filter: 17465344#20480#77824#unwritten,shared 17465344#20480#282624#unwritten,shared 248709120#24576#757760#unwritten,shared 243040256#65536#782336#shared 268455936#196608#847872#unwritten,shared 268754944#143360#1146880#unwritten,shared 265224192#45056#1347584#shared 290078720#4096#1392640#shared 294076416#299008#1441792#unwritten,shared 294404096#8192#1769472#unwritten,shared 289325056#20480#1777664#shared,eof 294412288#643072#1798144#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517891229
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 248709120 /mnt/scratch
inode 334 offset 671744 root 258
inode 415 offset 757760 root 258
inode 334 offset 671744 root 5
inode 415 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 243040256 /mnt/scratch
inode 334 offset 696320 root 258
inode 415 offset 782336 root 258
inode 334 offset 696320 root 5
inode 415 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 268455936 /mnt/scratch
inode 415 offset 847872 root 258
inode 415 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 268754944 /mnt/scratch
inode 415 offset 1146880 root 258
inode 415 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 265224192 /mnt/scratch
inode 415 offset 1347584 root 258
inode 415 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 290078720 /mnt/scratch
inode 415 offset 1392640 root 258
inode 415 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 294076416 /mnt/scratch
inode 415 offset 1441792 root 258
inode 415 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 294404096 /mnt/scratch
inode 415 offset 1769472 root 258
inode 415 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 289325056 /mnt/scratch
inode 415 offset 1777664 root 258
inode 415 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
415
# /bin/btrfs inspect-internal logical-resolve -P 294412288 /mnt/scratch
inode 415 offset 1798144 root 258
inode 415 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/f2b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/f2b is 2531363 (619 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..      11:      58904..     58913:     10:          2: unwritten,shared
   1:       17..      20:      63868..     63871:      4:      58919: shared
   2:       21..      38:      64336..     64353:     18:      63872: shared
   3:       39..      42:      63890..     63893:      4:      64354: shared
   4:       71..      88:      58928..     58945:     18:      63922: unwritten,shared
   5:      129..     129:       3962..      3962:      1:      58986: unwritten,shared
   6:      134..     138:      59815..     59819:      5:       3967: shared
   7:      140..     143:       4434..      4437:      4:      59821: unwritten,shared
   8:      144..     159:      64187..     64202:     16:       4438: shared
   9:      160..     162:       4454..      4456:      3:      64203: unwritten,shared
  10:      196..     205:      73471..     73480:     10:       4490: shared
  11:      206..     207:       5057..      5058:      2:      73481: shared
  12:      230..     232:       4713..      4715:      3:       5081: shared
  13:      266..     266:      67281..     67281:      1:       4749: unwritten,shared
  14:      287..     301:      67030..     67044:     15:      67302: shared
  15:      448..     448:      73481..     73481:      1:      67191: shared
  16:      449..     462:      67658..     67671:     14:      73482: shared
  17:      463..     463:      63153..     63153:      1:      67672: shared
  18:      511..     511:      67281..     67281:      1:      63201: unwritten,shared
  19:      576..     588:      62994..     63006:     13:      67346: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/f2b: 20 extents found
after filter: 241270784#40960#8192#unwritten,shared 261603328#16384#69632#shared 263520256#73728#86016#shared 261693440#16384#159744#shared 241369088#73728#290816#unwritten,shared 16228352#4096#528384#unwritten,shared 245002240#20480#548864#shared 18161664#16384#573440#unwritten,shared 262909952#65536#589824#shared 18243584#12288#655360#unwritten,shared 300937216#40960#802816#shared 20713472#8192#843776#shared 19304448#12288#942080#shared 275582976#4096#1089536#unwritten,shared 274554880#61440#1175552#shared 300978176#4096#1835008#shared 277127168#57344#1839104#shared 258674688#4096#1896448#shared 275582976#4096#2093056#unwritten,shared 258023424#53248#2359296#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 261603328 /mnt/scratch
inode 290 offset 69632 root 258
inode 290 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 263520256 /mnt/scratch
inode 290 offset 86016 root 258
inode 290 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 261693440 /mnt/scratch
inode 290 offset 159744 root 258
inode 290 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 16228352 /mnt/scratch
inode 346 offset 786432 root 258
inode 353 offset 114688 root 258
inode 334 offset 593920 root 258
inode 346 offset 786432 root 5
inode 353 offset 114688 root 5
inode 334 offset 593920 root 5
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
inode 266 offset 663552 root 258
inode 266 offset 663552 root 5
inode 306 offset 520192 root 258
inode 306 offset 520192 root 5
inode 290 offset 528384 root 258
inode 290 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 245002240 /mnt/scratch
inode 290 offset 548864 root 258
inode 290 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 18161664 /mnt/scratch
inode 294 offset 65536 root 258
inode 294 offset 65536 root 5
inode 290 offset 573440 root 258
inode 290 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 262909952 /mnt/scratch
inode 290 offset 589824 root 258
inode 290 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 18243584 /mnt/scratch
inode 268 offset 946176 root 258
inode 268 offset 946176 root 258
inode 268 offset 946176 root 5
inode 268 offset 946176 root 5
inode 290 offset 655360 root 258
inode 290 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 300937216 /mnt/scratch
inode 290 offset 802816 root 258
inode 290 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 20713472 /mnt/scratch
inode 290 offset 843776 root 258
inode 290 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 19304448 /mnt/scratch
inode 290 offset 942080 root 258
inode 290 offset 942080 root 5
inode 268 offset 999424 root 258
inode 268 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 274554880 /mnt/scratch
inode 290 offset 1175552 root 258
inode 290 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 300978176 /mnt/scratch
inode 290 offset 1835008 root 258
inode 290 offset 1835008 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 277127168 /mnt/scratch
inode 290 offset 1839104 root 258
inode 290 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 258674688 /mnt/scratch
inode 290 offset 1896448 root 258
inode 290 offset 1896448 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
seed = 1517688097
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f2b
290
# /bin/btrfs inspect-internal logical-resolve -P 258023424 /mnt/scratch
inode 290 offset 2359296 root 258
inode 290 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f2b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3 is 3427114 (837 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      71:      61046..     61062:     17:         55: shared
   1:      125..     132:       4993..      5000:      8:      61116: shared
   2:      226..     239:      69812..     69825:     14:       5094: shared
   3:      240..     250:      62109..     62119:     11:      69826: shared
   4:      309..     336:      62552..     62579:     28:      62178: shared
   5:      440..     446:      62120..     62126:      7:      62683: shared
   6:      447..     447:      63975..     63975:      1:      62127: shared
   7:      694..     710:      66869..     66885:     17:      64222: shared
   8:      725..     750:      66059..     66084:     26:      66900: shared
   9:      807..     812:      65895..     65900:      6:      66141: last,shared
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3: 10 extents found
after filter: 250044416#69632#225280#shared 20451328#32768#512000#shared 285949952#57344#925696#shared 254398464#45056#983040#shared 256212992#114688#1265664#shared 254443520#28672#1802240#shared 262041600#4096#1830912#shared 273895424#69632#2842624#shared 270577664#106496#2969600#shared 269905920#24576#3305472#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 250044416 /mnt/scratch
inode 373 offset 225280 root 258
inode 373 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 20451328 /mnt/scratch
inode 266 offset 712704 root 258
inode 266 offset 712704 root 5
inode 373 offset 512000 root 258
inode 373 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 285949952 /mnt/scratch
inode 373 offset 925696 root 258
inode 373 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 254398464 /mnt/scratch
inode 373 offset 983040 root 258
inode 373 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 256212992 /mnt/scratch
inode 373 offset 1265664 root 258
inode 373 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 254443520 /mnt/scratch
inode 373 offset 1802240 root 258
inode 373 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 262041600 /mnt/scratch
inode 373 offset 1830912 root 258
inode 373 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 273895424 /mnt/scratch
inode 373 offset 2842624 root 258
inode 373 offset 2842624 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 270577664 /mnt/scratch
inode 373 offset 2969600 root 258
inode 373 offset 2969600 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
373
# /bin/btrfs inspect-internal logical-resolve -P 269905920 /mnt/scratch
inode 373 offset 3305472 root 258
inode 373 offset 3305472 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fa3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d is 2494464 (609 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       52..      83:      60442..     60473:     32:         52: shared
   1:       86..      86:      58904..     58904:      1:      60476: unwritten,shared
   2:       87..     114:      66818..     66845:     28:      58905: shared
   3:      122..     124:      73233..     73235:      3:      66853: shared
   4:      134..     146:      60474..     60486:     13:      73245: shared
   5:      147..     152:      60168..     60173:      6:      60487: shared
   6:      153..     153:      62067..     62067:      1:      60174: shared
   7:      226..     234:      66846..     66854:      9:      62140: shared
   8:      291..     312:      62068..     62089:     22:      66911: shared
   9:      433..     437:       4264..      4268:      5:      62210: unwritten,shared
  10:      489..     490:      67626..     67627:      2:       4320: unwritten,shared
  11:      560..     570:      64203..     64213:     11:      67697: shared
  12:      571..     575:       4264..      4268:      5:      64214: unwritten,shared
  13:      608..     608:      70256..     70256:      1:       4301: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d: 14 extents found
after filter: 247570432#131072#212992#shared 241270784#4096#352256#unwritten,shared 273686528#114688#356352#shared 299962368#12288#499712#shared 247701504#53248#548864#shared 246448128#24576#602112#shared 254226432#4096#626688#shared 273801216#36864#925696#shared 254230528#90112#1191936#shared 17465344#20480#1773568#unwritten,shared 276996096#8192#2002944#unwritten,shared 262975488#45056#2293760#shared 17465344#20480#2338816#unwritten,shared 287768576#4096#2490368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 247570432 /mnt/scratch
inode 322 offset 212992 root 258
inode 322 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 273686528 /mnt/scratch
inode 322 offset 356352 root 258
inode 322 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 299962368 /mnt/scratch
inode 322 offset 499712 root 258
inode 322 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 247701504 /mnt/scratch
inode 322 offset 548864 root 258
inode 322 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 246448128 /mnt/scratch
inode 322 offset 602112 root 258
inode 322 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 254226432 /mnt/scratch
inode 322 offset 626688 root 258
inode 322 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 273801216 /mnt/scratch
inode 322 offset 925696 root 258
inode 322 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 254230528 /mnt/scratch
inode 322 offset 1191936 root 258
inode 322 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 262975488 /mnt/scratch
inode 322 offset 2293760 root 258
inode 322 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
322
# /bin/btrfs inspect-internal logical-resolve -P 287768576 /mnt/scratch
inode 322 offset 2490368 root 258
inode 322 offset 2490368 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/f4d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90 is 2826240 (690 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      44:      58928..     58928:      1:         44: unwritten,shared
   1:      137..     139:      63041..     63043:      3:      59021: unwritten,shared
   2:      158..     168:      63062..     63072:     11:             unwritten,shared
   3:      187..     188:      63091..     63092:      2:             unwritten,shared
   4:      214..     229:      63118..     63133:     16:             unwritten,shared
   5:      230..     232:      61070..     61072:      3:      63134: shared
   6:      233..     235:      63134..     63136:      3:      61073: unwritten,shared
   7:      246..     251:      63147..     63152:      6:             unwritten,shared
   8:      263..     264:      67626..     67627:      2:      63164: unwritten,shared
   9:      283..     287:       4264..      4268:      5:      67646: unwritten,shared
  10:      352..     355:      63154..     63157:      4:       4333: shared
  11:      446..     474:      70907..     70935:     29:      63248: shared
  12:      479..     483:       4264..      4268:      5:      70940: unwritten,shared
  13:      520..     523:      67148..     67151:      4:       4305: shared
  14:      524..     552:      66728..     66756:     29:      67152: shared
  15:      639..     640:      67626..     67627:      2:      66843: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90: 12 extents found
after filter: 241369088#4096#180224#unwritten,shared 258215936#12288#561152#unwritten,shared 258301952#45056#647168#unwritten,shared 258420736#8192#765952#unwritten,shared 258531328#65536#876544#unwritten,shared 250142720#12288#942080#shared 258596864#12288#954368#unwritten,shared 258650112#24576#1007616#unwritten,shared 276996096#8192#1077248#unwritten,shared 17465344#20480#1159168#unwritten,shared 258678784#16384#1441792#shared 290435072#118784#1826816#shared 17465344#20480#1961984#unwritten,shared 275038208#16384#2129920#shared 273317888#118784#2146304#shared 276996096#8192#2617344#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258215936 /mnt/scratch
inode 375 offset 561152 root 258
inode 375 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258301952 /mnt/scratch
inode 375 offset 647168 root 258
inode 375 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258420736 /mnt/scratch
inode 375 offset 765952 root 258
inode 375 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258531328 /mnt/scratch
inode 375 offset 876544 root 258
inode 375 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 250142720 /mnt/scratch
inode 375 offset 942080 root 258
inode 375 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258596864 /mnt/scratch
inode 375 offset 954368 root 258
inode 375 offset 954368 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517372513
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258650112 /mnt/scratch
inode 375 offset 1007616 root 258
inode 375 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 258678784 /mnt/scratch
inode 375 offset 1441792 root 258
inode 375 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 290435072 /mnt/scratch
inode 375 offset 1826816 root 258
inode 375 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 275038208 /mnt/scratch
inode 375 offset 2129920 root 258
inode 375 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 273317888 /mnt/scratch
inode 375 offset 2146304 root 258
inode 375 offset 2146304 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
375
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/f90
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7 is 940398 (230 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      36:      68336..     68336:      1:         36: unwritten,shared
   1:       37..      38:      67626..     67627:      2:      68337: unwritten,shared
   2:       39..      54:      68337..     68352:     16:      67628: unwritten,shared
   3:       57..      57:       4264..      4264:      1:      68355: unwritten,shared
   4:      119..     137:      68385..     68403:     19:       4326: unwritten,shared
   5:      138..     141:      65104..     65107:      4:      68404: unwritten,shared
   6:      142..     142:      65108..     65108:      1:             shared
   7:      143..     153:      65109..     65119:     11:             unwritten,shared
   8:      154..     179:      65120..     65145:     26:             shared
   9:      180..     191:      68404..     68415:     12:      65146: unwritten,shared
  10:      192..     196:      65158..     65162:      5:      68416: unwritten,shared
  11:      197..     198:      65163..     65164:      2:             shared
  12:      199..     204:      65165..     65170:      6:             unwritten,shared
  13:      205..     228:      63950..     63973:     24:      65171: shared
  14:      229..     229:      65040..     65040:      1:      63974: shared,eof
  15:      230..     295:      65171..     65236:     66:      65041: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7: 11 extents found
after filter: 279904256#4096#147456#unwritten,shared 276996096#8192#151552#unwritten,shared 279908352#65536#159744#unwritten,shared 17465344#4096#233472#unwritten,shared 280104960#77824#487424#unwritten,shared 266665984#16384#565248#unwritten,shared 266682368#4096#581632#shared 266686464#45056#585728#unwritten,shared 266731520#106496#630784#shared 280182784#49152#737280#unwritten,shared 266887168#20480#786432#unwritten,shared 266907648#8192#806912#shared 266915840#24576#815104#unwritten,shared 261939200#98304#839680#shared 266403840#4096#937984#shared,eof 266940416#270336#942080#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 279904256 /mnt/scratch
inode 427 offset 147456 root 258
inode 427 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 279908352 /mnt/scratch
inode 427 offset 159744 root 258
inode 427 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 280104960 /mnt/scratch
inode 427 offset 487424 root 258
inode 427 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266665984 /mnt/scratch
inode 427 offset 565248 root 258
inode 427 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266682368 /mnt/scratch
inode 427 offset 581632 root 258
inode 427 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266686464 /mnt/scratch
inode 427 offset 585728 root 258
inode 427 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266731520 /mnt/scratch
inode 427 offset 630784 root 258
inode 427 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 280182784 /mnt/scratch
inode 427 offset 737280 root 258
inode 427 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266887168 /mnt/scratch
inode 427 offset 786432 root 258
inode 427 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266907648 /mnt/scratch
inode 427 offset 806912 root 258
inode 427 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266915840 /mnt/scratch
inode 427 offset 815104 root 258
inode 427 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 261939200 /mnt/scratch
inode 427 offset 839680 root 258
inode 427 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266403840 /mnt/scratch
inode 427 offset 937984 root 258
inode 427 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
427
# /bin/btrfs inspect-internal logical-resolve -P 266940416 /mnt/scratch
inode 427 offset 942080 root 258
inode 427 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/fd7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130 is 1122636 (275 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      187..     188:      67626..     67627:      2:        187: unwritten,shared
   1:      245..     274:      68632..     68661:     30:      67684: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130: 2 extents found
after filter: 276996096#8192#765952#unwritten,shared 281116672#122880#1003520#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130
434
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130
434
# /bin/btrfs inspect-internal logical-resolve -P 281116672 /mnt/scratch
inode 434 offset 1003520 root 258
inode 434 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f130
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/f171
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/f171 is 348112 (85 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      17:       4264..      4268:      5:         13: unwritten,shared
   1:       74..      84:      70809..     70819:     11:       4325: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/f171: 2 extents found
after filter: 17465344#20480#53248#unwritten,shared 290033664#45056#303104#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f171
552
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 552 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f171
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f171
552
# /bin/btrfs inspect-internal logical-resolve -P 290033664 /mnt/scratch
inode 552 offset 303104 root 258
inode 552 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 552 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f171
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f149
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f149 is 659456 (161 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      140..     160:      71165..     71185:     21:        140: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f149: 1 extent found
after filter: 291491840#86016#573440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f149
523
# /bin/btrfs inspect-internal logical-resolve -P 291491840 /mnt/scratch
inode 523 offset 573440 root 258
inode 523 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 523 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/dbb/f114
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/dbb/f114 is 1267819 (310 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      41:      66940..     66949:     10:         32: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dbb/f114: 1 extent found
after filter: 274186240#40960#131072#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dbb/f114
476
# /bin/btrfs inspect-internal logical-resolve -P 274186240 /mnt/scratch
inode 476 offset 131072 root 258
inode 476 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 476 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dbb/f114
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/fa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/fa is 1453382 (355 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      40:      58928..     58928:      1:         40: unwritten,shared
   1:       53..      53:      58928..     58928:      1:      58941: unwritten,shared
   2:       81..      85:       4289..      4293:      5:      58956: unwritten,shared
   3:      116..     126:      63328..     63338:     11:       4324: shared
   4:      235..     238:      61968..     61971:      4:      63447: shared
   5:      239..     239:      62894..     62894:      1:      61972: shared
   6:      278..     300:      64053..     64075:     23:      62933: shared
   7:      327..     354:      68813..     68840:     28:      64102: shared,eof
   8:      404..     625:      63340..     63561:    222:      68890: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/fa: 9 extents found
after filter: 241369088#4096#163840#unwritten,shared 241369088#4096#217088#unwritten,shared 17567744#20480#331776#unwritten,shared 259391488#45056#475136#shared 253820928#16384#962560#shared 257613824#4096#978944#shared 262361088#94208#1138688#shared 281858048#114688#1339392#shared,eof 259440640#909312#1654784#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17567744 /mnt/scratch
inode 270 offset 1204224 root 5
inode 270 offset 1204224 root 5
inode 267 offset 331776 root 258
inode 267 offset 331776 root 5
inode 281 offset 196608 root 5
inode 272 offset 1892352 root 5
inode 357 offset 49152 root 5
inode 357 offset 49152 root 258
inode 272 offset 1892352 root 258
inode 270 offset 1204224 root 258
inode 270 offset 1204224 root 258
inode 281 offset 196608 root 258
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 259391488 /mnt/scratch
inode 267 offset 475136 root 258
inode 267 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 253820928 /mnt/scratch
inode 267 offset 962560 root 258
inode 267 offset 962560 root 5
inode 428 offset 1019904 root 258
inode 428 offset 1019904 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517803915
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 257613824 /mnt/scratch
inode 267 offset 978944 root 258
inode 267 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 262361088 /mnt/scratch
inode 267 offset 1138688 root 258
inode 267 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 281858048 /mnt/scratch
inode 267 offset 1339392 root 258
inode 267 offset 1339392 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# stat -c %i /mnt/scratch/snap1/p0/d5/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 259440640 /mnt/scratch
inode 267 offset 1654784 root 258
inode 267 offset 1654784 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf is 771276 (189 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      47:      63583..     63586:      4:         44: shared
   1:      127..     135:      65393..     65401:      9:      63666: shared
   2:      136..     161:      68774..     68799:     26:      65402: shared
   3:      162..     162:      73497..     73497:      1:      68800: shared
   4:      178..     188:      73498..     73508:     11:             last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf: 4 extents found
after filter: 260435968#16384#180224#shared 267849728#36864#520192#shared 281698304#106496#557056#shared 301043712#4096#663552#shared 301047808#45056#729088#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
411
# /bin/btrfs inspect-internal logical-resolve -P 260435968 /mnt/scratch
inode 411 offset 180224 root 258
inode 411 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
411
# /bin/btrfs inspect-internal logical-resolve -P 267849728 /mnt/scratch
inode 411 offset 520192 root 258
inode 411 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
411
# /bin/btrfs inspect-internal logical-resolve -P 281698304 /mnt/scratch
inode 411 offset 557056 root 258
inode 411 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
411
# /bin/btrfs inspect-internal logical-resolve -P 301043712 /mnt/scratch
inode 411 offset 663552 root 258
inode 411 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
411
# /bin/btrfs inspect-internal logical-resolve -P 301047808 /mnt/scratch
inode 411 offset 729088 root 258
inode 411 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fbf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d87/f136
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d87/f136 is 81920 (20 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      15:      71441..     71451:     11:          5: last,shared
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f136: 1 extent found
after filter: 292622336#45056#20480#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f136
506
# /bin/btrfs inspect-internal logical-resolve -P 292622336 /mnt/scratch
inode 541 offset 184320 root 258
inode 506 offset 20480 root 258
inode 541 offset 184320 root 5
inode 506 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f136
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd is 2021680 (494 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      52:      67128..     67147:     20:         33: shared
   1:       70..      74:       4255..      4259:      5:      67165: unwritten,shared
   2:       77..      83:       4262..      4268:      7:             unwritten,shared
   3:       84..      85:      67626..     67627:      2:       4269: unwritten,shared
   4:      111..     112:      67626..     67627:      2:      67653: unwritten,shared
   5:      155..     192:      68534..     68571:     38:      67670: unwritten,shared
   6:      200..     215:      68579..     68594:     16:             unwritten,shared
   7:      216..     223:      64874..     64881:      8:      68595: shared
   8:      224..     224:      68595..     68595:      1:      64882: unwritten,shared
   9:      385..     409:      67858..     67882:     25:      68756: shared
  10:      468..     493:      68905..     68930:     26:      67941: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd: 9 extents found
after filter: 274956288#81920#135168#shared 17428480#20480#286720#unwritten,shared 17457152#28672#315392#unwritten,shared 276996096#8192#344064#unwritten,shared 276996096#8192#454656#unwritten,shared 280715264#155648#634880#unwritten,shared 280899584#65536#819200#unwritten,shared 265723904#32768#884736#shared 280965120#4096#917504#unwritten,shared 277946368#102400#1576960#shared 282234880#106496#1916928#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 274956288 /mnt/scratch
inode 458 offset 135168 root 258
inode 458 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 280715264 /mnt/scratch
inode 458 offset 634880 root 258
inode 458 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 280899584 /mnt/scratch
inode 458 offset 819200 root 258
inode 458 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 265723904 /mnt/scratch
inode 458 offset 884736 root 258
inode 458 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 280965120 /mnt/scratch
inode 458 offset 917504 root 258
inode 458 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 277946368 /mnt/scratch
inode 458 offset 1576960 root 258
inode 458 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
458
# /bin/btrfs inspect-internal logical-resolve -P 282234880 /mnt/scratch
inode 458 offset 1916928 root 258
inode 458 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/ffd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/f27
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/f27 is 2887237 (705 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      45:      58791..     58820:     30:         16: shared
   1:       53..      87:       4625..      4659:     35:      58828: unwritten,shared
   2:       88..      97:       4514..      4523:     10:       4660: shared
   3:       98..     100:      59495..     59497:      3:       4524: shared
   4:      101..     101:      60417..     60417:      1:      59498: shared
   5:      261..     284:      60418..     60441:     24:             shared
   6:      289..     300:       4716..      4727:     12:      60446: shared
   7:      399..     403:       4264..      4268:      5:       4826: unwritten,shared
   8:      465..     473:      58782..     58790:      9:       4330: last,shared
/mnt/scratch/snap1/p0/d5/d6/f27: 8 extents found
after filter: 240807936#122880#65536#shared 18944000#143360#217088#unwritten,shared 18489344#40960#360448#shared 243691520#12288#401408#shared 247468032#4096#413696#shared 247472128#98304#1069056#shared 19316736#49152#1183744#shared 17465344#20480#1634304#unwritten,shared 240771072#36864#1904640#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 240807936 /mnt/scratch
inode 286 offset 65536 root 258
inode 286 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 18944000 /mnt/scratch
inode 286 offset 217088 root 258
inode 286 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 18489344 /mnt/scratch
inode 286 offset 360448 root 258
inode 286 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 243691520 /mnt/scratch
inode 286 offset 401408 root 258
inode 286 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 247468032 /mnt/scratch
inode 286 offset 413696 root 258
inode 286 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 247472128 /mnt/scratch
inode 286 offset 1069056 root 258
inode 286 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 19316736 /mnt/scratch
inode 286 offset 1183744 root 258
inode 286 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f27
286
# /bin/btrfs inspect-internal logical-resolve -P 240771072 /mnt/scratch
inode 286 offset 1904640 root 258
inode 286 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f27
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2 is 1609728 (393 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       1:      67626..     67627:      2:             unwritten,shared
   1:       85..      90:      73125..     73130:      6:      67711: shared
   2:      163..     169:      64217..     64223:      7:      73203: shared
   3:      170..     175:      70803..     70808:      6:      64224: shared
   4:      176..     192:      64230..     64246:     17:      70809: shared
   5:      214..     231:      63996..     64013:     18:      64268: shared
   6:      232..     232:      67017..     67017:      1:      64014: shared
   7:      296..     320:      73289..     73313:     25:      67081: last,shared
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2: 8 extents found
after filter: 276996096#8192#0#unwritten,shared 299520000#24576#348160#shared 263032832#28672#667648#shared 290009088#24576#696320#shared 263086080#69632#720896#shared 262127616#73728#876544#shared 274501632#4096#950272#shared 300191744#102400#1212416#last,shared 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517429254
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 299520000 /mnt/scratch
inode 413 offset 348160 root 258
inode 413 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 263032832 /mnt/scratch
inode 413 offset 667648 root 258
inode 413 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 290009088 /mnt/scratch
inode 413 offset 696320 root 258
inode 413 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 263086080 /mnt/scratch
inode 448 offset 335872 root 258
inode 413 offset 720896 root 258
inode 448 offset 335872 root 5
inode 413 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 262127616 /mnt/scratch
inode 413 offset 876544 root 258
inode 413 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 274501632 /mnt/scratch
inode 413 offset 950272 root 258
inode 413 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
413
# /bin/btrfs inspect-internal logical-resolve -P 300191744 /mnt/scratch
inode 413 offset 1212416 root 258
inode 413 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 413 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fc2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/f3d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/f3d is 5836800 (1425 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      33:      60225..     60244:     20:         14: shared
   1:       34..      34:       4255..      4255:      1:      60245: unwritten,shared
   2:       38..      38:       4346..      4346:      1:       4259: unwritten,shared
   3:       70..      72:       5235..      5237:      3:       4378: shared
   4:       73..      73:      60090..     60090:      1:       5238: shared
   5:       99..     101:      58904..     58906:      3:      60116: unwritten,shared
   6:      102..     103:      61082..     61083:      2:      58907: unwritten,shared
   7:      104..     108:      58909..     58913:      5:      61084: unwritten,shared
   8:      109..     115:      61084..     61090:      7:      58914: unwritten,shared
   9:      116..     120:       3951..      3955:      5:      61091: unwritten,shared
  10:      121..     123:      61091..     61093:      3:       3956: unwritten,shared
  11:      124..     127:       3959..      3962:      4:      61094: unwritten,shared
  12:      128..     140:      61094..     61106:     13:       3963: unwritten,shared
  13:      166..     182:      61132..     61148:     17:             unwritten,shared
  14:      183..     202:      60245..     60264:     20:      61149: shared
  15:      203..     256:      61149..     61202:     54:      60265: unwritten,shared
  16:      275..     283:      61221..     61229:      9:             unwritten,shared
  17:      285..     287:      66758..     66760:      3:      61231: shared
  18:      288..     301:      61234..     61247:     14:      66761: shared
  19:      302..     304:      61248..     61250:      3:             unwritten,shared
  20:      315..     332:      61261..     61278:     18:             unwritten,shared
  21:      351..     352:      61297..     61298:      2:             unwritten,shared
  22:      381..     389:      61073..     61081:      9:      61327: shared
  23:      580..     582:      64214..     64216:      3:      61272: shared
  24:      631..     638:      64015..     64022:      8:      64265: shared
  25:      671..     697:      72879..     72905:     27:      64055: shared
  26:      739..     739:      69147..     69147:      1:      72947: shared
  27:      789..     811:      62742..     62764:     23:      69197: shared
  28:      812..     812:      66761..     66761:      1:      62765: shared
  29:      983..    1013:      66697..     66727:     31:      66932: shared
  30:     1087..    1091:       4255..      4259:      5:      66801: unwritten,shared
  31:     1094..    1100:       4262..      4268:      7:             unwritten,shared
  32:     1129..    1135:      70354..     70360:      7:       4297: shared
  33:     1158..    1175:      65820..     65837:     18:      70383: unwritten,shared
  34:     1176..    1176:      65838..     65838:      1:             shared
  35:     1398..    1398:      68416..     68416:      1:      66060: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/f3d: 29 extents found
after filter: 246681600#81920#57344#shared 17428480#4096#139264#unwritten,shared 17801216#4096#155648#unwritten,shared 21442560#12288#286720#shared 246128640#4096#299008#shared 241270784#12288#405504#unwritten,shared 250191872#8192#417792#unwritten,shared 241291264#20480#425984#unwritten,shared 250200064#28672#446464#unwritten,shared 16183296#20480#475136#unwritten,shared 250228736#12288#495616#unwritten,shared 16216064#16384#507904#unwritten,shared 250241024#53248#524288#unwritten,shared 250396672#69632#679936#unwritten,shared 246763520#81920#749568#shared 250466304#221184#831488#unwritten,shared 250761216#36864#1126400#unwritten,shared 273440768#12288#1167360#shared 250814464#57344#1179648#shared 250871808#12288#1236992#unwritten,shared 250925056#73728#1290240#unwritten,shared 251072512#8192#1437696#unwritten,shared 250155008#36864#1560576#shared 263020544#12288#2375680#shared 262205440#32768#2584576#shared 298512384#110592#2748416#shared 283226112#4096#3026944#shared 256991232#94208#3231744#shared 273453056#4096#3325952#shared 273190912#126976#4026368#shared 17428480#20480#4452352#unwritten,shared 17457152#28672#4481024#unwritten,shared 288169984#28672#4624384#shared 269598720#73728#4743168#unwritten,shared 269672448#4096#4816896#shared 280231936#4096#5726208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 246681600 /mnt/scratch
inode 306 offset 57344 root 258
inode 306 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 17801216 /mnt/scratch
inode 306 offset 155648 root 258
inode 306 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 21442560 /mnt/scratch
inode 306 offset 286720 root 258
inode 306 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 246128640 /mnt/scratch
inode 306 offset 299008 root 258
inode 306 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250191872 /mnt/scratch
inode 306 offset 417792 root 258
inode 306 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 241291264 /mnt/scratch
inode 316 offset 65536 root 5
inode 292 offset 552960 root 258
inode 290 offset 28672 root 258
inode 292 offset 552960 root 258
inode 292 offset 552960 root 5
inode 290 offset 28672 root 5
inode 292 offset 552960 root 5
inode 272 offset 1617920 root 5
inode 294 offset 851968 root 5
inode 349 offset 380928 root 5
inode 349 offset 1552384 root 5
inode 349 offset 1552384 root 5
inode 306 offset 425984 root 258
inode 306 offset 425984 root 5
inode 268 offset 1404928 root 258
inode 268 offset 1404928 root 5
inode 353 offset 458752 root 5
inode 349 offset 380928 root 258
inode 349 offset 1552384 root 258
inode 349 offset 1552384 root 258
inode 294 offset 851968 root 258
inode 272 offset 1617920 root 258
inode 316 offset 65536 root 258
inode 353 offset 458752 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250200064 /mnt/scratch
inode 306 offset 446464 root 258
inode 306 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 16183296 /mnt/scratch
inode 268 offset 1032192 root 258
inode 268 offset 1032192 root 5
inode 266 offset 618496 root 258
inode 266 offset 618496 root 5
inode 306 offset 475136 root 258
inode 306 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250228736 /mnt/scratch
inode 306 offset 495616 root 258
inode 306 offset 495616 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 16216064 /mnt/scratch
inode 346 offset 774144 root 258
inode 353 offset 102400 root 258
inode 346 offset 774144 root 5
inode 353 offset 102400 root 5
inode 268 offset 1064960 root 258
inode 268 offset 1064960 root 5
inode 266 offset 651264 root 258
inode 266 offset 651264 root 5
inode 306 offset 507904 root 258
inode 306 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250241024 /mnt/scratch
inode 306 offset 524288 root 258
inode 306 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250396672 /mnt/scratch
inode 306 offset 679936 root 258
inode 306 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 246763520 /mnt/scratch
inode 306 offset 749568 root 258
inode 306 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250466304 /mnt/scratch
inode 306 offset 831488 root 258
inode 306 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250761216 /mnt/scratch
inode 306 offset 1126400 root 258
inode 306 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 273440768 /mnt/scratch
inode 306 offset 1167360 root 258
inode 306 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250814464 /mnt/scratch
inode 306 offset 1179648 root 258
inode 306 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250871808 /mnt/scratch
inode 306 offset 1236992 root 258
inode 306 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250925056 /mnt/scratch
inode 306 offset 1290240 root 258
inode 306 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 251072512 /mnt/scratch
inode 306 offset 1437696 root 258
inode 306 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 250155008 /mnt/scratch
inode 306 offset 1560576 root 258
inode 306 offset 1560576 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 263020544 /mnt/scratch
inode 306 offset 2375680 root 258
inode 306 offset 2375680 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 262205440 /mnt/scratch
inode 306 offset 2584576 root 258
inode 306 offset 2584576 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 298512384 /mnt/scratch
inode 306 offset 2748416 root 258
inode 306 offset 2748416 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 283226112 /mnt/scratch
inode 306 offset 3026944 root 258
inode 306 offset 3026944 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518068256
306
# /bin/btrfs inspect-internal logical-resolve -P 256991232 /mnt/scratch
inode 306 offset 3231744 root 258
inode 306 offset 3231744 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 273453056 /mnt/scratch
inode 306 offset 3325952 root 258
inode 306 offset 3325952 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 273190912 /mnt/scratch
inode 306 offset 4026368 root 258
inode 306 offset 4026368 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 288169984 /mnt/scratch
inode 306 offset 4624384 root 258
inode 306 offset 4624384 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 269598720 /mnt/scratch
inode 306 offset 4743168 root 258
inode 306 offset 4743168 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 269672448 /mnt/scratch
inode 306 offset 4816896 root 258
inode 306 offset 4816896 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f3d
306
# /bin/btrfs inspect-internal logical-resolve -P 280231936 /mnt/scratch
inode 306 offset 5726208 root 258
inode 306 offset 5726208 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36 is 2732032 (667 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       45..      52:       4286..      4293:      8:         45: unwritten,shared
   1:       53..      53:       4460..      4460:      1:       4294: unwritten,shared
   2:       59..      59:       4696..      4696:      1:       4466: shared
   3:       69..      77:       5059..      5067:      9:       4706: shared
   4:       78..      89:       4949..      4960:     12:       5068: shared
   5:       90..      91:       3937..      3938:      2:       4961: shared
   6:      123..     123:      58928..     58928:      1:       3970: unwritten,shared
   7:      137..     141:      60105..     60109:      5:      58942: shared
   8:      142..     149:      58760..     58767:      8:      60110: shared
   9:      150..     152:       3956..      3958:      3:      58768: unwritten,shared
  10:      173..     186:       4611..      4624:     14:       3979: shared
  11:      236..     238:       5068..      5070:      3:       4674: shared
  12:      239..     239:      62720..     62720:      1:       5071: shared
  13:      369..     373:       4264..      4268:      5:      62850: unwritten,shared
  14:      438..     439:      67626..     67627:      2:       4333: unwritten,shared
  15:      457..     460:      62721..     62724:      4:      67645: shared
  16:      461..     468:      65321..     65328:      8:      62725: shared
  17:      469..     476:      62733..     62740:      8:      65329: shared
  18:      477..     486:      62500..     62509:     10:      62741: shared
  19:      487..     487:      73512..     73512:      1:      62510: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36: 20 extents found
after filter: 17555456#32768#184320#unwritten,shared 18268160#4096#217088#unwritten,shared 19234816#4096#241664#shared 20721664#36864#282624#shared 20271104#49152#319488#shared 16125952#8192#368640#shared 241369088#4096#503808#unwritten,shared 246190080#20480#561152#shared 240680960#32768#581632#shared 16203776#12288#614400#unwritten,shared 18886656#57344#708608#shared 20758528#12288#966656#shared 256901120#4096#978944#shared 17465344#20480#1511424#unwritten,shared 276996096#8192#1794048#unwritten,shared 256905216#16384#1871872#shared 267554816#32768#1888256#shared 256954368#32768#1921024#shared 256000000#40960#1953792#shared 301105152#4096#1994752#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 17555456 /mnt/scratch
inode 270 offset 1191936 root 5
inode 270 offset 1191936 root 5
inode 281 offset 184320 root 5
inode 272 offset 1880064 root 5
inode 357 offset 36864 root 5
inode 357 offset 36864 root 258
inode 272 offset 1880064 root 258
inode 270 offset 1191936 root 258
inode 270 offset 1191936 root 258
inode 281 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 18268160 /mnt/scratch
inode 281 offset 217088 root 258
inode 281 offset 217088 root 5
inode 268 offset 1097728 root 258
inode 268 offset 1097728 root 258
inode 268 offset 1097728 root 5
inode 268 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 19234816 /mnt/scratch
inode 281 offset 241664 root 258
inode 281 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 20721664 /mnt/scratch
inode 281 offset 282624 root 258
inode 281 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 20271104 /mnt/scratch
inode 281 offset 319488 root 258
inode 281 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 16125952 /mnt/scratch
inode 281 offset 368640 root 258
inode 281 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 246190080 /mnt/scratch
inode 281 offset 561152 root 258
inode 281 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 240680960 /mnt/scratch
inode 281 offset 581632 root 258
inode 281 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 16203776 /mnt/scratch
inode 281 offset 614400 root 258
inode 268 offset 1052672 root 258
inode 268 offset 1052672 root 5
inode 266 offset 638976 root 258
inode 266 offset 638976 root 5
inode 281 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 18886656 /mnt/scratch
inode 281 offset 708608 root 258
inode 281 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 20758528 /mnt/scratch
inode 281 offset 966656 root 258
inode 281 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 256901120 /mnt/scratch
inode 281 offset 978944 root 258
inode 281 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 256905216 /mnt/scratch
inode 281 offset 1871872 root 258
inode 281 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 267554816 /mnt/scratch
inode 281 offset 1888256 root 258
inode 281 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 256954368 /mnt/scratch
inode 281 offset 1921024 root 258
inode 281 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 256000000 /mnt/scratch
inode 281 offset 1953792 root 258
inode 281 offset 1953792 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
281
# /bin/btrfs inspect-internal logical-resolve -P 301105152 /mnt/scratch
inode 281 offset 1994752 root 258
inode 281 offset 1994752 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f36
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69 is 5731176 (1400 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      165..     169:      61973..     61977:      5:        165: shared
   1:      183..     185:       3953..      3955:      3:      61991: unwritten,shared
   2:      189..     192:       3959..      3962:      4:             unwritten,shared
   3:      225..     243:      59820..     59838:     19:       3995: shared
   4:      309..     330:      60533..     60554:     22:      59904: shared
   5:      374..     392:      63562..     63580:     19:      60598: shared
   6:      416..     419:      61328..     61331:      4:      63604: unwritten,shared
   7:      421..     436:      64586..     64601:     16:      61333: shared
   8:      447..     473:      60683..     60709:     27:      64612: shared
   9:      559..     559:      60555..     60555:      1:      60795: shared
  10:      564..     585:      60556..     60577:     22:             shared
  11:      586..     586:      61978..     61978:      1:      60578: shared
  12:      783..     792:      61979..     61988:     10:             shared
  13:      793..     793:      62719..     62719:      1:      61989: shared
  14:      952..     956:       4255..      4259:      5:      62878: unwritten,shared
  15:      959..     965:       4262..      4268:      7:             unwritten,shared
  16:      983..     990:      62285..     62292:      8:       4286: shared
  17:     1035..    1036:      67626..     67627:      2:      62337: unwritten,shared
  18:     1149..    1226:      63587..     63664:     78:      67740: unwritten,shared
  19:     1250..    1291:      63688..     63729:     42:             unwritten,shared
  20:     1292..    1296:       4264..      4268:      5:      63730: unwritten,shared
  21:     1323..    1327:      63761..     63765:      5:       4295: unwritten,shared
  22:     1354..    1399:      63792..     63837:     46:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69: 17 extents found
after filter: 253841408#20480#675840#shared 16191488#12288#749568#unwritten,shared 16216064#16384#774144#unwritten,shared 245022720#77824#921600#shared 247943168#90112#1265664#shared 260349952#77824#1531904#shared 251199488#16384#1703936#unwritten,shared 264544256#65536#1724416#shared 248557568#110592#1830912#shared 248033280#4096#2289664#shared 248037376#90112#2310144#shared 253861888#4096#2400256#shared 253865984#40960#3207168#shared 256897024#4096#3248128#shared 17428480#20480#3899392#unwritten,shared 17457152#28672#3928064#unwritten,shared 255119360#32768#4026368#shared 276996096#8192#4239360#unwritten,shared 260452352#319488#4706304#unwritten,shared 260866048#172032#5120000#unwritten,shared 17465344#20480#5292032#unwritten,shared 261165056#20480#5419008#unwritten,shared 261292032#188416#5545984#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 253841408 /mnt/scratch
inode 346 offset 675840 root 258
inode 346 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 16191488 /mnt/scratch
inode 346 offset 749568 root 258
inode 346 offset 749568 root 5
inode 268 offset 1040384 root 258
inode 268 offset 1040384 root 5
inode 266 offset 626688 root 258
inode 266 offset 626688 root 5
inode 306 offset 483328 root 258
inode 306 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 16216064 /mnt/scratch
inode 346 offset 774144 root 258
inode 353 offset 102400 root 258
inode 346 offset 774144 root 5
inode 353 offset 102400 root 5
inode 268 offset 1064960 root 258
inode 268 offset 1064960 root 5
inode 266 offset 651264 root 258
inode 266 offset 651264 root 5
inode 306 offset 507904 root 258
inode 306 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517794837
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 245022720 /mnt/scratch
inode 346 offset 921600 root 258
inode 346 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 247943168 /mnt/scratch
inode 346 offset 1265664 root 258
inode 346 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 260349952 /mnt/scratch
inode 346 offset 1531904 root 258
inode 346 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 251199488 /mnt/scratch
inode 346 offset 1703936 root 258
inode 313 offset 573440 root 258
inode 313 offset 495616 root 258
inode 313 offset 573440 root 258
inode 346 offset 1703936 root 5
inode 313 offset 573440 root 5
inode 313 offset 495616 root 5
inode 313 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 264544256 /mnt/scratch
inode 346 offset 1724416 root 258
inode 346 offset 1724416 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 248557568 /mnt/scratch
inode 346 offset 1830912 root 258
inode 346 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 248033280 /mnt/scratch
inode 346 offset 2289664 root 258
inode 346 offset 2289664 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 248037376 /mnt/scratch
inode 346 offset 2310144 root 258
inode 346 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 253861888 /mnt/scratch
inode 346 offset 2400256 root 258
inode 346 offset 2400256 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 253865984 /mnt/scratch
inode 346 offset 3207168 root 258
inode 346 offset 3207168 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 256897024 /mnt/scratch
inode 346 offset 3248128 root 258
inode 346 offset 3248128 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 255119360 /mnt/scratch
inode 346 offset 4026368 root 258
inode 346 offset 4026368 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 260452352 /mnt/scratch
inode 346 offset 4706304 root 258
inode 346 offset 4706304 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 260866048 /mnt/scratch
inode 346 offset 5120000 root 258
inode 346 offset 5120000 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 261165056 /mnt/scratch
inode 346 offset 5419008 root 258
inode 346 offset 5419008 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
346
# /bin/btrfs inspect-internal logical-resolve -P 261292032 /mnt/scratch
inode 346 offset 5545984 root 258
inode 346 offset 5545984 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/d50/f69
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a is 5836800 (1425 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      33:      60225..     60244:     20:         14: shared
   1:       34..      34:       4255..      4255:      1:      60245: unwritten,shared
   2:       38..      38:       4346..      4346:      1:       4259: unwritten,shared
   3:       70..      72:       5235..      5237:      3:       4378: shared
   4:       73..      73:      60090..     60090:      1:       5238: shared
   5:       99..     101:      58904..     58906:      3:      60116: unwritten,shared
   6:      102..     103:      61082..     61083:      2:      58907: unwritten,shared
   7:      104..     108:      58909..     58913:      5:      61084: unwritten,shared
   8:      109..     115:      61084..     61090:      7:      58914: unwritten,shared
   9:      116..     120:       3951..      3955:      5:      61091: unwritten,shared
  10:      121..     123:      61091..     61093:      3:       3956: unwritten,shared
  11:      124..     127:       3959..      3962:      4:      61094: unwritten,shared
  12:      128..     140:      61094..     61106:     13:       3963: unwritten,shared
  13:      166..     182:      61132..     61148:     17:             unwritten,shared
  14:      183..     202:      60245..     60264:     20:      61149: shared
  15:      203..     256:      61149..     61202:     54:      60265: unwritten,shared
  16:      275..     283:      61221..     61229:      9:             unwritten,shared
  17:      285..     287:      66758..     66760:      3:      61231: shared
  18:      288..     301:      61234..     61247:     14:      66761: shared
  19:      302..     304:      61248..     61250:      3:             unwritten,shared
  20:      315..     332:      61261..     61278:     18:             unwritten,shared
  21:      351..     352:      61297..     61298:      2:             unwritten,shared
  22:      381..     389:      61073..     61081:      9:      61327: shared
  23:      580..     582:      64214..     64216:      3:      61272: shared
  24:      631..     638:      64015..     64022:      8:      64265: shared
  25:      671..     697:      72879..     72905:     27:      64055: shared
  26:      739..     739:      69147..     69147:      1:      72947: shared
  27:      789..     811:      62742..     62764:     23:      69197: shared
  28:      812..     812:      66761..     66761:      1:      62765: shared
  29:      983..    1013:      66697..     66727:     31:      66932: shared
  30:     1087..    1091:       4255..      4259:      5:      66801: unwritten,shared
  31:     1094..    1100:       4262..      4268:      7:             unwritten,shared
  32:     1129..    1135:      70354..     70360:      7:       4297: shared
  33:     1158..    1175:      65820..     65837:     18:      70383: unwritten,shared
  34:     1176..    1176:      65838..     65838:      1:             shared
  35:     1398..    1398:      68416..     68416:      1:      66060: last,shared
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a: 29 extents found
after filter: 246681600#81920#57344#shared 17428480#4096#139264#unwritten,shared 17801216#4096#155648#unwritten,shared 21442560#12288#286720#shared 246128640#4096#299008#shared 241270784#12288#405504#unwritten,shared 250191872#8192#417792#unwritten,shared 241291264#20480#425984#unwritten,shared 250200064#28672#446464#unwritten,shared 16183296#20480#475136#unwritten,shared 250228736#12288#495616#unwritten,shared 16216064#16384#507904#unwritten,shared 250241024#53248#524288#unwritten,shared 250396672#69632#679936#unwritten,shared 246763520#81920#749568#shared 250466304#221184#831488#unwritten,shared 250761216#36864#1126400#unwritten,shared 273440768#12288#1167360#shared 250814464#57344#1179648#shared 250871808#12288#1236992#unwritten,shared 250925056#73728#1290240#unwritten,shared 251072512#8192#1437696#unwritten,shared 250155008#36864#1560576#shared 263020544#12288#2375680#shared 262205440#32768#2584576#shared 298512384#110592#2748416#shared 283226112#4096#3026944#shared 256991232#94208#3231744#shared 273453056#4096#3325952#shared 273190912#126976#4026368#shared 17428480#20480#4452352#unwritten,shared 17457152#28672#4481024#unwritten,shared 288169984#28672#4624384#shared 269598720#73728#4743168#unwritten,shared 269672448#4096#4816896#shared 280231936#4096#5726208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 246681600 /mnt/scratch
inode 306 offset 57344 root 258
inode 306 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 17801216 /mnt/scratch
inode 306 offset 155648 root 258
inode 306 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 21442560 /mnt/scratch
inode 306 offset 286720 root 258
inode 306 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 246128640 /mnt/scratch
inode 306 offset 299008 root 258
inode 306 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250191872 /mnt/scratch
inode 306 offset 417792 root 258
inode 306 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 241291264 /mnt/scratch
inode 316 offset 65536 root 5
inode 292 offset 552960 root 258
inode 290 offset 28672 root 258
inode 292 offset 552960 root 258
inode 292 offset 552960 root 5
inode 290 offset 28672 root 5
inode 292 offset 552960 root 5
inode 272 offset 1617920 root 5
inode 294 offset 851968 root 5
inode 349 offset 380928 root 5
inode 349 offset 1552384 root 5
inode 349 offset 1552384 root 5
inode 306 offset 425984 root 258
inode 306 offset 425984 root 5
inode 268 offset 1404928 root 258
inode 268 offset 1404928 root 5
inode 353 offset 458752 root 5
inode 349 offset 380928 root 258
inode 349 offset 1552384 root 258
inode 349 offset 1552384 root 258
inode 294 offset 851968 root 258
inode 272 offset 1617920 root 258
inode 316 offset 65536 root 258
inode 353 offset 458752 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250200064 /mnt/scratch
inode 306 offset 446464 root 258
inode 306 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 16183296 /mnt/scratch
inode 268 offset 1032192 root 258
inode 268 offset 1032192 root 5
inode 266 offset 618496 root 258
inode 266 offset 618496 root 5
inode 306 offset 475136 root 258
inode 306 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250228736 /mnt/scratch
inode 306 offset 495616 root 258
inode 306 offset 495616 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 16216064 /mnt/scratch
inode 346 offset 774144 root 258
inode 353 offset 102400 root 258
inode 346 offset 774144 root 5
inode 353 offset 102400 root 5
inode 268 offset 1064960 root 258
inode 268 offset 1064960 root 5
inode 266 offset 651264 root 258
inode 266 offset 651264 root 5
inode 306 offset 507904 root 258
inode 306 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250241024 /mnt/scratch
inode 306 offset 524288 root 258
inode 306 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250396672 /mnt/scratch
inode 306 offset 679936 root 258
inode 306 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 246763520 /mnt/scratch
inode 306 offset 749568 root 258
inode 306 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250466304 /mnt/scratch
inode 306 offset 831488 root 258
inode 306 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250761216 /mnt/scratch
inode 306 offset 1126400 root 258
inode 306 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 273440768 /mnt/scratch
inode 306 offset 1167360 root 258
inode 306 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250814464 /mnt/scratch
inode 306 offset 1179648 root 258
inode 306 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250871808 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518231898
inode 306 offset 1236992 root 258
inode 306 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250925056 /mnt/scratch
inode 306 offset 1290240 root 258
inode 306 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 251072512 /mnt/scratch
inode 306 offset 1437696 root 258
inode 306 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 250155008 /mnt/scratch
inode 306 offset 1560576 root 258
inode 306 offset 1560576 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 263020544 /mnt/scratch
inode 306 offset 2375680 root 258
inode 306 offset 2375680 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 262205440 /mnt/scratch
inode 306 offset 2584576 root 258
inode 306 offset 2584576 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 298512384 /mnt/scratch
inode 306 offset 2748416 root 258
inode 306 offset 2748416 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 283226112 /mnt/scratch
inode 306 offset 3026944 root 258
inode 306 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 256991232 /mnt/scratch
inode 306 offset 3231744 root 258
inode 306 offset 3231744 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 273453056 /mnt/scratch
inode 306 offset 3325952 root 258
inode 306 offset 3325952 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 273190912 /mnt/scratch
inode 306 offset 4026368 root 258
inode 306 offset 4026368 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 288169984 /mnt/scratch
inode 306 offset 4624384 root 258
inode 306 offset 4624384 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 269598720 /mnt/scratch
inode 306 offset 4743168 root 258
inode 306 offset 4743168 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 269672448 /mnt/scratch
inode 306 offset 4816896 root 258
inode 306 offset 4816896 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
306
# /bin/btrfs inspect-internal logical-resolve -P 280231936 /mnt/scratch
inode 306 offset 5726208 root 258
inode 306 offset 5726208 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f3d
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/f14a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f118
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f118 is 307200 (75 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      74:      66001..     66029:     29:         46: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f118: 1 extent found
after filter: 270340096#118784#188416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f118
480
# /bin/btrfs inspect-internal logical-resolve -P 270340096 /mnt/scratch
inode 480 offset 188416 root 258
inode 480 offset 188416 root 5
inode 379 offset 2076672 root 258
inode 379 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f118
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125 is 656203 (161 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      28:      60146..     60146:      1:         28: shared
   1:       30..      40:      68673..     68683:     11:      60148: shared
   2:      135..     160:      70282..     70307:     26:      68778: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125: 3 extents found
after filter: 246358016#4096#114688#shared 281284608#45056#122880#shared 287875072#106496#552960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
491
# /bin/btrfs inspect-internal logical-resolve -P 246358016 /mnt/scratch
inode 491 offset 114688 root 258
inode 491 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
491
# /bin/btrfs inspect-internal logical-resolve -P 281284608 /mnt/scratch
inode 491 offset 122880 root 258
inode 491 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
491
# /bin/btrfs inspect-internal logical-resolve -P 287875072 /mnt/scratch
inode 491 offset 552960 root 258
inode 491 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f125
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f81
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f81 is 3914425 (956 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       42..      46:       4264..      4268:      5:         42: unwritten,shared
   1:       73..      74:      67626..     67627:      2:       4295: unwritten,shared
   2:      187..     191:       4264..      4268:      5:      67740: unwritten,shared
   3:      274..     274:      59633..     59633:      1:       4351: shared
   4:      275..     276:      63894..     63895:      2:      59634: shared
   5:      277..     306:      63158..     63187:     30:      63896: shared
   6:      318..     322:      58931..     58935:      5:      63199: unwritten,shared
   7:      366..     385:      60397..     60416:     20:      58979: shared
   8:      402..     427:      59409..     59434:     26:      60433: shared
   9:      428..     428:      60089..     60089:      1:      59435: shared
  10:      468..     498:      61858..     61888:     31:      60129: shared
  11:      638..     639:      67280..     67281:      2:      62028: unwritten,shared
  12:      642..     652:      71211..     71221:     11:      67284: shared
  13:      653..     673:      61889..     61909:     21:      71222: shared
  14:      674..     674:      68841..     68841:      1:      61910: shared
  15:      908..     911:      71258..     71261:      4:      69075: shared
  16:      912..     912:      73509..     73509:      1:      71262: last,shared
/mnt/scratch/snap1/p0/d5/d6/d5b/f81: 17 extents found
after filter: 17465344#20480#172032#unwritten,shared 276996096#8192#299008#unwritten,shared 17465344#20480#765952#unwritten,shared 244256768#4096#1122304#shared 261709824#8192#1126400#shared 258695168#122880#1134592#shared 241381376#20480#1302528#unwritten,shared 247386112#81920#1499136#shared 243339264#106496#1646592#shared 246124544#4096#1753088#shared 253370368#126976#1916928#shared 275578880#8192#2613248#unwritten,shared 291680256#45056#2629632#shared 253497344#86016#2674688#shared 281972736#4096#2760704#shared 291872768#16384#3719168#shared 301092864#4096#3735552#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 244256768 /mnt/scratch
inode 335 offset 1122304 root 258
inode 335 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 261709824 /mnt/scratch
inode 335 offset 1126400 root 258
inode 335 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 258695168 /mnt/scratch
inode 335 offset 1134592 root 258
inode 335 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 241381376 /mnt/scratch
inode 335 offset 1302528 root 5
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 292 offset 1400832 root 258
inode 290 offset 303104 root 258
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 290 offset 303104 root 258
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 292 offset 1400832 root 5
inode 290 offset 303104 root 5
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 290 offset 303104 root 5
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 294 offset 1064960 root 5
inode 294 offset 1064960 root 5
inode 313 offset 708608 root 5
inode 313 offset 708608 root 5
inode 302 offset 770048 root 5
inode 302 offset 1269760 root 5
inode 302 offset 1269760 root 5
inode 294 offset 1064960 root 258
inode 294 offset 1064960 root 258
inode 302 offset 1269760 root 258
inode 302 offset 770048 root 258
inode 302 offset 1269760 root 258
inode 313 offset 708608 root 258
inode 313 offset 708608 root 258
inode 335 offset 1302528 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 247386112 /mnt/scratch
inode 335 offset 1499136 root 258
inode 335 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 243339264 /mnt/scratch
inode 335 offset 1646592 root 258
inode 335 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 246124544 /mnt/scratch
inode 335 offset 1753088 root 258
inode 335 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 253370368 /mnt/scratch
inode 335 offset 1916928 root 258
inode 335 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 291680256 /mnt/scratch
inode 335 offset 2629632 root 258
inode 335 offset 2629632 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 253497344 /mnt/scratch
inode 335 offset 2674688 root 258
inode 335 offset 2674688 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 281972736 /mnt/scratch
inode 335 offset 2760704 root 258
inode 335 offset 2760704 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 291872768 /mnt/scratch
inode 335 offset 3719168 root 258
inode 335 offset 3719168 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f81
335
# /bin/btrfs inspect-internal logical-resolve -P 301092864 /mnt/scratch
inode 335 offset 3735552 root 258
inode 335 offset 3735552 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d105/f175
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d105/f175 is 1370163 (335 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      34:      64892..     64898:      7:         28: shared
   1:       92..      95:      71792..     71795:      4:      64956: shared
   2:       96..      96:       4268..      4268:      1:      71796: unwritten,shared
   3:      133..     135:       4264..      4266:      3:       4305: unwritten,shared
   4:      197..     212:      68877..     68892:     16:       4328: shared
   5:      239..     245:      67120..     67126:      7:      68919: shared
   6:      246..     246:      70308..     70308:      1:      67127: last,shared
/mnt/scratch/snap1/p0/d5/dd/d105/f175: 7 extents found
after filter: 265797632#28672#114688#shared 294060032#16384#376832#shared 17481728#4096#393216#unwritten,shared 17465344#12288#544768#unwritten,shared 282120192#65536#806912#shared 274923520#28672#978944#shared 287981568#4096#1007616#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 265797632 /mnt/scratch
inode 457 offset 114688 root 258
inode 457 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 294060032 /mnt/scratch
inode 457 offset 376832 root 258
inode 457 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 17481728 /mnt/scratch
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 5
inode 306 offset 4505600 root 5
inode 266 offset 1114112 root 258
inode 266 offset 1114112 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 391 offset 135168 root 258
inode 390 offset 1937408 root 258
inode 391 offset 135168 root 5
inode 390 offset 1937408 root 5
inode 412 offset 671744 root 5
inode 422 offset 192512 root 5
inode 415 offset 299008 root 5
inode 415 offset 94208 root 5
inode 415 offset 299008 root 5
inode 281 offset 1527808 root 5
inode 281 offset 1527808 root 5
inode 292 offset 1634304 root 5
inode 292 offset 1634304 root 5
inode 294 offset 1880064 root 5
inode 294 offset 679936 root 5
inode 294 offset 1880064 root 5
inode 346 offset 3952640 root 5
inode 346 offset 5308416 root 5
inode 346 offset 5308416 root 5
inode 292 offset 901120 root 258
inode 286 offset 1650688 root 258
inode 292 offset 901120 root 5
inode 286 offset 1650688 root 5
inode 458 offset 339968 root 258
inode 459 offset 229376 root 258
inode 459 offset 86016 root 258
inode 459 offset 229376 root 258
inode 462 offset 65536 root 258
inode 463 offset 671744 root 258
inode 458 offset 339968 root 5
inode 459 offset 229376 root 5
inode 459 offset 86016 root 5
inode 459 offset 229376 root 5
inode 462 offset 65536 root 5
inode 463 offset 671744 root 5
inode 544 offset 253952 root 5
inode 531 offset 704512 root 5
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
inode 361 offset 77824 root 258
inode 361 offset 77824 root 5
inode 375 offset 1978368 root 5
inode 375 offset 1175552 root 5
inode 375 offset 1978368 root 5
inode 322 offset 2355200 root 5
inode 322 offset 1789952 root 5
inode 322 offset 2355200 root 5
inode 455 offset 503808 root 5
inode 457 offset 393216 root 5
inode 454 offset 327680 root 5
inode 447 offset 458752 root 5
inode 519 offset 114688 root 5
inode 498 offset 450560 root 5
inode 482 offset 77824 root 258
inode 482 offset 77824 root 5
inode 473 offset 1454080 root 258
inode 473 offset 589824 root 258
inode 473 offset 1454080 root 258
inode 473 offset 1454080 root 5
inode 473 offset 589824 root 5
inode 473 offset 1454080 root 5
inode 552 offset 69632 root 5
inode 335 offset 782336 root 5
inode 335 offset 188416 root 5
inode 335 offset 782336 root 5
inode 352 offset 49152 root 5
inode 444 offset 258048 root 5
inode 493 offset 163840 root 258
inode 486 offset 1011712 root 258
inode 493 offset 163840 root 5
inode 486 offset 1011712 root 5
inode 313 offset 1908736 root 5
inode 544 offset 253952 root 258
inode 531 offset 704512 root 258
inode 375 offset 1978368 root 258
inode 375 offset 1175552 root 258
inode 375 offset 1978368 root 258
inode 322 offset 2355200 root 258
inode 322 offset 1789952 root 258
inode 322 offset 2355200 root 258
inode 455 offset 503808 root 258
inode 457 offset 393216 root 258
inode 454 offset 327680 root 258
inode 447 offset 458752 root 258
inode 415 offset 299008 root 258
inode 415 offset 94208 root 258
inode 415 offset 299008 root 258
inode 422 offset 192512 root 258
inode 519 offset 114688 root 258
inode 498 offset 450560 root 258
inode 294 offset 1880064 root 258
inode 292 offset 1634304 root 258
inode 294 offset 679936 root 258
inode 294 offset 1880064 root 258
inode 552 offset 69632 root 258
inode 346 offset 3952640 root 258
inode 346 offset 5308416 root 258
inode 346 offset 5308416 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 281 offset 1527808 root 258
inode 281 offset 1527808 root 258
inode 335 offset 782336 root 258
inode 335 offset 188416 root 258
inode 335 offset 782336 root 258
inode 412 offset 671744 root 258
inode 352 offset 49152 root 258
inode 444 offset 258048 root 258
inode 313 offset 1908736 root 258
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517562871
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 282120192 /mnt/scratch
inode 457 offset 806912 root 258
inode 457 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 274923520 /mnt/scratch
inode 457 offset 978944 root 258
inode 457 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f175
457
# /bin/btrfs inspect-internal logical-resolve -P 287981568 /mnt/scratch
inode 457 offset 1007616 root 258
inode 457 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e is 1355776 (331 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      12:       4264..      4268:      5:          8: unwritten,shared
   1:       81..     107:      63217..     63243:     27:       4337: shared
   2:      108..     125:      61329..     61346:     18:      63244: unwritten,shared
   3:      126..     134:      62057..     62065:      9:      61347: shared
   4:      135..     135:      62837..     62837:      1:      62066: shared
   5:      136..     136:      61357..     61357:      1:      62838: unwritten,shared
   6:      137..     138:      67626..     67627:      2:      61358: unwritten,shared
   7:      143..     188:      72222..     72267:     46:      67632: unwritten,shared
   8:      189..     190:      61410..     61411:      2:      72268: unwritten,shared
   9:      191..     200:      72268..     72277:     10:      61412: unwritten,shared
  10:      201..     201:      73442..     73442:      1:      72278: shared
  11:      202..     222:      72278..     72298:     21:      73443: unwritten,shared
  12:      307..     330:      73101..     73124:     24:      72383: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e: 13 extents found
after filter: 17465344#20480#32768#unwritten,shared 258936832#110592#331776#shared 251203584#73728#442368#unwritten,shared 254185472#36864#516096#shared 257380352#4096#552960#shared 251318272#4096#557056#unwritten,shared 276996096#8192#561152#unwritten,shared 295821312#188416#585728#unwritten,shared 251535360#8192#774144#unwritten,shared 296009728#40960#782336#unwritten,shared 300818432#4096#823296#shared 296050688#86016#827392#unwritten,shared 299421696#98304#1257472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 258936832 /mnt/scratch
inode 352 offset 331776 root 258
inode 468 offset 823296 root 258
inode 352 offset 331776 root 5
inode 468 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 251203584 /mnt/scratch
inode 346 offset 1708032 root 258
inode 313 offset 577536 root 258
inode 313 offset 499712 root 258
inode 313 offset 577536 root 258
inode 352 offset 442368 root 258
inode 346 offset 1708032 root 5
inode 313 offset 577536 root 5
inode 313 offset 499712 root 5
inode 313 offset 577536 root 5
inode 352 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 254185472 /mnt/scratch
inode 352 offset 516096 root 258
inode 352 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 257380352 /mnt/scratch
inode 352 offset 552960 root 258
inode 352 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 251318272 /mnt/scratch
inode 352 offset 557056 root 258
inode 352 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 295821312 /mnt/scratch
inode 352 offset 585728 root 258
inode 352 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 251535360 /mnt/scratch
inode 352 offset 774144 root 258
inode 352 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 296009728 /mnt/scratch
inode 352 offset 782336 root 258
inode 352 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 300818432 /mnt/scratch
inode 352 offset 823296 root 258
inode 352 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 296050688 /mnt/scratch
inode 352 offset 827392 root 258
inode 352 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
352
# /bin/btrfs inspect-internal logical-resolve -P 299421696 /mnt/scratch
inode 352 offset 1257472 root 258
inode 352 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115 is 425984 (104 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      28:      67626..     67627:      2:         27: unwritten,shared
   1:       83..      95:      70268..     70280:     13:      67682: shared
   2:       96..     103:      64960..     64967:      8:      70281: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115: 3 extents found
after filter: 276996096#8192#110592#unwritten,shared 287817728#53248#339968#shared 266076160#32768#393216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
477
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
477
# /bin/btrfs inspect-internal logical-resolve -P 287817728 /mnt/scratch
inode 477 offset 339968 root 258
inode 477 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
477
# /bin/btrfs inspect-internal logical-resolve -P 266076160 /mnt/scratch
inode 477 offset 393216 root 258
inode 477 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f115
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f38
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f38 is 3276800 (800 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..       7:      67626..     67627:      2:          6: unwritten,shared
   1:       39..      53:      66799..     66813:     15:      67659: shared
   2:       56..      64:       4961..      4969:      9:      66816: shared
   3:       65..      95:      67827..     67857:     31:       4970: shared
   4:       96..      96:      59377..     59377:      1:      67858: shared
   5:      122..     123:      63215..     63216:      2:      59403: shared
   6:      164..     166:       4244..      4246:      3:      63257: unwritten,shared
   7:      185..     189:      58928..     58932:      5:       4265: unwritten,shared
   8:      190..     200:      68662..     68672:     11:      58933: shared
   9:      230..     249:      72508..     72527:     20:      68702: shared
  10:      250..     280:      59378..     59408:     31:      72528: shared
  11:      307..     317:      58928..     58938:     11:      59435: unwritten,shared
  12:      318..     320:       4357..      4359:      3:      58939: unwritten,shared
  13:      338..     354:      62175..     62191:     17:       4377: shared
  14:      355..     368:      69826..     69839:     14:      62192: shared
  15:      369..     370:      62206..     62207:      2:      69840: shared
  16:      371..     371:      59494..     59494:      1:      62208: shared
  17:      510..     518:      70778..     70786:      9:      59633: shared
  18:      530..     532:      64673..     64675:      3:      70798: shared
  19:      533..     533:      66814..     66814:      1:      64676: shared
  20:      587..     589:      66815..     66817:      3:             shared
  21:      777..     777:      66665..     66665:      1:      67005: shared
  22:      778..     785:      69840..     69847:      8:      66666: shared
  23:      786..     799:      66674..     66687:     14:      69848: last,shared,eof
/mnt/scratch/snap1/p0/d5/f38: 23 extents found
after filter: 276996096#8192#24576#unwritten,shared 273608704#61440#159744#shared 20320256#36864#229376#shared 277819392#126976#266240#shared 243208192#4096#393216#shared 258928640#8192#499712#shared 17383424#12288#671744#unwritten,shared 241369088#20480#757760#unwritten,shared 281239552#45056#778240#shared 296992768#81920#942080#shared 243212288#126976#1024000#shared 241369088#45056#1257472#unwritten,shared 17846272#12288#1302528#unwritten,shared 254668800#69632#1384448#shared 286007296#57344#1454080#shared 254795776#8192#1511424#shared 243687424#4096#1519616#shared 289906688#36864#2088960#shared 264900608#12288#2170880#shared 273670144#4096#2183168#shared 273674240#12288#2404352#shared 273059840#4096#3182592#shared 286064640#32768#3186688#shared 273096704#57344#3219456#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 273608704 /mnt/scratch
inode 302 offset 159744 root 258
inode 302 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 20320256 /mnt/scratch
inode 302 offset 229376 root 258
inode 302 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 277819392 /mnt/scratch
inode 302 offset 266240 root 258
inode 302 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 243208192 /mnt/scratch
inode 302 offset 393216 root 258
inode 302 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 258928640 /mnt/scratch
inode 302 offset 499712 root 258
inode 302 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 17383424 /mnt/scratch
inode 302 offset 671744 root 5
inode 292 offset 802816 root 258
inode 292 offset 802816 root 5
inode 316 offset 376832 root 5
inode 316 offset 376832 root 258
inode 302 offset 671744 root 258
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 281239552 /mnt/scratch
inode 302 offset 778240 root 258
inode 302 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 296992768 /mnt/scratch
background rm
inode 302 offset 942080 root 258
inode 302 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
seed = 1518301538
302
# /bin/btrfs inspect-internal logical-resolve -P 243212288 /mnt/scratch
inode 302 offset 1024000 root 258
inode 302 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 17846272 /mnt/scratch
inode 292 offset 1605632 root 258
inode 272 offset 831488 root 258
inode 302 offset 1302528 root 258
inode 292 offset 1605632 root 5
inode 272 offset 831488 root 5
inode 302 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 254668800 /mnt/scratch
inode 302 offset 1384448 root 258
inode 302 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 286007296 /mnt/scratch
inode 302 offset 1454080 root 258
inode 302 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 254795776 /mnt/scratch
inode 302 offset 1511424 root 258
inode 302 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 243687424 /mnt/scratch
inode 302 offset 1519616 root 258
inode 302 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 289906688 /mnt/scratch
inode 302 offset 2088960 root 258
inode 302 offset 2088960 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 264900608 /mnt/scratch
inode 302 offset 2170880 root 258
inode 302 offset 2170880 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 273670144 /mnt/scratch
inode 302 offset 2183168 root 258
inode 302 offset 2183168 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 273674240 /mnt/scratch
inode 302 offset 2404352 root 258
inode 302 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 273059840 /mnt/scratch
inode 302 offset 3182592 root 258
inode 302 offset 3182592 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 286064640 /mnt/scratch
inode 302 offset 3186688 root 258
inode 302 offset 3186688 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# stat -c %i /mnt/scratch/snap1/p0/d5/f38
302
# /bin/btrfs inspect-internal logical-resolve -P 273096704 /mnt/scratch
inode 302 offset 3219456 root 258
inode 302 offset 3219456 root 5
# /bin/btrfs inspect-internal inode-resolve 302 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f38
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c is 2248704 (549 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      15:      59021..     59033:     13:          3: unwritten,shared
   1:       23..      27:      59041..     59045:      5:             unwritten,shared
   2:       87..      92:      65957..     65962:      6:      59105: unwritten,shared
   3:       93..      96:      58909..     58912:      4:      65963: unwritten,shared
   4:       97..     114:      65963..     65980:     18:      58913: unwritten,shared
   5:      115..     144:      62522..     62551:     30:      65981: shared
   6:      145..     152:      59977..     59984:      8:      62552: unwritten,shared
   7:      153..     172:      65981..     66000:     20:      59985: unwritten,shared
   8:      173..     181:      60005..     60013:      9:      66001: unwritten,shared
   9:      186..     191:      60018..     60023:      6:             unwritten,shared
  10:      200..     200:      67281..     67281:      1:      60032: unwritten,shared
  11:      220..     226:      61911..     61917:      7:      67301: shared
  12:      231..     257:      61918..     61944:     27:             shared
  13:      323..     324:      66902..     66903:      2:      62010: shared
  14:      374..     375:      58904..     58905:      2:      66953: unwritten,shared
  15:      378..     383:      58908..     58913:      6:             unwritten,shared
  16:      417..     417:      62959..     62959:      1:      58947: shared
  17:      421..     441:      61945..     61965:     21:      62963: shared
  18:      442..     442:      62741..     62741:      1:      61966: shared
  19:      538..     548:      62417..     62427:     11:      62837: shared,eof
  20:      628..     791:      61592..     61755:    164:      62507: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c: 17 extents found
after filter: 241750016#53248#12288#unwritten,shared 241831936#20480#94208#unwritten,shared 270159872#24576#356352#unwritten,shared 241291264#16384#380928#unwritten,shared 270184448#73728#397312#unwritten,shared 256090112#122880#471040#shared 245665792#32768#593920#unwritten,shared 270258176#81920#626688#unwritten,shared 245780480#36864#708608#unwritten,shared 245833728#24576#761856#unwritten,shared 275582976#4096#819200#unwritten,shared 253587456#28672#901120#shared 253616128#110592#946176#shared 274030592#8192#1323008#shared 241270784#8192#1531904#unwritten,shared 241287168#24576#1548288#unwritten,shared 257880064#4096#1708032#shared 253726720#86016#1724416#shared 256987136#4096#1810432#shared 255660032#45056#2203648#shared,eof 252280832#671744#2572288#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 241750016 /mnt/scratch
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 349 offset 12288 root 258
inode 270 offset 4108288 root 258
inode 292 offset 1134592 root 258
inode 292 offset 630784 root 258
inode 292 offset 1134592 root 258
inode 292 offset 1134592 root 5
inode 292 offset 630784 root 5
inode 292 offset 1134592 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 349 offset 12288 root 5
inode 270 offset 4108288 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 241831936 /mnt/scratch
inode 272 offset 3166208 root 258
inode 272 offset 3317760 root 258
inode 272 offset 3166208 root 258
inode 272 offset 3317760 root 258
inode 349 offset 94208 root 258
inode 272 offset 3166208 root 5
inode 272 offset 3317760 root 5
inode 272 offset 3166208 root 5
inode 272 offset 3317760 root 5
inode 349 offset 94208 root 5
inode 292 offset 712704 root 258
inode 292 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 270159872 /mnt/scratch
inode 349 offset 356352 root 258
inode 349 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 241291264 /mnt/scratch
inode 316 offset 65536 root 5
inode 292 offset 552960 root 258
inode 290 offset 28672 root 258
inode 292 offset 552960 root 258
inode 292 offset 552960 root 5
inode 290 offset 28672 root 5
inode 292 offset 552960 root 5
inode 272 offset 1617920 root 5
inode 294 offset 851968 root 5
inode 349 offset 380928 root 5
inode 349 offset 1552384 root 5
inode 349 offset 1552384 root 5
inode 306 offset 425984 root 258
inode 306 offset 425984 root 5
inode 268 offset 1404928 root 258
inode 268 offset 1404928 root 5
inode 353 offset 458752 root 5
inode 349 offset 380928 root 258
inode 349 offset 1552384 root 258
inode 349 offset 1552384 root 258
inode 294 offset 851968 root 258
inode 272 offset 1617920 root 258
inode 316 offset 65536 root 258
inode 353 offset 458752 root 258
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 270184448 /mnt/scratch
inode 349 offset 397312 root 258
inode 349 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 256090112 /mnt/scratch
inode 349 offset 471040 root 258
inode 349 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 245665792 /mnt/scratch
inode 349 offset 593920 root 258
inode 349 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 270258176 /mnt/scratch
inode 349 offset 626688 root 258
inode 349 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 245780480 /mnt/scratch
inode 349 offset 708608 root 258
inode 349 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 245833728 /mnt/scratch
inode 349 offset 761856 root 258
inode 349 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 253587456 /mnt/scratch
inode 349 offset 901120 root 258
inode 349 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 253616128 /mnt/scratch
inode 349 offset 946176 root 258
inode 349 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 274030592 /mnt/scratch
inode 349 offset 1323008 root 258
inode 349 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 241287168 /mnt/scratch
inode 316 offset 61440 root 5
inode 292 offset 548864 root 258
inode 290 offset 24576 root 258
inode 292 offset 548864 root 258
inode 292 offset 548864 root 5
inode 290 offset 24576 root 5
inode 292 offset 548864 root 5
inode 272 offset 1613824 root 5
inode 294 offset 847872 root 5
inode 349 offset 1548288 root 5
inode 349 offset 1548288 root 5
inode 353 offset 454656 root 5
inode 349 offset 1548288 root 258
inode 349 offset 1548288 root 258
inode 294 offset 847872 root 258
inode 272 offset 1613824 root 258
inode 316 offset 61440 root 258
inode 353 offset 454656 root 258
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 257880064 /mnt/scratch
inode 349 offset 1708032 root 258
inode 349 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 253726720 /mnt/scratch
inode 349 offset 1724416 root 258
inode 349 offset 1724416 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 256987136 /mnt/scratch
inode 349 offset 1810432 root 258
inode 349 offset 1810432 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 255660032 /mnt/scratch
inode 349 offset 2203648 root 258
inode 349 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518023758
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
349
# /bin/btrfs inspect-internal logical-resolve -P 252280832 /mnt/scratch
inode 349 offset 2572288 root 258
inode 349 offset 2572288 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/da0/f15c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b is 2150400 (525 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      17:      66518..     66518:      1:         17: shared
   1:      106..     110:       4264..      4268:      5:      66607: unwritten,shared
   2:      169..     182:      70839..     70852:     14:       4327: shared
   3:      212..     218:      66519..     66525:      7:      70882: shared
   4:      219..     231:      70853..     70865:     13:      66526: shared
   5:      232..     241:      66539..     66548:     10:      70866: shared
   6:      242..     242:      69667..     69667:      1:      66549: shared
   7:      302..     304:      69668..     69670:      3:             shared
   8:      367..     391:      69671..     69695:     25:             shared
   9:      392..     392:      71364..     71364:      1:      69696: last,shared
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b: 8 extents found
after filter: 272457728#4096#69632#shared 17465344#20480#434176#unwritten,shared 290156544#57344#692224#shared 272461824#28672#868352#shared 290213888#53248#897024#shared 272543744#40960#950272#shared 285356032#4096#991232#shared 285360128#12288#1236992#shared 285372416#102400#1503232#shared 292306944#4096#1605632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 272457728 /mnt/scratch
inode 498 offset 69632 root 258
inode 498 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 290156544 /mnt/scratch
inode 498 offset 692224 root 258
inode 498 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 272461824 /mnt/scratch
inode 498 offset 868352 root 258
inode 498 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 290213888 /mnt/scratch
inode 498 offset 897024 root 258
inode 498 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 272543744 /mnt/scratch
inode 498 offset 950272 root 258
inode 498 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 285356032 /mnt/scratch
inode 498 offset 991232 root 258
inode 498 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 285360128 /mnt/scratch
inode 498 offset 1236992 root 258
inode 498 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 285372416 /mnt/scratch
inode 498 offset 1503232 root 258
inode 498 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
498
# /bin/btrfs inspect-internal logical-resolve -P 292306944 /mnt/scratch
inode 498 offset 1605632 root 258
inode 498 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 498 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f14b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8 is 2913396 (712 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       30..      30:      58928..     58928:      1:         30: unwritten,shared
   1:      249..     251:      61968..     61970:      3:      59147: last,shared
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8: 2 extents found
after filter: 241369088#4096#122880#unwritten,shared 253820928#12288#1019904#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8
428
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8
428
# /bin/btrfs inspect-internal logical-resolve -P 253820928 /mnt/scratch
inode 267 offset 962560 root 258
inode 267 offset 962560 root 5
inode 428 offset 1019904 root 258
inode 428 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/fd8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc is 1798144 (439 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      23:       4264..      4268:      5:         19: unwritten,shared
   1:       69..      73:       4264..      4268:      5:       4314: unwritten,shared
   2:      185..     190:      60720..     60725:      6:       4380: unwritten,shared
   3:      191..     206:      59336..     59351:     16:      60726: shared
   4:      207..     254:      65541..     65588:     48:      59352: unwritten,shared
   5:      280..     314:      65614..     65648:     35:             unwritten,shared
   6:      329..     339:      64752..     64762:     11:      65663: shared
   7:      340..     340:      70820..     70820:      1:      64763: shared
   8:      352..     424:      71796..     71868:     73:      70832: unwritten,shared
   9:      432..     433:      71876..     71877:      2:             unwritten,shared
  10:      434..     438:      70636..     70640:      5:      71878: shared,eof
  11:      439..     595:      71878..     72034:    157:      70641: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc: 10 extents found
after filter: 17465344#20480#77824#unwritten,shared 17465344#20480#282624#unwritten,shared 248709120#24576#757760#unwritten,shared 243040256#65536#782336#shared 268455936#196608#847872#unwritten,shared 268754944#143360#1146880#unwritten,shared 265224192#45056#1347584#shared 290078720#4096#1392640#shared 294076416#299008#1441792#unwritten,shared 294404096#8192#1769472#unwritten,shared 289325056#20480#1777664#shared,eof 294412288#643072#1798144#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 248709120 /mnt/scratch
inode 334 offset 671744 root 258
inode 415 offset 757760 root 258
inode 334 offset 671744 root 5
inode 415 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 243040256 /mnt/scratch
inode 334 offset 696320 root 258
inode 415 offset 782336 root 258
inode 334 offset 696320 root 5
inode 415 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 268455936 /mnt/scratch
inode 415 offset 847872 root 258
inode 415 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 268754944 /mnt/scratch
inode 415 offset 1146880 root 258
inode 415 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 265224192 /mnt/scratch
inode 415 offset 1347584 root 258
inode 415 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 290078720 /mnt/scratch
inode 415 offset 1392640 root 258
inode 415 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 294076416 /mnt/scratch
inode 415 offset 1441792 root 258
inode 415 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 294404096 /mnt/scratch
inode 415 offset 1769472 root 258
inode 415 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 289325056 /mnt/scratch
inode 415 offset 1777664 root 258
inode 415 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
415
# /bin/btrfs inspect-internal logical-resolve -P 294412288 /mnt/scratch
inode 415 offset 1798144 root 258
inode 415 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/fcc
/mnt/scratch/snap1/p0/d5/db4/d172/d132/f176
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/f9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/f9 is 3575808 (873 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      127..     127:       4668..      4668:      1:        127: shared
   1:      143..     172:       3943..      3972:     30:       4684: unwritten,shared
   2:      173..     191:       4992..      5010:     19:       3973: shared
   3:      192..     197:       4816..      4821:      6:       5011: shared
   4:      198..     209:       3998..      4009:     12:       4822: unwritten,shared
   5:      210..     211:      62972..     62973:      2:       4010: unwritten,shared
   6:      212..     220:      61784..     61792:      9:      62974: shared
   7:      221..     251:      70696..     70726:     31:      61793: shared
   8:      252..     257:       4052..      4057:      6:      70727: unwritten,shared
   9:      258..     258:      60265..     60265:      1:       4058: shared
  10:      259..     263:       4255..      4259:      5:      60266: unwritten,shared
  11:      266..     272:       4262..      4268:      7:             unwritten,shared
  12:      277..     277:      60266..     60266:      1:       4273: shared
  13:      287..     294:      60267..     60274:      8:             shared
  14:      295..     314:      61758..     61777:     20:      60275: shared
  15:      315..     315:      61015..     61015:      1:      61778: shared
  16:      316..     331:      60296..     60311:     16:      61016: shared
  17:      332..     338:      59527..     59533:      7:      60312: shared
  18:      369..     369:      62880..     62880:      1:      59564: shared
  19:      376..     380:      64644..     64648:      5:      62887: shared
  20:      487..     498:      62881..     62892:     12:      64755: shared
  21:      499..     499:      64077..     64077:      1:      62893: shared
  22:      526..     527:      67626..     67627:      2:      64104: unwritten,shared
  23:      853..     872:      73182..     73201:     20:      67953: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/f9: 22 extents found
after filter: 19120128#4096#520192#shared 16150528#122880#585728#unwritten,shared 20447232#77824#708608#shared 19726336#24576#786432#shared 16375808#49152#811008#unwritten,shared 257933312#8192#860160#unwritten,shared 253067264#36864#868352#shared 289570816#126976#905216#shared 16596992#24576#1032192#unwritten,shared 246845440#4096#1056768#shared 17428480#20480#1060864#unwritten,shared 17457152#28672#1089536#unwritten,shared 246849536#4096#1134592#shared 246853632#32768#1175552#shared 252960768#81920#1208320#shared 249917440#4096#1290240#shared 246972416#65536#1294336#shared 243822592#28672#1359872#shared 257556480#4096#1511424#shared 264781824#20480#1540096#shared 257560576#49152#1994752#shared 262459392#4096#2043904#shared 276996096#8192#2154496#unwritten,shared 299753472#81920#3493888#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 19120128 /mnt/scratch
inode 266 offset 520192 root 258
inode 266 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 16150528 /mnt/scratch
inode 266 offset 585728 root 258
inode 266 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 20447232 /mnt/scratch
background rm
inode 266 offset 708608 root 258
inode 266 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517812254
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 19726336 /mnt/scratch
inode 266 offset 786432 root 258
inode 266 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 16375808 /mnt/scratch
inode 266 offset 811008 root 258
inode 266 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 257933312 /mnt/scratch
inode 266 offset 860160 root 258
inode 266 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 253067264 /mnt/scratch
inode 266 offset 868352 root 258
inode 266 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 289570816 /mnt/scratch
inode 266 offset 905216 root 258
inode 266 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 16596992 /mnt/scratch
inode 266 offset 1032192 root 258
inode 266 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 246845440 /mnt/scratch
inode 266 offset 1056768 root 258
inode 266 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 246849536 /mnt/scratch
inode 266 offset 1134592 root 258
inode 266 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 246853632 /mnt/scratch
inode 266 offset 1175552 root 258
inode 266 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 252960768 /mnt/scratch
inode 266 offset 1208320 root 258
inode 266 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 249917440 /mnt/scratch
inode 266 offset 1290240 root 258
inode 266 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 246972416 /mnt/scratch
inode 266 offset 1294336 root 258
inode 266 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 243822592 /mnt/scratch
inode 266 offset 1359872 root 258
inode 266 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 257556480 /mnt/scratch
inode 266 offset 1511424 root 258
inode 266 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 264781824 /mnt/scratch
inode 266 offset 1540096 root 258
inode 266 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 257560576 /mnt/scratch
inode 266 offset 1994752 root 258
inode 266 offset 1994752 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 262459392 /mnt/scratch
inode 266 offset 2043904 root 258
inode 266 offset 2043904 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/f9
266
# /bin/btrfs inspect-internal logical-resolve -P 299753472 /mnt/scratch
inode 266 offset 3493888 root 258
inode 266 offset 3493888 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/f9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4 is 2880717 (704 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       1:      66856..     66856:      1:          1: shared
   1:       79..      88:      65885..     65894:     10:      66934: shared
   2:      253..     259:      65297..     65303:      7:      66059: shared
   3:      260..     285:      68960..     68985:     26:      65304: shared
   4:      673..     703:      69715..     69745:     31:      69373: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4: 5 extents found
after filter: 273842176#4096#4096#shared 269864960#40960#323584#shared 267456512#28672#1036288#shared 282460160#106496#1064960#shared 285552640#126976#2756608#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
389
# /bin/btrfs inspect-internal logical-resolve -P 273842176 /mnt/scratch
inode 389 offset 4096 root 258
inode 389 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 389 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
389
# /bin/btrfs inspect-internal logical-resolve -P 269864960 /mnt/scratch
inode 389 offset 323584 root 258
inode 389 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 389 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
389
# /bin/btrfs inspect-internal logical-resolve -P 267456512 /mnt/scratch
inode 389 offset 1036288 root 258
inode 389 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 389 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
389
# /bin/btrfs inspect-internal logical-resolve -P 282460160 /mnt/scratch
inode 389 offset 1064960 root 258
inode 389 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 389 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
389
# /bin/btrfs inspect-internal logical-resolve -P 285552640 /mnt/scratch
inode 389 offset 2756608 root 258
inode 389 offset 2756608 root 5
# /bin/btrfs inspect-internal inode-resolve 389 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fa4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128 is 700416 (171 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      40:       4264..      4268:      5:         36: unwritten,shared
   1:      117..     128:      66994..     67005:     12:       4345: shared
   2:      129..     129:      70641..     70641:      1:      67006: shared
   3:      159..     170:      70401..     70412:     12:      70671: shared,eof
   4:      323..     478:      66085..     66240:    156:      70565: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128: 5 extents found
after filter: 17465344#20480#147456#unwritten,shared 274407424#49152#479232#shared 289345536#4096#528384#shared 288362496#49152#651264#shared,eof 270684160#638976#1323008#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
493
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
493
# /bin/btrfs inspect-internal logical-resolve -P 274407424 /mnt/scratch
inode 493 offset 479232 root 258
inode 493 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
493
# /bin/btrfs inspect-internal logical-resolve -P 289345536 /mnt/scratch
inode 493 offset 528384 root 258
inode 493 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
493
# /bin/btrfs inspect-internal logical-resolve -P 288362496 /mnt/scratch
inode 493 offset 651264 root 258
inode 493 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
493
# /bin/btrfs inspect-internal logical-resolve -P 270684160 /mnt/scratch
inode 493 offset 1323008 root 258
inode 493 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f128
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156 is 1900544 (464 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      64:      68801..     68811:     11:         54: shared
   1:      168..     172:       4264..      4268:      5:      68915: unwritten,shared
   2:      296..     312:      70728..     70744:     17:       4392: shared
   3:      313..     313:      73496..     73496:      1:      70745: shared
   4:      443..     463:      73161..     73181:     21:      73626: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156: 5 extents found
after filter: 281808896#45056#221184#shared 17465344#20480#688128#unwritten,shared 289701888#69632#1212416#shared 301039616#4096#1282048#shared 299667456#86016#1814528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
531
# /bin/btrfs inspect-internal logical-resolve -P 281808896 /mnt/scratch
inode 531 offset 221184 root 258
inode 531 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
531
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
531
# /bin/btrfs inspect-internal logical-resolve -P 289701888 /mnt/scratch
inode 531 offset 1212416 root 258
inode 531 offset 1212416 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
531
# /bin/btrfs inspect-internal logical-resolve -P 301039616 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 531 offset 1282048 root 258
inode 531 offset 1282048 root 5
seed = 1517389105
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
531
# /bin/btrfs inspect-internal logical-resolve -P 299667456 /mnt/scratch
inode 531 offset 1814528 root 258
inode 531 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/dd6/d144/f156
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f163
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f163 is 2985818 (729 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      206..     212:      66243..     66249:      7:        206: shared
   1:      220..     224:       4255..      4259:      5:      66257: unwritten,shared
   2:      227..     233:       4262..      4268:      7:             unwritten,shared
   3:      244..     244:      63582..     63582:      1:       4279: shared
   4:      349..     368:      62974..     62993:     20:      63687: shared
   5:      474..     488:      64277..     64291:     15:      63099: shared
   6:      709..     728:      70966..     70985:     20:      64512: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d5b/f163: 6 extents found
after filter: 271331328#28672#843776#shared 17428480#20480#901120#unwritten,shared 17457152#28672#929792#unwritten,shared 260431872#4096#999424#shared 257941504#81920#1429504#shared 263278592#61440#1941504#shared 290676736#81920#2904064#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 271331328 /mnt/scratch
inode 382 offset 843776 root 258
inode 382 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 260431872 /mnt/scratch
inode 382 offset 999424 root 258
inode 382 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 257941504 /mnt/scratch
inode 382 offset 1429504 root 258
inode 382 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 263278592 /mnt/scratch
inode 382 offset 1941504 root 258
inode 382 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f163
382
# /bin/btrfs inspect-internal logical-resolve -P 290676736 /mnt/scratch
inode 382 offset 2904064 root 258
inode 382 offset 2904064 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f163
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/fcb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/fcb is 532480 (130 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      41:      67281..     67281:      1:         41: unwritten,shared
   1:       82..     108:      65347..     65373:     27:      67322: shared
   2:      109..     129:      64825..     64845:     21:      65374: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/fcb: 3 extents found
after filter: 275582976#4096#167936#unwritten,shared 267661312#110592#335872#shared 265523200#86016#446464#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/fcb
419
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/fcb
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/fcb
419
# /bin/btrfs inspect-internal logical-resolve -P 267661312 /mnt/scratch
inode 419 offset 335872 root 258
inode 419 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/fcb
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/fcb
419
# /bin/btrfs inspect-internal logical-resolve -P 265523200 /mnt/scratch
inode 419 offset 446464 root 258
inode 419 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/fcb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7 is 2134942 (522 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       20..      24:       4255..      4259:      5:         20: unwritten,shared
   1:       27..      33:       4262..      4268:      7:             unwritten,shared
   2:       76..      77:      67626..     67627:      2:       4311: unwritten,shared
   3:       79..      80:      67280..     67281:      2:      67629: unwritten,shared
   4:       89..     120:      62895..     62926:     32:      67290: shared
   5:      303..     304:      68577..     68578:      2:      63109: unwritten,shared
   6:      305..     319:      66368..     66382:     15:      68579: shared
   7:      491..     521:      73332..     73362:     31:      66554: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7: 7 extents found
after filter: 17428480#20480#81920#unwritten,shared 17457152#28672#110592#unwritten,shared 276996096#8192#311296#unwritten,shared 275578880#8192#323584#unwritten,shared 257617920#131072#364544#shared 280891392#8192#1241088#unwritten,shared 271843328#61440#1249280#shared 300367872#126976#2011136#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 257617920 /mnt/scratch
inode 391 offset 364544 root 258
inode 391 offset 364544 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 280891392 /mnt/scratch
inode 391 offset 1241088 root 258
inode 391 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 271843328 /mnt/scratch
inode 391 offset 1249280 root 258
inode 391 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 300367872 /mnt/scratch
inode 391 offset 2011136 root 258
inode 391 offset 2011136 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/fa7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f178
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f178 is 558654 (137 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      136..     136:      71759..     71759:      1:        136: shared,eof
   1:      137..     364:      71516..     71743:    228:      71760: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d5b/f178: 2 extents found
after filter: 293924864#4096#557056#shared,eof 292929536#933888#561152#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f178
555
# /bin/btrfs inspect-internal logical-resolve -P 293924864 /mnt/scratch
inode 555 offset 557056 root 258
inode 555 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f178
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f178
555
# /bin/btrfs inspect-internal logical-resolve -P 292929536 /mnt/scratch
inode 555 offset 561152 root 258
inode 555 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f178
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc is 1370163 (335 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      34:      64892..     64898:      7:         28: shared
   1:       92..      95:      71792..     71795:      4:      64956: shared
   2:       96..      96:       4268..      4268:      1:      71796: unwritten,shared
   3:      133..     135:       4264..      4266:      3:       4305: unwritten,shared
   4:      197..     212:      68877..     68892:     16:       4328: shared
   5:      239..     245:      67120..     67126:      7:      68919: shared
   6:      246..     246:      70308..     70308:      1:      67127: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc: 7 extents found
after filter: 265797632#28672#114688#shared 294060032#16384#376832#shared 17481728#4096#393216#unwritten,shared 17465344#12288#544768#unwritten,shared 282120192#65536#806912#shared 274923520#28672#978944#shared 287981568#4096#1007616#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 265797632 /mnt/scratch
inode 457 offset 114688 root 258
inode 457 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 294060032 /mnt/scratch
inode 457 offset 376832 root 258
inode 457 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 17481728 /mnt/scratch
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 5
inode 306 offset 4505600 root 5
inode 266 offset 1114112 root 258
inode 266 offset 1114112 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 391 offset 135168 root 258
inode 390 offset 1937408 root 258
inode 391 offset 135168 root 5
inode 390 offset 1937408 root 5
inode 412 offset 671744 root 5
inode 422 offset 192512 root 5
inode 415 offset 299008 root 5
inode 415 offset 94208 root 5
inode 415 offset 299008 root 5
inode 281 offset 1527808 root 5
inode 281 offset 1527808 root 5
inode 292 offset 1634304 root 5
inode 292 offset 1634304 root 5
inode 294 offset 1880064 root 5
inode 294 offset 679936 root 5
inode 294 offset 1880064 root 5
inode 346 offset 3952640 root 5
inode 346 offset 5308416 root 5
inode 346 offset 5308416 root 5
inode 292 offset 901120 root 258
inode 286 offset 1650688 root 258
inode 292 offset 901120 root 5
inode 286 offset 1650688 root 5
inode 458 offset 339968 root 258
inode 459 offset 229376 root 258
inode 459 offset 86016 root 258
inode 459 offset 229376 root 258
inode 462 offset 65536 root 258
inode 463 offset 671744 root 258
inode 458 offset 339968 root 5
inode 459 offset 229376 root 5
inode 459 offset 86016 root 5
inode 459 offset 229376 root 5
inode 462 offset 65536 root 5
inode 463 offset 671744 root 5
inode 544 offset 253952 root 5
inode 531 offset 704512 root 5
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
inode 361 offset 77824 root 258
inode 361 offset 77824 root 5
inode 375 offset 1978368 root 5
inode 375 offset 1175552 root 5
inode 375 offset 1978368 root 5
inode 322 offset 2355200 root 5
inode 322 offset 1789952 root 5
inode 322 offset 2355200 root 5
inode 455 offset 503808 root 5
inode 457 offset 393216 root 5
inode 454 offset 327680 root 5
inode 447 offset 458752 root 5
inode 519 offset 114688 root 5
inode 498 offset 450560 root 5
inode 482 offset 77824 root 258
inode 482 offset 77824 root 5
inode 473 offset 1454080 root 258
inode 473 offset 589824 root 258
inode 473 offset 1454080 root 258
inode 473 offset 1454080 root 5
inode 473 offset 589824 root 5
inode 473 offset 1454080 root 5
inode 552 offset 69632 root 5
inode 335 offset 782336 root 5
inode 335 offset 188416 root 5
inode 335 offset 782336 root 5
inode 352 offset 49152 root 5
inode 444 offset 258048 root 5
inode 493 offset 163840 root 258
inode 486 offset 1011712 root 258
inode 493 offset 163840 root 5
inode 486 offset 1011712 root 5
inode 313 offset 1908736 root 5
inode 544 offset 253952 root 258
inode 531 offset 704512 root 258
inode 375 offset 1978368 root 258
inode 375 offset 1175552 root 258
inode 375 offset 1978368 root 258
inode 322 offset 2355200 root 258
inode 322 offset 1789952 root 258
inode 322 offset 2355200 root 258
inode 455 offset 503808 root 258
inode 457 offset 393216 root 258
inode 454 offset 327680 root 258
inode 447 offset 458752 root 258
inode 415 offset 299008 root 258
inode 415 offset 94208 root 258
inode 415 offset 299008 root 258
inode 422 offset 192512 root 258
inode 519 offset 114688 root 258
inode 498 offset 450560 root 258
inode 294 offset 1880064 root 258
inode 292 offset 1634304 root 258
inode 294 offset 679936 root 258
inode 294 offset 1880064 root 258
inode 552 offset 69632 root 258
inode 346 offset 3952640 root 258
inode 346 offset 5308416 root 258
inode 346 offset 5308416 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 281 offset 1527808 root 258
inode 281 offset 1527808 root 258
inode 335 offset 782336 root 258
inode 335 offset 188416 root 258
inode 335 offset 782336 root 258
inode 412 offset 671744 root 258
inode 352 offset 49152 root 258
inode 444 offset 258048 root 258
inode 313 offset 1908736 root 258
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 282120192 /mnt/scratch
inode 457 offset 806912 root 258
inode 457 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 274923520 /mnt/scratch
inode 457 offset 978944 root 258
inode 457 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
457
# /bin/btrfs inspect-internal logical-resolve -P 287981568 /mnt/scratch
inode 457 offset 1007616 root 258
inode 457 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ffc
/mnt/scratch/snap1/p0/d5/dd/d105/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e is 2065352 (505 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      34:      73263..     73287:     25:         10: shared
   1:      119..     122:      69630..     69633:      4:      73372: shared
   2:      173..     178:      64720..     64725:      6:      69684: shared
   3:      179..     179:      66857..     66857:      1:      64726: shared
   4:      251..     254:      68440..     68443:      4:      66929: unwritten,shared
   5:      255..     280:      65013..     65038:     26:      68444: shared
   6:      281..     281:      70353..     70353:      1:      65039: shared
   7:      282..     309:      68444..     68471:     28:      70354: shared
   8:      310..     333:      68472..     68495:     24:             unwritten,shared
   9:      341..     350:      68503..     68512:     10:             unwritten,shared
  10:      351..     351:      68513..     68513:      1:             shared
  11:      352..     371:      68514..     68533:     20:             unwritten,shared
  12:      440..     443:      71289..     71292:      4:      68602: shared
  13:      444..     444:      73288..     73288:      1:      71293: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e: 10 extents found
after filter: 300085248#102400#40960#shared 285204480#16384#487424#shared 265093120#24576#708608#shared 273846272#4096#733184#shared 280330240#16384#1028096#unwritten,shared 266293248#106496#1044480#shared 288165888#4096#1150976#shared 280346624#114688#1155072#shared 280461312#98304#1269760#unwritten,shared 280588288#40960#1396736#unwritten,shared 280629248#4096#1437696#shared 280633344#81920#1441792#unwritten,shared 291999744#16384#1802240#shared 300187648#4096#1818624#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 300085248 /mnt/scratch
inode 429 offset 40960 root 258
inode 429 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 285204480 /mnt/scratch
inode 429 offset 487424 root 258
inode 429 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 265093120 /mnt/scratch
inode 429 offset 708608 root 258
inode 429 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 273846272 /mnt/scratch
inode 429 offset 733184 root 258
inode 429 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517932881
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280330240 /mnt/scratch
inode 429 offset 1028096 root 258
inode 429 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 266293248 /mnt/scratch
inode 429 offset 1044480 root 258
inode 429 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 288165888 /mnt/scratch
inode 429 offset 1150976 root 258
inode 429 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280346624 /mnt/scratch
inode 429 offset 1155072 root 258
inode 429 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280461312 /mnt/scratch
inode 429 offset 1269760 root 258
inode 429 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280588288 /mnt/scratch
inode 429 offset 1396736 root 258
inode 429 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280629248 /mnt/scratch
inode 429 offset 1437696 root 258
inode 429 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 280633344 /mnt/scratch
inode 429 offset 1441792 root 258
inode 429 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 291999744 /mnt/scratch
inode 429 offset 1802240 root 258
inode 429 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
429
# /bin/btrfs inspect-internal logical-resolve -P 300187648 /mnt/scratch
inode 429 offset 1818624 root 258
inode 429 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f13e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3 is 1405099 (344 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      41:      58928..     58928:      1:         41: unwritten,shared
   1:       82..      97:      64030..     64045:     16:      58969: shared
   2:       98..     100:      71255..     71257:      3:      64046: shared
   3:      101..     104:      64049..     64052:      4:      71258: shared
   4:      136..     136:      66420..     66420:      1:      64084: unwritten,shared
   5:      145..     145:      67281..     67281:      1:      66429: unwritten,shared
   6:      157..     160:      66440..     66443:      4:      67293: unwritten,shared
   7:      173..     174:      67626..     67627:      2:      66456: unwritten,shared
   8:      186..     187:      64866..     64867:      2:      67639: unwritten,shared
   9:      197..     200:      66463..     66466:      4:      64877: unwritten,shared
  10:      201..     202:      67280..     67281:      2:      66467: unwritten,shared
  11:      203..     220:      66469..     66486:     18:      67282: unwritten,shared
  12:      245..     251:      66511..     66517:      7:             unwritten,shared
  13:      295..     313:      65374..     65392:     19:      66561: shared
  14:      336..     343:      70361..     70368:      8:      65415: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3: 14 extents found
after filter: 241369088#4096#167936#unwritten,shared 262266880#65536#335872#shared 291860480#12288#401408#shared 262344704#16384#413696#shared 272056320#4096#557056#unwritten,shared 275582976#4096#593920#unwritten,shared 272138240#16384#643072#unwritten,shared 276996096#8192#708608#unwritten,shared 265691136#8192#761856#unwritten,shared 272232448#16384#806912#unwritten,shared 275578880#8192#823296#unwritten,shared 272257024#73728#831488#unwritten,shared 272429056#28672#1003520#unwritten,shared 267771904#77824#1208320#shared 288198656#32768#1376256#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 262266880 /mnt/scratch
inode 423 offset 335872 root 258
inode 423 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 291860480 /mnt/scratch
inode 423 offset 401408 root 258
inode 423 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 262344704 /mnt/scratch
inode 423 offset 413696 root 258
inode 423 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 272056320 /mnt/scratch
inode 423 offset 557056 root 258
inode 423 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 272138240 /mnt/scratch
inode 423 offset 643072 root 258
inode 423 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 265691136 /mnt/scratch
inode 423 offset 761856 root 258
inode 423 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 272232448 /mnt/scratch
inode 423 offset 806912 root 258
inode 423 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 272257024 /mnt/scratch
inode 423 offset 831488 root 258
inode 423 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 272429056 /mnt/scratch
inode 423 offset 1003520 root 258
inode 423 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 267771904 /mnt/scratch
inode 423 offset 1208320 root 258
inode 423 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
423
# /bin/btrfs inspect-internal logical-resolve -P 288198656 /mnt/scratch
inode 423 offset 1376256 root 258
inode 423 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/f174
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/f174 is 511545 (125 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d5/db4/f174: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f16e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f16e is 362291 (89 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/f16e: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa is 965144 (236 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      11:      67281..     67281:      1:         11: unwritten,shared
   1:       31..      45:      64649..     64663:     15:      67301: shared
   2:       46..      70:      67691..     67715:     25:      64664: shared
   3:       71..      75:      67078..     67082:      5:      67716: shared
   4:       76..      76:      68893..     68893:      1:      67083: shared
   5:       82..     101:      69853..     69872:     20:      68899: shared
   6:      102..     102:      73427..     73427:      1:      69873: shared
   7:      119..     123:       4264..      4268:      5:      73444: unwritten,shared
   8:      198..     224:      70019..     70045:     27:       4343: unwritten,shared
   9:      225..     234:      68894..     68903:     10:      70046: shared
  10:      235..     235:      70009..     70009:      1:      68904: shared,eof
  11:      236..     332:      70046..     70142:     97:      70010: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa: 12 extents found
after filter: 275582976#4096#45056#unwritten,shared 264802304#61440#126976#shared 277262336#102400#188416#shared 274751488#20480#290816#shared 282185728#4096#311296#shared 286117888#81920#335872#shared 300756992#4096#417792#shared 17465344#20480#487424#unwritten,shared 286797824#110592#811008#unwritten,shared 282189824#40960#921600#shared 286756864#4096#962560#shared,eof 286908416#397312#966656#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 264802304 /mnt/scratch
inode 455 offset 126976 root 258
inode 455 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 277262336 /mnt/scratch
inode 455 offset 188416 root 258
inode 455 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 274751488 /mnt/scratch
inode 455 offset 290816 root 258
inode 455 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 282185728 /mnt/scratch
inode 455 offset 311296 root 258
inode 455 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 286117888 /mnt/scratch
inode 455 offset 335872 root 258
inode 455 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517606249
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 300756992 /mnt/scratch
inode 455 offset 417792 root 258
inode 455 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 286797824 /mnt/scratch
inode 455 offset 811008 root 258
inode 455 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 282189824 /mnt/scratch
inode 455 offset 921600 root 258
inode 455 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 286756864 /mnt/scratch
inode 455 offset 962560 root 258
inode 455 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
455
# /bin/btrfs inspect-internal logical-resolve -P 286908416 /mnt/scratch
inode 455 offset 966656 root 258
inode 455 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/ffa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/f2f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/f2f is 2555215 (624 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      33:       4425..      4451:     27:          7: unwritten,shared
   1:      115..     130:       4824..      4839:     16:       4533: shared
   2:      131..     152:       4793..      4814:     22:       4840: shared
   3:      153..     153:      59436..     59436:      1:       4815: shared
   4:      162..     166:       4264..      4268:      5:      59445: unwritten,shared
   5:      203..     208:      58904..     58909:      6:       4305: unwritten,shared
   6:      236..     249:      60328..     60341:     14:      58937: shared
   7:      257..     272:      58928..     58943:     16:      60349: unwritten,shared
   8:      273..     274:      67626..     67627:      2:      58944: unwritten,shared
   9:      364..     377:      59503..     59516:     14:      67717: shared
  10:      378..     388:      67759..     67769:     11:      59517: shared
  11:      389..     417:      59212..     59240:     29:      67770: shared
  12:      418..     418:      59210..     59210:      1:      59241: shared
  13:      455..     459:       4264..      4268:      5:      59247: unwritten,shared
  14:      513..     513:      58928..     58928:      1:       4322: unwritten,shared
  15:      526..     530:      58941..     58945:      5:             unwritten,shared
  16:      583..     590:      66861..     66868:      8:      58998: shared
  17:      591..     600:      59030..     59039:     10:      66869: unwritten,shared
  18:      601..     623:      62152..     62174:     23:      59040: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/f2f: 18 extents found
after filter: 18124800#110592#28672#unwritten,shared 19759104#65536#471040#shared 19632128#90112#536576#shared 243449856#4096#626688#shared 17465344#20480#663552#unwritten,shared 241270784#24576#831488#unwritten,shared 247103488#57344#966656#shared 241369088#65536#1052672#unwritten,shared 276996096#8192#1118208#unwritten,shared 243724288#57344#1490944#shared 277540864#45056#1548288#shared 242532352#118784#1593344#shared 242524160#4096#1712128#shared 17465344#20480#1863680#unwritten,shared 241369088#4096#2101248#unwritten,shared 241422336#20480#2154496#unwritten,shared 273862656#32768#2387968#shared 241786880#40960#2420736#unwritten,shared 254574592#94208#2461696#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 18124800 /mnt/scratch
inode 294 offset 28672 root 258
inode 294 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 19759104 /mnt/scratch
inode 294 offset 471040 root 258
inode 294 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 19632128 /mnt/scratch
inode 294 offset 536576 root 258
inode 294 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 243449856 /mnt/scratch
inode 294 offset 626688 root 258
inode 294 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 247103488 /mnt/scratch
inode 294 offset 966656 root 258
inode 294 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 243724288 /mnt/scratch
inode 294 offset 1490944 root 258
inode 294 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 277540864 /mnt/scratch
inode 294 offset 1548288 root 258
inode 294 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 242532352 /mnt/scratch
inode 294 offset 1593344 root 258
inode 294 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 242524160 /mnt/scratch
inode 294 offset 1712128 root 258
inode 294 offset 1712128 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 241422336 /mnt/scratch
inode 308 offset 626688 root 5
inode 313 offset 315392 root 5
inode 292 offset 614400 root 258
inode 292 offset 1441792 root 258
inode 292 offset 1441792 root 258
inode 290 offset 344064 root 258
inode 292 offset 1441792 root 258
inode 290 offset 344064 root 258
inode 292 offset 614400 root 258
inode 292 offset 1441792 root 258
inode 292 offset 614400 root 5
inode 292 offset 1441792 root 5
inode 292 offset 1441792 root 5
inode 290 offset 344064 root 5
inode 292 offset 1441792 root 5
inode 290 offset 344064 root 5
inode 292 offset 614400 root 5
inode 292 offset 1441792 root 5
inode 294 offset 1105920 root 5
inode 294 offset 2154496 root 5
inode 294 offset 2154496 root 5
inode 294 offset 1105920 root 5
inode 294 offset 2154496 root 5
inode 294 offset 1105920 root 258
inode 294 offset 2154496 root 258
inode 294 offset 2154496 root 258
inode 294 offset 1105920 root 258
inode 294 offset 2154496 root 258
inode 313 offset 315392 root 258
inode 308 offset 626688 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 273862656 /mnt/scratch
inode 294 offset 2387968 root 258
inode 294 offset 2387968 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 241786880 /mnt/scratch
inode 272 offset 3121152 root 258
inode 272 offset 3272704 root 258
inode 272 offset 3121152 root 258
inode 272 offset 3272704 root 258
inode 349 offset 49152 root 258
inode 294 offset 2420736 root 258
inode 316 offset 540672 root 258
inode 292 offset 1171456 root 258
inode 292 offset 667648 root 258
inode 292 offset 1171456 root 258
inode 292 offset 1171456 root 5
inode 292 offset 667648 root 5
inode 292 offset 1171456 root 5
inode 272 offset 3121152 root 5
inode 272 offset 3272704 root 5
inode 272 offset 3121152 root 5
inode 272 offset 3272704 root 5
inode 349 offset 49152 root 5
inode 294 offset 2420736 root 5
inode 316 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/f2f
294
# /bin/btrfs inspect-internal logical-resolve -P 254574592 /mnt/scratch
inode 294 offset 2461696 root 258
inode 294 offset 2461696 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/f2f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/f14c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/f14c is 3178858 (777 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      28:       3959..      3962:      4:         25: unwritten,shared
   1:       57..      58:      70694..     70695:      2:       3991: shared
   2:       74..     104:      60579..     60609:     31:      70711: shared
   3:      107..     114:      58904..     58911:      8:      60612: unwritten,shared
   4:      150..     151:      67626..     67627:      2:      58947: unwritten,shared
   5:      199..     211:      60175..     60187:     13:      67675: shared
   6:      212..     215:      64952..     64955:      4:      60188: shared
   7:      216..     227:      60192..     60203:     12:      64956: shared
   8:      228..     228:      62010..     62010:      1:      60204: shared
   9:      274..     281:      61847..     61854:      8:      62056: shared
  10:      295..     319:      62475..     62499:     25:      61868: shared
  11:      565..     565:      58928..     58928:      1:      62745: unwritten,shared
  12:      587..     608:      63273..     63294:     22:      58950: shared
  13:      741..     746:      65652..     65657:      6:      63427: unwritten,shared
  14:      747..     775:      64247..     64275:     29:      65658: shared
  15:      776..     776:      71254..     71254:      1:      64276: shared,eof
  16:      777..     937:      65658..     65818:    161:      71255: unwritten,shared,eof
  17:      938..    1084:      71018..     71164:    147:      65819: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/f14c: 18 extents found
after filter: 16216064#16384#102400#unwritten,shared 289562624#8192#233472#shared 248131584#126976#303104#shared 241270784#32768#438272#unwritten,shared 276996096#8192#614400#unwritten,shared 246476800#53248#815104#shared 266043392#16384#868352#shared 246546432#49152#884736#shared 253992960#4096#933888#shared 253325312#32768#1122304#shared 255897600#102400#1208320#shared 241369088#4096#2314240#unwritten,shared 259166208#90112#2404352#shared 268910592#24576#3035136#unwritten,shared 263155712#118784#3059712#shared 291856384#4096#3178496#shared,eof 268935168#659456#3182592#unwritten,shared,eof 290889728#602112#3842048#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 16216064 /mnt/scratch
inode 346 offset 774144 root 258
inode 353 offset 102400 root 258
inode 346 offset 774144 root 5
inode 353 offset 102400 root 5
inode 268 offset 1064960 root 258
inode 268 offset 1064960 root 5
inode 266 offset 651264 root 258
inode 266 offset 651264 root 5
inode 306 offset 507904 root 258
inode 306 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 289562624 /mnt/scratch
inode 353 offset 233472 root 258
inode 353 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 248131584 /mnt/scratch
inode 353 offset 303104 root 258
inode 353 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517412169
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 246476800 /mnt/scratch
inode 353 offset 815104 root 258
inode 353 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 266043392 /mnt/scratch
inode 353 offset 868352 root 258
inode 353 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 246546432 /mnt/scratch
inode 353 offset 884736 root 258
inode 353 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 253992960 /mnt/scratch
inode 353 offset 933888 root 258
inode 353 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 253325312 /mnt/scratch
inode 353 offset 1122304 root 258
inode 353 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 255897600 /mnt/scratch
inode 353 offset 1208320 root 258
inode 353 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 259166208 /mnt/scratch
inode 353 offset 2404352 root 258
inode 353 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 268910592 /mnt/scratch
inode 353 offset 3035136 root 258
inode 353 offset 3035136 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 263155712 /mnt/scratch
inode 353 offset 3059712 root 258
inode 353 offset 3059712 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 291856384 /mnt/scratch
inode 353 offset 3178496 root 258
inode 353 offset 3178496 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 268935168 /mnt/scratch
inode 353 offset 3182592 root 258
inode 353 offset 3182592 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f14c
353
# /bin/btrfs inspect-internal logical-resolve -P 290889728 /mnt/scratch
inode 353 offset 3842048 root 258
inode 353 offset 3842048 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f14c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d105/f11c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d105/f11c is 839680 (205 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      97:      67954..     67985:     32:         66: unwritten,shared
   1:       98..     106:      67986..     67994:      9:             shared
   2:      107..     179:      67995..     68067:     73:             unwritten,shared
   3:      180..     181:      68068..     68069:      2:             shared
   4:      182..     204:      72856..     72878:     23:      68070: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d105/f11c: 2 extents found
after filter: 278339584#131072#270336#unwritten,shared 278470656#36864#401408#shared 278507520#299008#438272#unwritten,shared 278806528#8192#737280#shared 298418176#94208#745472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 278339584 /mnt/scratch
inode 483 offset 270336 root 258
inode 483 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 278470656 /mnt/scratch
inode 483 offset 401408 root 258
inode 483 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 278507520 /mnt/scratch
inode 483 offset 438272 root 258
inode 483 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 278806528 /mnt/scratch
inode 483 offset 737280 root 258
inode 483 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d105/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 298418176 /mnt/scratch
inode 483 offset 745472 root 258
inode 483 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179 is 839680 (205 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      97:      67954..     67985:     32:         66: unwritten,shared
   1:       98..     106:      67986..     67994:      9:             shared
   2:      107..     179:      67995..     68067:     73:             unwritten,shared
   3:      180..     181:      68068..     68069:      2:             shared
   4:      182..     204:      72856..     72878:     23:      68070: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179: 2 extents found
after filter: 278339584#131072#270336#unwritten,shared 278470656#36864#401408#shared 278507520#299008#438272#unwritten,shared 278806528#8192#737280#shared 298418176#94208#745472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
483
# /bin/btrfs inspect-internal logical-resolve -P 278339584 /mnt/scratch
inode 483 offset 270336 root 258
inode 483 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
483
# /bin/btrfs inspect-internal logical-resolve -P 278470656 /mnt/scratch
inode 483 offset 401408 root 258
inode 483 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
483
# /bin/btrfs inspect-internal logical-resolve -P 278507520 /mnt/scratch
inode 483 offset 438272 root 258
inode 483 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
483
# /bin/btrfs inspect-internal logical-resolve -P 278806528 /mnt/scratch
inode 483 offset 737280 root 258
inode 483 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
483
# /bin/btrfs inspect-internal logical-resolve -P 298418176 /mnt/scratch
inode 483 offset 745472 root 258
inode 483 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f179
/mnt/scratch/snap1/p0/d5/dd/d105/f11c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf is 1076463 (263 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      48:      62870..     62878:      9:         40: shared
   1:       49..      49:      66757..     66757:      1:      62879: shared
   2:       91..     131:      62325..     62365:     41:      66799: unwritten,shared
   3:      132..     133:      62366..     62367:      2:             shared
   4:      134..     155:      67628..     67649:     22:      62368: shared
   5:      181..     182:      62415..     62416:      2:      67675: unwritten,shared
   6:      183..     183:      70309..     70309:      1:      62417: shared
   7:      258..     262:      70310..     70314:      5:             last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf: 6 extents found
after filter: 257515520#36864#163840#shared 273436672#4096#200704#shared 255283200#167936#372736#unwritten,shared 255451136#8192#540672#shared 277004288#90112#548864#shared 255651840#8192#741376#unwritten,shared 287985664#4096#749568#shared 287989760#20480#1056768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 257515520 /mnt/scratch
inode 378 offset 163840 root 258
inode 378 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 273436672 /mnt/scratch
inode 378 offset 200704 root 258
inode 378 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 255283200 /mnt/scratch
inode 378 offset 372736 root 258
inode 378 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 255451136 /mnt/scratch
inode 378 offset 540672 root 258
inode 378 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 277004288 /mnt/scratch
inode 378 offset 548864 root 258
inode 378 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 255651840 /mnt/scratch
inode 378 offset 741376 root 258
inode 378 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 287985664 /mnt/scratch
inode 378 offset 749568 root 258
inode 378 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
378
# /bin/btrfs inspect-internal logical-resolve -P 287989760 /mnt/scratch
inode 378 offset 1056768 root 258
inode 378 offset 1056768 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
seed = 1518107947
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/faf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d35/f12f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d35/f12f is 224694 (55 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f12f: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c is 2789376 (681 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      11:      67281..     67281:      1:         11: unwritten,shared
   1:       15..      19:       4264..      4268:      5:      67285: unwritten,shared
   2:      152..     163:      67251..     67262:     12:       4401: unwritten,shared
   3:      164..     180:      62018..     62034:     17:      67263: shared
   4:      181..     185:      67263..     67267:      5:      62035: unwritten,shared
   5:      205..     251:      67286..     67332:     47:      67287: unwritten,shared
   6:      264..     265:      69079..     69080:      2:      67345: unwritten,shared
   7:      271..     284:      67352..     67365:     14:      69086: unwritten,shared
   8:      285..     304:      67366..     67385:     20:             unwritten,shared
   9:      305..     360:      68070..     68125:     56:      67386: unwritten,shared
  10:      409..     409:      71193..     71193:      1:      68174: shared
  11:      415..     428:      64705..     64718:     14:      71199: shared
  12:      429..     429:      71467..     71467:      1:      64719: shared
  13:      450..     464:      71468..     71482:     15:             shared
  14:      465..     465:      73482..     73482:      1:      71483: shared
  15:      500..     676:      72299..     72475:    177:      73517: unwritten,shared
  16:      677..     680:      72476..     72479:      4:             shared,eof
  17:      681..     708:      72480..     72507:     28:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c: 14 extents found
after filter: 275582976#4096#45056#unwritten,shared 17465344#20480#61440#unwritten,shared 275460096#49152#622592#unwritten,shared 254025728#69632#671744#shared 275509248#20480#741376#unwritten,shared 275603456#192512#839680#unwritten,shared 282947584#8192#1081344#unwritten,shared 275873792#57344#1110016#unwritten,shared 275931136#81920#1167360#unwritten,shared 278814720#229376#1249280#unwritten,shared 291606528#4096#1675264#shared 265031680#57344#1699840#shared 292728832#4096#1757184#shared 292732928#61440#1843200#shared 300982272#4096#1904640#shared 296136704#724992#2048000#unwritten,shared 296861696#16384#2772992#shared,eof 296878080#114688#2789376#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275460096 /mnt/scratch
inode 361 offset 622592 root 258
inode 361 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 254025728 /mnt/scratch
inode 361 offset 671744 root 258
inode 361 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275509248 /mnt/scratch
inode 361 offset 741376 root 258
inode 361 offset 741376 root 258
inode 361 offset 741376 root 5
inode 361 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275603456 /mnt/scratch
inode 361 offset 839680 root 258
inode 361 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 282947584 /mnt/scratch
inode 361 offset 1081344 root 258
inode 361 offset 1081344 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275873792 /mnt/scratch
inode 361 offset 1110016 root 258
inode 361 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 275931136 /mnt/scratch
inode 361 offset 1167360 root 258
inode 361 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 278814720 /mnt/scratch
inode 361 offset 1249280 root 258
inode 361 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 291606528 /mnt/scratch
inode 361 offset 1675264 root 258
inode 361 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 265031680 /mnt/scratch
inode 361 offset 1699840 root 258
inode 361 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 292728832 /mnt/scratch
inode 361 offset 1757184 root 258
inode 361 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 292732928 /mnt/scratch
inode 361 offset 1843200 root 258
inode 361 offset 1843200 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 300982272 /mnt/scratch
inode 361 offset 1904640 root 258
inode 361 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 296136704 /mnt/scratch
inode 361 offset 2048000 root 258
inode 361 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 296861696 /mnt/scratch
inode 361 offset 2772992 root 258
inode 361 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
361
# /bin/btrfs inspect-internal logical-resolve -P 296878080 /mnt/scratch
inode 361 offset 2789376 root 258
inode 361 offset 2789376 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d35/f7c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151 is 1405099 (344 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      41:      58928..     58928:      1:         41: unwritten,shared
   1:       82..      97:      64030..     64045:     16:      58969: shared
   2:       98..     100:      71255..     71257:      3:      64046: shared
   3:      101..     104:      64049..     64052:      4:      71258: shared
   4:      136..     136:      66420..     66420:      1:      64084: unwritten,shared
   5:      145..     145:      67281..     67281:      1:      66429: unwritten,shared
   6:      157..     160:      66440..     66443:      4:      67293: unwritten,shared
   7:      173..     174:      67626..     67627:      2:      66456: unwritten,shared
   8:      186..     187:      64866..     64867:      2:      67639: unwritten,shared
   9:      197..     200:      66463..     66466:      4:      64877: unwritten,shared
  10:      201..     202:      67280..     67281:      2:      66467: unwritten,shared
  11:      203..     220:      66469..     66486:     18:      67282: unwritten,shared
  12:      245..     251:      66511..     66517:      7:             unwritten,shared
  13:      295..     313:      65374..     65392:     19:      66561: shared
  14:      336..     343:      70361..     70368:      8:      65415: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151: 14 extents found
after filter: 241369088#4096#167936#unwritten,shared 262266880#65536#335872#shared 291860480#12288#401408#shared 262344704#16384#413696#shared 272056320#4096#557056#unwritten,shared 275582976#4096#593920#unwritten,shared 272138240#16384#643072#unwritten,shared 276996096#8192#708608#unwritten,shared 265691136#8192#761856#unwritten,shared 272232448#16384#806912#unwritten,shared 275578880#8192#823296#unwritten,shared 272257024#73728#831488#unwritten,shared 272429056#28672#1003520#unwritten,shared 267771904#77824#1208320#shared 288198656#32768#1376256#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 262266880 /mnt/scratch
inode 423 offset 335872 root 258
inode 423 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 291860480 /mnt/scratch
inode 423 offset 401408 root 258
inode 423 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 262344704 /mnt/scratch
inode 423 offset 413696 root 258
inode 423 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 272056320 /mnt/scratch
inode 423 offset 557056 root 258
inode 423 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 272138240 /mnt/scratch
inode 423 offset 643072 root 258
inode 423 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 265691136 /mnt/scratch
inode 423 offset 761856 root 258
inode 423 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 272232448 /mnt/scratch
inode 423 offset 806912 root 258
inode 423 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 272257024 /mnt/scratch
inode 423 offset 831488 root 258
inode 423 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 272429056 /mnt/scratch
inode 423 offset 1003520 root 258
inode 423 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 267771904 /mnt/scratch
inode 423 offset 1208320 root 258
inode 423 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
423
# /bin/btrfs inspect-internal logical-resolve -P 288198656 /mnt/scratch
inode 423 offset 1376256 root 258
inode 423 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d40/fd3
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/d12c/d192/f1ab
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/d12c/d192/f1ab is 914264 (224 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      210..     223:      73314..     73327:     14:        210: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/d12c/d192/f1ab: 1 extent found
after filter: 300294144#57344#860160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/d12c/d192/f1ab
594
# /bin/btrfs inspect-internal logical-resolve -P 300294144 /mnt/scratch
inode 594 offset 860160 root 258
inode 594 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 594 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/d12c/d192/f1ab
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f is 1976175 (483 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       38..      59:      70547..     70568:     22:         38: unwritten,shared
   1:      122..     125:      70631..     70634:      4:             unwritten,shared
   2:      126..     126:      70635..     70635:      1:             shared
   3:      201..     220:      71421..     71440:     20:      70710: shared
   4:      430..     432:      73202..     73204:      3:      71650: shared
   5:      455..     482:      73205..     73232:     28:             last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f: 3 extents found
after filter: 288960512#90112#155648#unwritten,shared 289304576#16384#499712#unwritten,shared 289320960#4096#516096#shared 292540416#81920#823296#shared 299835392#12288#1761280#shared 299847680#114688#1863680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 288960512 /mnt/scratch
inode 525 offset 155648 root 258
inode 525 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 289304576 /mnt/scratch
inode 525 offset 499712 root 258
inode 525 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 289320960 /mnt/scratch
inode 525 offset 516096 root 258
inode 525 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517464956
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 292540416 /mnt/scratch
inode 525 offset 823296 root 258
inode 525 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 299835392 /mnt/scratch
inode 525 offset 1761280 root 258
inode 525 offset 1761280 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
525
# /bin/btrfs inspect-internal logical-resolve -P 299847680 /mnt/scratch
inode 525 offset 1863680 root 258
inode 525 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f14f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2 is 1339392 (327 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..     147:      72035..     72176:    142:          6: unwritten,shared
   1:      154..     165:      72183..     72194:     12:             unwritten,shared
   2:      173..     191:      72202..     72220:     19:             unwritten,shared
   3:      316..     326:      72914..     72924:     11:      72345: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2: 2 extents found
after filter: 295055360#581632#24576#unwritten,shared 295661568#49152#630784#unwritten,shared 295739392#77824#708608#unwritten,shared 298655744#45056#1294336#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
598
# /bin/btrfs inspect-internal logical-resolve -P 295055360 /mnt/scratch
inode 598 offset 24576 root 258
inode 598 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 598 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
598
# /bin/btrfs inspect-internal logical-resolve -P 295661568 /mnt/scratch
inode 598 offset 630784 root 258
inode 598 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 598 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
598
# /bin/btrfs inspect-internal logical-resolve -P 295739392 /mnt/scratch
inode 598 offset 708608 root 258
inode 598 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 598 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
598
# /bin/btrfs inspect-internal logical-resolve -P 298655744 /mnt/scratch
inode 598 offset 1294336 root 258
inode 598 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 598 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dc5/d154/d18a/f1b2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146 is 297132 (73 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      52:      68754..     68757:      4:         49: shared
   1:       53..      53:      70642..     70642:      1:      68758: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146: 2 extents found
after filter: 281616384#16384#200704#shared 289349632#4096#217088#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146
520
# /bin/btrfs inspect-internal logical-resolve -P 281616384 /mnt/scratch
inode 520 offset 200704 root 258
inode 520 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 520 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146
520
# /bin/btrfs inspect-internal logical-resolve -P 289349632 /mnt/scratch
inode 520 offset 217088 root 258
inode 520 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 520 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0 is 1458176 (356 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      78:      67626..     67627:      2:         77: unwritten,shared
   1:      108..     112:       4264..      4268:      5:      67657: unwritten,shared
   2:      140..     153:      69701..     69714:     14:       4296: shared
   3:      154..     159:      69482..     69487:      6:      69715: shared
   4:      249..     261:      67411..     67423:     13:      69577: shared
   5:      329..     355:      72681..     72707:     27:      67491: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0: 6 extents found
after filter: 276996096#8192#315392#unwritten,shared 17465344#20480#442368#unwritten,shared 285495296#57344#573440#shared 284598272#24576#630784#shared 276115456#53248#1019904#shared 297701376#110592#1347584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 285495296 /mnt/scratch
inode 447 offset 573440 root 258
inode 447 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 284598272 /mnt/scratch
inode 447 offset 630784 root 258
inode 447 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 276115456 /mnt/scratch
inode 447 offset 1019904 root 258
inode 447 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
447
# /bin/btrfs inspect-internal logical-resolve -P 297701376 /mnt/scratch
inode 447 offset 1347584 root 258
inode 447 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/ff0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108 is 1025094 (251 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      112..     112:      70008..     70008:      1:        112: shared
   1:      132..     150:      67171..     67189:     19:      70028: shared
   2:      151..     151:      68697..     68697:      1:      67190: shared
   3:      221..     250:      68698..     68727:     30:             last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f108: 3 extents found
after filter: 286752768#4096#458752#shared 275132416#77824#540672#shared 281382912#4096#618496#shared 281387008#122880#905216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
467
# /bin/btrfs inspect-internal logical-resolve -P 286752768 /mnt/scratch
inode 467 offset 458752 root 258
inode 467 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
467
# /bin/btrfs inspect-internal logical-resolve -P 275132416 /mnt/scratch
inode 467 offset 540672 root 258
inode 467 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
467
# /bin/btrfs inspect-internal logical-resolve -P 281382912 /mnt/scratch
inode 467 offset 618496 root 258
inode 467 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
467
# /bin/btrfs inspect-internal logical-resolve -P 281387008 /mnt/scratch
inode 467 offset 905216 root 258
inode 467 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f108
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143 is 290401 (71 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      62:      69789..     69811:     23:         40: shared
   1:       63..      70:      69474..     69481:      8:      69812: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143: 2 extents found
after filter: 285855744#94208#163840#shared 284565504#32768#258048#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 285855744 /mnt/scratch
inode 517 offset 163840 root 258
inode 517 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 284565504 /mnt/scratch
inode 517 offset 258048 root 258
inode 517 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/d142/f143
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/ff7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/ff7 is 1095899 (268 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      14:      67626..     67627:      2:         13: unwritten,shared
   1:       75..      94:      64681..     64700:     20:      67688: shared
   2:      121..     122:      67626..     67627:      2:      64727: unwritten,shared
   3:      209..     211:      64983..     64985:      3:      67714: unwritten,shared
   4:      267..     267:      66969..     66969:      1:      65041: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/ff7: 5 extents found
after filter: 276996096#8192#53248#unwritten,shared 264933376#81920#307200#shared 276996096#8192#495616#unwritten,shared 266170368#12288#856064#unwritten,shared 274305024#4096#1093632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/ff7
452
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/ff7
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/ff7
452
# /bin/btrfs inspect-internal logical-resolve -P 264933376 /mnt/scratch
inode 452 offset 307200 root 258
inode 452 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/ff7
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/ff7
452
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/ff7
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/ff7
452
# /bin/btrfs inspect-internal logical-resolve -P 266170368 /mnt/scratch
background rm
inode 452 offset 856064 root 258
inode 452 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/ff7
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518322833
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/ff7
452
# /bin/btrfs inspect-internal logical-resolve -P 274305024 /mnt/scratch
inode 452 offset 1093632 root 258
inode 452 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/ff7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/fff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/fff is 1912832 (467 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       56..      57:      67626..     67627:      2:         56: unwritten,shared
   1:      173..     174:      67626..     67627:      2:      67743: unwritten,shared
   2:      194..     218:      73363..     73387:     25:      67647: shared
   3:      432..     439:      66981..     66988:      8:      73601: shared
   4:      440..     466:      70413..     70439:     27:      66989: shared,eof
   5:      699..     781:      66575..     66657:     83:      70672: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d5b/fff: 6 extents found
after filter: 276996096#8192#229376#unwritten,shared 276996096#8192#708608#unwritten,shared 300494848#102400#794624#shared 274354176#32768#1769472#shared 288411648#110592#1802240#shared,eof 272691200#339968#2863104#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 300494848 /mnt/scratch
inode 460 offset 794624 root 258
inode 460 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 274354176 /mnt/scratch
inode 460 offset 1769472 root 258
inode 460 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 288411648 /mnt/scratch
inode 460 offset 1802240 root 258
inode 460 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/fff
460
# /bin/btrfs inspect-internal logical-resolve -P 272691200 /mnt/scratch
inode 460 offset 2863104 root 258
inode 460 offset 2863104 root 5
# /bin/btrfs inspect-internal inode-resolve 460 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/fff
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f162
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f162 is 1519616 (371 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      110..     111:      73510..     73511:      2:        110: shared
   1:      130..     160:      70866..     70896:     31:      73530: shared
   2:      360..     370:      70643..     70653:     11:      71096: last,shared,eof
/mnt/scratch/snap1/p0/d5/f162: 3 extents found
after filter: 301096960#8192#450560#shared 290267136#126976#532480#shared 289353728#45056#1474560#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f162
539
# /bin/btrfs inspect-internal logical-resolve -P 301096960 /mnt/scratch
inode 539 offset 450560 root 258
inode 539 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f162
# stat -c %i /mnt/scratch/snap1/p0/d5/f162
539
# /bin/btrfs inspect-internal logical-resolve -P 290267136 /mnt/scratch
inode 539 offset 532480 root 258
inode 539 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f162
# stat -c %i /mnt/scratch/snap1/p0/d5/f162
539
# /bin/btrfs inspect-internal logical-resolve -P 289353728 /mnt/scratch
inode 539 offset 1474560 root 258
inode 539 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f162
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd is 2033877 (497 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      82:      71194..     71210:     17:         66: shared
   1:      101..     107:      70746..     70752:      7:      71229: shared
   2:      311..     335:      70753..     70777:     25:             shared
   3:      483..     496:      70654..     70667:     14:      70925: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd: 3 extents found
after filter: 291610624#69632#270336#shared 289775616#28672#413696#shared 289804288#102400#1273856#shared 289398784#57344#1978368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
420
# /bin/btrfs inspect-internal logical-resolve -P 291610624 /mnt/scratch
inode 420 offset 270336 root 258
inode 420 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
420
# /bin/btrfs inspect-internal logical-resolve -P 289775616 /mnt/scratch
inode 420 offset 413696 root 258
inode 420 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
420
# /bin/btrfs inspect-internal logical-resolve -P 289804288 /mnt/scratch
inode 420 offset 1273856 root 258
inode 420 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
420
# /bin/btrfs inspect-internal logical-resolve -P 289398784 /mnt/scratch
inode 420 offset 1978368 root 258
inode 420 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 420 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/d26/fcd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac is 202231 (50 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      32:      73388..     73403:     16:         17: shared
   1:       33..      49:      73131..     73147:     17:      73404: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac: 2 extents found
after filter: 300597248#65536#69632#shared 299544576#69632#135168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac
595
# /bin/btrfs inspect-internal logical-resolve -P 300597248 /mnt/scratch
inode 595 offset 69632 root 258
inode 595 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac
595
# /bin/btrfs inspect-internal logical-resolve -P 299544576 /mnt/scratch
inode 595 offset 135168 root 258
inode 595 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 595 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/f1ac
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2 is 815104 (199 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      47:       4264..      4268:      5:         43: unwritten,shared
   1:       93..     116:      71365..     71388:     24:       4314: shared
   2:      148..     151:       4262..      4265:      4:      71420: unwritten,shared
   3:      156..     162:      67716..     67722:      7:       4270: shared
   4:      177..     178:      67626..     67627:      2:      67737: unwritten,shared
   5:      192..     198:      64354..     64360:      7:      67641: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2: 6 extents found
after filter: 17465344#20480#176128#unwritten,shared 292311040#98304#380928#shared 17457152#16384#606208#unwritten,shared 277364736#28672#638976#shared 276996096#8192#724992#unwritten,shared 263593984#28672#786432#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 292311040 /mnt/scratch
inode 422 offset 380928 root 258
inode 422 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 277364736 /mnt/scratch
inode 422 offset 638976 root 258
inode 422 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
422
# /bin/btrfs inspect-internal logical-resolve -P 263593984 /mnt/scratch
inode 422 offset 786432 root 258
inode 422 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/fd2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6 is 2128246 (520 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       37..      52:      63244..     63259:     16:         37: shared
   1:       95..     108:      61534..     61547:     14:      63302: shared
   2:      244..     258:      62820..     62834:     15:      61683: shared
   3:      259..     261:      72806..     72808:      3:      62835: shared
   4:      286..     311:      62428..     62453:     26:      72833: shared
   5:      312..     321:      72935..     72944:     10:      62454: unwritten,shared
   6:      349..     349:      67281..     67281:      1:      72972: unwritten,shared
   7:      431..     434:      65918..     65921:      4:      67363: unwritten,shared
   8:      449..     460:      65936..     65947:     12:             unwritten,shared
   9:      461..     461:      65948..     65948:      1:             shared
  10:      462..     463:      70340..     70341:      2:      65949: shared
  11:      469..     473:       4264..      4268:      5:      70347: unwritten,shared
  12:      511..     519:      70343..     70351:      9:       4306: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6: 11 extents found
after filter: 259047424#65536#151552#shared 252043264#57344#389120#shared 257310720#61440#999424#shared 298213376#12288#1060864#shared 255705088#106496#1171456#shared 298741760#40960#1277952#unwritten,shared 275582976#4096#1429504#unwritten,shared 270000128#16384#1765376#unwritten,shared 270073856#49152#1839104#unwritten,shared 270123008#4096#1888256#shared 288112640#8192#1892352#shared 17465344#20480#1921024#unwritten,shared 288124928#36864#2093056#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 259047424 /mnt/scratch
inode 390 offset 151552 root 258
inode 390 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 252043264 /mnt/scratch
inode 390 offset 389120 root 258
inode 390 offset 389120 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 257310720 /mnt/scratch
inode 390 offset 999424 root 258
inode 390 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 298213376 /mnt/scratch
inode 390 offset 1060864 root 258
inode 390 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 255705088 /mnt/scratch
inode 390 offset 1171456 root 258
inode 390 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 298741760 /mnt/scratch
inode 390 offset 1277952 root 258
inode 390 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 270000128 /mnt/scratch
inode 390 offset 1765376 root 258
inode 390 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518052886
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 270073856 /mnt/scratch
inode 390 offset 1839104 root 258
inode 390 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 270123008 /mnt/scratch
inode 390 offset 1888256 root 258
inode 390 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 288112640 /mnt/scratch
inode 390 offset 1892352 root 258
inode 390 offset 1892352 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
390
# /bin/btrfs inspect-internal logical-resolve -P 288124928 /mnt/scratch
inode 390 offset 2093056 root 258
inode 390 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 390 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/fa6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8 is 2046112 (500 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      40:      60667..     60678:     12:         29: shared
   1:       41..      64:      67045..     67068:     24:      60679: shared
   2:       65..      83:      67672..     67690:     19:      67069: shared
   3:       90..      91:       5239..      5240:      2:      67697: shared
   4:      130..     131:      58904..     58905:      2:       5279: unwritten,shared
   5:      134..     139:      58908..     58913:      6:             unwritten,shared
   6:      142..     153:      58933..     58944:     12:      58916: unwritten,shared
   7:      154..     178:      59021..     59045:     25:      58945: unwritten,shared
   8:      196..     202:       4244..      4250:      7:      59063: unwritten,shared
   9:      205..     211:       4253..      4259:      7:             unwritten,shared
  10:      214..     220:       4262..      4268:      7:             unwritten,shared
  11:      267..     276:      58928..     58937:     10:       4315: unwritten,shared
  12:      277..     293:      59021..     59037:     17:      58938: unwritten,shared
  13:      307..     313:      66658..     66664:      7:      59051: shared
  14:      326..     334:       5103..      5111:      9:      66677: shared
  15:      335..     335:      58885..     58885:      1:       5112: shared
  16:      339..     356:      58928..     58945:     18:      58889: unwritten,shared
  17:      392..     398:       4357..      4363:      7:      58981: unwritten,shared
  18:      399..     399:       4268..      4268:      1:       4364: unwritten,shared
  19:      463..     467:       5245..      5249:      5:       4332: unwritten,shared
  20:      468..     473:       5250..      5255:      6:             shared
  21:      474..     478:      62813..     62817:      5:       5256: shared
  22:      479..     499:      60112..     60132:     21:      62818: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8: 19 extents found
after filter: 248492032#49152#118784#shared 274616320#98304#167936#shared 277184512#77824#266240#shared 21458944#8192#368640#shared 241270784#8192#532480#unwritten,shared 241287168#24576#548864#unwritten,shared 241389568#49152#581632#unwritten,shared 241750016#102400#630784#unwritten,shared 17383424#28672#802816#unwritten,shared 17420288#28672#839680#unwritten,shared 17457152#28672#876544#unwritten,shared 241369088#40960#1093632#unwritten,shared 241750016#69632#1134592#unwritten,shared 273031168#28672#1257472#shared 20901888#36864#1335296#shared 241192960#4096#1372160#shared 241369088#73728#1388544#unwritten,shared 17846272#28672#1605632#unwritten,shared 17481728#4096#1634304#unwritten,shared 21483520#20480#1896448#unwritten,shared 21504000#24576#1916928#shared 257282048#20480#1941504#shared 246218752#86016#1961984#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 248492032 /mnt/scratch
inode 292 offset 118784 root 258
inode 292 offset 118784 root 5
inode 475 offset 704512 root 258
inode 475 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 274616320 /mnt/scratch
inode 292 offset 167936 root 258
inode 292 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 277184512 /mnt/scratch
inode 292 offset 266240 root 258
inode 292 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 21458944 /mnt/scratch
inode 292 offset 368640 root 258
inode 292 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241287168 /mnt/scratch
inode 316 offset 61440 root 5
inode 292 offset 548864 root 258
inode 290 offset 24576 root 258
inode 292 offset 548864 root 258
inode 292 offset 548864 root 5
inode 290 offset 24576 root 5
inode 292 offset 548864 root 5
inode 272 offset 1613824 root 5
inode 294 offset 847872 root 5
inode 349 offset 1548288 root 5
inode 349 offset 1548288 root 5
inode 353 offset 454656 root 5
inode 349 offset 1548288 root 258
inode 349 offset 1548288 root 258
inode 294 offset 847872 root 258
inode 272 offset 1613824 root 258
inode 316 offset 61440 root 258
inode 353 offset 454656 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241389568 /mnt/scratch
inode 308 offset 593920 root 5
inode 313 offset 282624 root 5
inode 313 offset 716800 root 5
inode 313 offset 716800 root 5
inode 335 offset 1310720 root 5
inode 292 offset 581632 root 258
inode 292 offset 1114112 root 258
inode 292 offset 1409024 root 258
inode 292 offset 1409024 root 258
inode 290 offset 311296 root 258
inode 292 offset 1114112 root 258
inode 292 offset 1409024 root 258
inode 290 offset 311296 root 258
inode 292 offset 581632 root 258
inode 292 offset 1114112 root 258
inode 292 offset 1409024 root 258
inode 292 offset 581632 root 5
inode 292 offset 1114112 root 5
inode 292 offset 1409024 root 5
inode 292 offset 1409024 root 5
inode 290 offset 311296 root 5
inode 292 offset 1114112 root 5
inode 292 offset 1409024 root 5
inode 290 offset 311296 root 5
inode 292 offset 581632 root 5
inode 292 offset 1114112 root 5
inode 292 offset 1409024 root 5
inode 294 offset 1073152 root 5
inode 294 offset 1073152 root 5
inode 302 offset 1277952 root 5
inode 302 offset 1277952 root 5
inode 294 offset 1073152 root 258
inode 294 offset 1073152 root 258
inode 302 offset 1277952 root 258
inode 302 offset 1277952 root 258
inode 313 offset 716800 root 258
inode 313 offset 282624 root 258
inode 313 offset 716800 root 258
inode 308 offset 593920 root 258
inode 335 offset 1310720 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241750016 /mnt/scratch
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 349 offset 12288 root 258
inode 270 offset 4108288 root 258
inode 292 offset 1134592 root 258
inode 292 offset 630784 root 258
inode 292 offset 1134592 root 258
inode 292 offset 1134592 root 5
inode 292 offset 630784 root 5
inode 292 offset 1134592 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 349 offset 12288 root 5
inode 270 offset 4108288 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 17383424 /mnt/scratch
inode 302 offset 671744 root 5
inode 292 offset 802816 root 258
inode 292 offset 802816 root 5
inode 316 offset 376832 root 5
inode 316 offset 376832 root 258
inode 302 offset 671744 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 17420288 /mnt/scratch
inode 292 offset 839680 root 258
inode 292 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241750016 /mnt/scratch
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 349 offset 12288 root 258
inode 270 offset 4108288 root 258
inode 292 offset 1134592 root 258
inode 292 offset 630784 root 258
inode 292 offset 1134592 root 258
inode 292 offset 1134592 root 5
inode 292 offset 630784 root 5
inode 292 offset 1134592 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 349 offset 12288 root 5
inode 270 offset 4108288 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 273031168 /mnt/scratch
inode 292 offset 1257472 root 258
inode 292 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 20901888 /mnt/scratch
inode 292 offset 1335296 root 258
inode 292 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241192960 /mnt/scratch
inode 292 offset 1372160 root 258
inode 292 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 17846272 /mnt/scratch
inode 292 offset 1605632 root 258
inode 272 offset 831488 root 258
inode 302 offset 1302528 root 258
inode 292 offset 1605632 root 5
inode 272 offset 831488 root 5
inode 302 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 17481728 /mnt/scratch
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 258
inode 306 offset 4505600 root 5
inode 306 offset 4505600 root 5
inode 266 offset 1114112 root 258
inode 266 offset 1114112 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 391 offset 135168 root 258
inode 390 offset 1937408 root 258
inode 391 offset 135168 root 5
inode 390 offset 1937408 root 5
inode 412 offset 671744 root 5
inode 422 offset 192512 root 5
inode 415 offset 299008 root 5
inode 415 offset 94208 root 5
inode 415 offset 299008 root 5
inode 281 offset 1527808 root 5
inode 281 offset 1527808 root 5
inode 292 offset 1634304 root 5
inode 292 offset 1634304 root 5
inode 294 offset 1880064 root 5
inode 294 offset 679936 root 5
inode 294 offset 1880064 root 5
inode 346 offset 3952640 root 5
inode 346 offset 5308416 root 5
inode 346 offset 5308416 root 5
inode 292 offset 901120 root 258
inode 286 offset 1650688 root 258
inode 292 offset 901120 root 5
inode 286 offset 1650688 root 5
inode 458 offset 339968 root 258
inode 459 offset 229376 root 258
inode 459 offset 86016 root 258
inode 459 offset 229376 root 258
inode 462 offset 65536 root 258
inode 463 offset 671744 root 258
inode 458 offset 339968 root 5
inode 459 offset 229376 root 5
inode 459 offset 86016 root 5
inode 459 offset 229376 root 5
inode 462 offset 65536 root 5
inode 463 offset 671744 root 5
inode 544 offset 253952 root 5
inode 531 offset 704512 root 5
inode 382 offset 954368 root 258
inode 382 offset 954368 root 5
inode 361 offset 77824 root 258
inode 361 offset 77824 root 5
inode 375 offset 1978368 root 5
inode 375 offset 1175552 root 5
inode 375 offset 1978368 root 5
inode 322 offset 2355200 root 5
inode 322 offset 1789952 root 5
inode 322 offset 2355200 root 5
inode 455 offset 503808 root 5
inode 457 offset 393216 root 5
inode 454 offset 327680 root 5
inode 447 offset 458752 root 5
inode 519 offset 114688 root 5
inode 498 offset 450560 root 5
inode 482 offset 77824 root 258
inode 482 offset 77824 root 5
inode 473 offset 1454080 root 258
inode 473 offset 589824 root 258
inode 473 offset 1454080 root 258
inode 473 offset 1454080 root 5
inode 473 offset 589824 root 5
inode 473 offset 1454080 root 5
inode 552 offset 69632 root 5
inode 335 offset 782336 root 5
inode 335 offset 188416 root 5
inode 335 offset 782336 root 5
inode 352 offset 49152 root 5
inode 444 offset 258048 root 5
inode 493 offset 163840 root 258
inode 486 offset 1011712 root 258
inode 493 offset 163840 root 5
inode 486 offset 1011712 root 5
inode 313 offset 1908736 root 5
inode 544 offset 253952 root 258
inode 531 offset 704512 root 258
inode 375 offset 1978368 root 258
inode 375 offset 1175552 root 258
inode 375 offset 1978368 root 258
inode 322 offset 2355200 root 258
inode 322 offset 1789952 root 258
inode 322 offset 2355200 root 258
inode 455 offset 503808 root 258
inode 457 offset 393216 root 258
inode 454 offset 327680 root 258
inode 447 offset 458752 root 258
inode 415 offset 299008 root 258
inode 415 offset 94208 root 258
inode 415 offset 299008 root 258
inode 422 offset 192512 root 258
inode 519 offset 114688 root 258
inode 498 offset 450560 root 258
inode 294 offset 1880064 root 258
inode 292 offset 1634304 root 258
inode 294 offset 679936 root 258
inode 294 offset 1880064 root 258
inode 552 offset 69632 root 258
inode 346 offset 3952640 root 258
inode 346 offset 5308416 root 258
inode 346 offset 5308416 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 281 offset 1527808 root 258
inode 281 offset 1527808 root 258
inode 335 offset 782336 root 258
inode 335 offset 188416 root 258
inode 335 offset 782336 root 258
inode 412 offset 671744 root 258
inode 352 offset 49152 root 258
inode 444 offset 258048 root 258
inode 313 offset 1908736 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 21483520 /mnt/scratch
inode 292 offset 1896448 root 258
inode 292 offset 1896448 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 21504000 /mnt/scratch
inode 292 offset 1916928 root 258
inode 292 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 257282048 /mnt/scratch
inode 292 offset 1941504 root 258
inode 292 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
292
# /bin/btrfs inspect-internal logical-resolve -P 246218752 /mnt/scratch
inode 292 offset 1961984 root 258
inode 292 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d13/d87/fb8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f101
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f101 is 1109414 (271 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      16:       4264..      4268:      5:         12: unwritten,shared
   1:      255..     270:      69761..     69776:     16:       4507: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d5b/f101: 2 extents found
after filter: 17465344#20480#49152#unwritten,shared 285741056#65536#1044480#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f101
462
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f101
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f101
462
# /bin/btrfs inspect-internal logical-resolve -P 285741056 /mnt/scratch
inode 462 offset 1044480 root 258
inode 462 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f101
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120 is 1573519 (385 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      175..     191:      67153..     67169:     17:        175: shared
   1:      192..     192:      67727..     67727:      1:      67170: shared
   2:      243..     247:       4264..      4268:      5:      67778: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120: 3 extents found
after filter: 275058688#69632#716800#shared 277409792#4096#786432#shared 17465344#20480#995328#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
486
# /bin/btrfs inspect-internal logical-resolve -P 275058688 /mnt/scratch
inode 486 offset 716800 root 258
inode 486 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
486
# /bin/btrfs inspect-internal logical-resolve -P 277409792 /mnt/scratch
inode 486 offset 786432 root 258
inode 486 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517643252
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
486
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/df2/f120
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/f145
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/f145 is 845579 (207 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       24..      28:       4264..      4268:      5:         24: unwritten,shared
   1:      202..     206:      69848..     69852:      5:       4442: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/f145: 2 extents found
after filter: 17465344#20480#98304#unwritten,shared 286097408#20480#827392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f145
519
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f145
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f145
519
# /bin/btrfs inspect-internal logical-resolve -P 286097408 /mnt/scratch
inode 519 offset 827392 root 258
inode 519 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f145
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121 is 994346 (243 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      32:      67281..     67281:      1:         32: unwritten,shared
   1:       94..     107:      66030..     66043:     14:      67343: shared
   2:      133..     134:      67626..     67627:      2:      66069: unwritten,shared
   3:      152..     153:      67626..     67627:      2:      67645: unwritten,shared
   4:      231..     242:      67018..     67029:     12:      67705: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121: 5 extents found
after filter: 275582976#4096#131072#unwritten,shared 270458880#57344#385024#shared 276996096#8192#544768#unwritten,shared 276996096#8192#622592#unwritten,shared 274505728#49152#946176#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
487
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
487
# /bin/btrfs inspect-internal logical-resolve -P 270458880 /mnt/scratch
inode 487 offset 385024 root 258
inode 487 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
487
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
487
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
487
# /bin/btrfs inspect-internal logical-resolve -P 274505728 /mnt/scratch
inode 487 offset 946176 root 258
inode 487 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/dc3/f121
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/f9d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/f9d is 1801946 (440 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       31..      44:      62799..     62812:     14:         31: shared
   1:       56..      57:      67626..     67627:      2:      62824: unwritten,shared
   2:      216..     226:      62208..     62218:     11:      67786: shared
   3:      227..     227:      63295..     63295:      1:      62219: shared
   4:      259..     259:      63296..     63296:      1:             shared
   5:      260..     272:      73483..     73495:     13:      63297: shared
   6:      273..     274:      58937..     58938:      2:      73496: unwritten,shared
   7:      278..     289:      63315..     63326:     12:      58942: shared
   8:      339..     339:      67007..     67007:      1:      63376: shared
   9:      363..     364:      67626..     67627:      2:      67031: unwritten,shared
  10:      431..     439:      67008..     67016:      9:      67694: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d25/f9d: 10 extents found
after filter: 257224704#57344#126976#shared 276996096#8192#229376#unwritten,shared 254803968#45056#884736#shared 259256320#4096#929792#shared 259260416#4096#1060864#shared 300986368#53248#1064960#shared 241405952#8192#1118208#unwritten,shared 259338240#49152#1138688#shared 274460672#4096#1388544#shared 276996096#8192#1486848#unwritten,shared 274464768#36864#1765376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 257224704 /mnt/scratch
inode 384 offset 126976 root 258
inode 384 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 254803968 /mnt/scratch
inode 384 offset 884736 root 258
inode 384 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 259256320 /mnt/scratch
inode 384 offset 929792 root 258
inode 384 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 259260416 /mnt/scratch
inode 384 offset 1060864 root 258
inode 384 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 300986368 /mnt/scratch
inode 384 offset 1064960 root 258
inode 384 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 241405952 /mnt/scratch
inode 292 offset 598016 root 258
inode 292 offset 1130496 root 258
inode 292 offset 1425408 root 258
inode 292 offset 1425408 root 258
inode 290 offset 327680 root 258
inode 292 offset 1130496 root 258
inode 292 offset 1425408 root 258
inode 290 offset 327680 root 258
inode 292 offset 598016 root 258
inode 292 offset 1130496 root 258
inode 292 offset 1425408 root 258
inode 292 offset 598016 root 5
inode 292 offset 1130496 root 5
inode 292 offset 1425408 root 5
inode 292 offset 1425408 root 5
inode 290 offset 327680 root 5
inode 292 offset 1130496 root 5
inode 292 offset 1425408 root 5
inode 290 offset 327680 root 5
inode 292 offset 598016 root 5
inode 292 offset 1130496 root 5
inode 292 offset 1425408 root 5
inode 294 offset 1089536 root 5
inode 294 offset 1089536 root 5
inode 313 offset 299008 root 5
inode 302 offset 1294336 root 5
inode 302 offset 1294336 root 5
inode 384 offset 1118208 root 5
inode 384 offset 1118208 root 258
inode 294 offset 1089536 root 258
inode 294 offset 1089536 root 258
inode 302 offset 1294336 root 258
inode 302 offset 1294336 root 258
inode 313 offset 299008 root 258
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 259338240 /mnt/scratch
inode 384 offset 1138688 root 258
inode 384 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 274460672 /mnt/scratch
inode 384 offset 1388544 root 258
inode 384 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f9d
384
# /bin/btrfs inspect-internal logical-resolve -P 274464768 /mnt/scratch
inode 384 offset 1765376 root 258
inode 384 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f9d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/fec
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/fec is 1531515 (374 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      54:       4255..      4259:      5:         50: unwritten,shared
   1:       57..      63:       4262..      4268:      7:             unwritten,shared
   2:      125..     126:      66858..     66859:      2:       4330: shared
   3:      127..     127:      70315..     70315:      1:      66860: shared
   4:      136..     156:      71342..     71362:     21:      70324: shared
   5:      287..     326:      68133..     68172:     40:      71493: unwritten,shared
   6:      332..     359:      68178..     68205:     28:             unwritten,shared
   7:      360..     373:      68206..     68219:     14:             shared,eof
   8:      374..     485:      68220..     68331:    112:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/d6/fec: 5 extents found
after filter: 17428480#20480#204800#unwritten,shared 17457152#28672#233472#unwritten,shared 273850368#8192#512000#shared 288010240#4096#520192#shared 292216832#86016#557056#shared 279072768#163840#1175552#unwritten,shared 279257088#114688#1359872#unwritten,shared 279371776#57344#1474560#shared,eof 279429120#458752#1531904#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 273850368 /mnt/scratch
inode 444 offset 512000 root 258
inode 444 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 288010240 /mnt/scratch
inode 444 offset 520192 root 258
inode 444 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 292216832 /mnt/scratch
inode 444 offset 557056 root 258
inode 444 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 279072768 /mnt/scratch
inode 444 offset 1175552 root 258
inode 444 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 279257088 /mnt/scratch
inode 444 offset 1359872 root 258
inode 444 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 279371776 /mnt/scratch
inode 444 offset 1474560 root 258
inode 444 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/fec
444
# /bin/btrfs inspect-internal logical-resolve -P 279429120 /mnt/scratch
inode 444 offset 1531904 root 258
inode 444 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/fec
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3 is 1675264 (409 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      141..     142:      67626..     67627:      2:        141: unwritten,shared
   1:      159..     164:      66908..     66913:      6:      67644: shared
   2:      165..     166:      66241..     66242:      2:      66914: shared
   3:      192..     204:      66914..     66926:     13:      66268: shared
   4:      205..     206:      65319..     65320:      2:      66927: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3: 5 extents found
after filter: 276996096#8192#577536#unwritten,shared 274055168#24576#651264#shared 271323136#8192#675840#shared 274079744#53248#786432#shared 267546624#8192#839680#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
401
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
401
# /bin/btrfs inspect-internal logical-resolve -P 274055168 /mnt/scratch
inode 401 offset 651264 root 258
inode 401 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
401
# /bin/btrfs inspect-internal logical-resolve -P 271323136 /mnt/scratch
inode 401 offset 675840 root 258
inode 401 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
401
# /bin/btrfs inspect-internal logical-resolve -P 274079744 /mnt/scratch
inode 401 offset 786432 root 258
inode 401 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
401
# /bin/btrfs inspect-internal logical-resolve -P 267546624 /mnt/scratch
inode 401 offset 839680 root 258
inode 401 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/fb3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96 is 2564096 (626 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       94..     100:      62090..     62096:      7:         94: shared
   1:      122..     123:      67280..     67281:      2:      62118: unwritten,shared
   2:      125..     125:      63976..     63976:      1:      67283: shared
   3:      135..     142:      65533..     65540:      8:      63986: shared
   4:      228..     231:      69697..     69700:      4:      65626: shared
   5:      232..     254:      69451..     69473:     23:      69701: shared
   6:      262..     270:      63977..     63985:      9:      69481: shared
   7:      271..     271:      66855..     66855:      1:      63986: shared
   8:      336..     347:      70821..     70832:     12:      66920: shared
   9:      414..     423:      64882..     64891:     10:      70899: shared
  10:      507..     530:      66001..     66024:     24:      64975: shared
  11:      607..     625:      72809..     72827:     19:      66101: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96: 12 extents found
after filter: 254320640#28672#385024#shared 275578880#8192#499712#unwritten,shared 262045696#4096#512000#shared 268423168#32768#552960#shared 285478912#16384#933888#shared 284471296#94208#950272#shared 262049792#36864#1073152#shared 273838080#4096#1110016#shared 290082816#49152#1376256#shared 265756672#40960#1695744#shared 270340096#98304#2076672#shared 298225664#77824#2486272#last,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 254320640 /mnt/scratch
inode 379 offset 385024 root 258
inode 379 offset 385024 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518220983
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 262045696 /mnt/scratch
inode 379 offset 512000 root 258
inode 379 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 268423168 /mnt/scratch
inode 379 offset 552960 root 258
inode 379 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 285478912 /mnt/scratch
inode 379 offset 933888 root 258
inode 379 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 284471296 /mnt/scratch
inode 379 offset 950272 root 258
inode 379 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 262049792 /mnt/scratch
inode 379 offset 1073152 root 258
inode 379 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 273838080 /mnt/scratch
inode 379 offset 1110016 root 258
inode 379 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 290082816 /mnt/scratch
inode 379 offset 1376256 root 258
inode 379 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 265756672 /mnt/scratch
inode 379 offset 1695744 root 258
inode 379 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 270340096 /mnt/scratch
inode 480 offset 188416 root 258
inode 480 offset 188416 root 5
inode 379 offset 2076672 root 258
inode 379 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
379
# /bin/btrfs inspect-internal logical-resolve -P 298225664 /mnt/scratch
inode 379 offset 2486272 root 258
inode 379 offset 2486272 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f96
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/fe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/fe is 4587520 (1120 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      76:       5196..      5218:     23:         54: shared
   1:      161..     179:       3836..      3854:     19:       5303: unwritten,shared
   2:      182..     183:       3857..      3858:      2:             unwritten,shared
   3:      184..     185:      67626..     67627:      2:       3859: unwritten,shared
   4:      197..     197:      60927..     60927:      1:      67639: unwritten,shared
   5:      198..     206:       3819..      3827:      9:      60928: shared
   6:      207..     216:       3764..      3773:     10:       3828: shared
   7:      217..     235:       3873..      3891:     19:       3774: unwritten,shared
   8:      236..     237:      60928..     60929:      2:       3892: unwritten,shared
   9:      238..     243:       3894..      3899:      6:      60930: unwritten,shared
  10:      244..     248:       4255..      4259:      5:       3900: unwritten,shared
  11:      249..     250:      72708..     72709:      2:       4260: unwritten,shared
  12:      251..     257:       4262..      4268:      7:      72710: unwritten,shared
  13:      258..     259:       3914..      3915:      2:       4269: unwritten,shared
  14:      260..     278:      72710..     72728:     19:       3916: unwritten,shared
  15:      279..     287:      60942..     60950:      9:      72729: unwritten,shared
  16:      288..     298:       4283..      4293:     11:      60951: unwritten,shared
  17:      299..     327:      60962..     60990:     29:       4294: unwritten,shared
  18:      328..     331:      72729..     72732:      4:      60991: unwritten,shared
  19:      332..     344:      60995..     61007:     13:      72733: unwritten,shared
  20:      345..     366:       3742..      3763:     22:      61008: shared
  21:      367..     373:      61008..     61014:      7:       3764: unwritten,shared
  22:      374..     386:      72733..     72745:     13:      61015: unwritten,shared
  23:      387..     388:      67626..     67627:      2:      72746: unwritten,shared
  24:      389..     402:      72746..     72759:     14:      67628: unwritten,shared
  25:      403..     407:      61529..     61533:      5:      72760: shared
  26:      408..     424:      72760..     72776:     17:      61534: unwritten,shared
  27:      433..     453:      72785..     72805:     21:             unwritten,shared
  28:      492..     506:       5139..      5153:     15:      72844: shared
  29:      519..     528:       4681..      4690:     10:       5166: shared
  30:      540..     569:       4728..      4757:     30:       4702: shared
  31:      583..     589:       4661..      4667:      7:       4771: shared
  32:      613..     619:      62011..     62017:      7:       4691: shared
  33:      637..     662:       5154..      5179:     26:      62035: shared
  34:      733..     739:      66927..     66933:      7:       5250: shared
  35:      784..     785:       4856..      4857:      2:      66978: unwritten,shared
  36:      788..     800:       4860..      4872:     13:             unwritten,shared
  37:      806..     838:       4878..      4910:     33:             unwritten,shared
  38:      851..     851:      58928..     58928:      1:       4923: unwritten,shared
  39:      852..     852:       4924..      4924:      1:      58929: unwritten,shared
  40:      853..     853:       4925..      4925:      1:             shared
  41:     1003..    1003:      59021..     59021:      1:       5075: unwritten,shared
  42:     1039..    1055:      59535..     59551:     17:      59057: shared
  43:     1056..    1066:      58832..     58842:     11:      59552: last,shared
/mnt/scratch/snap1/p0/d5/fe: 39 extents found
after filter: 21282816#94208#221184#shared 15712256#77824#659456#unwritten,shared 15798272#8192#745472#unwritten,shared 276996096#8192#753664#unwritten,shared 249556992#4096#806912#unwritten,shared 15642624#36864#811008#shared 15417344#40960#847872#shared 15863808#77824#888832#unwritten,shared 249561088#8192#966656#unwritten,shared 15949824#24576#974848#unwritten,shared 17428480#20480#999424#unwritten,shared 297811968#8192#1019904#unwritten,shared 17457152#28672#1028096#unwritten,shared 16031744#8192#1056768#unwritten,shared 297820160#77824#1064960#unwritten,shared 249618432#36864#1142784#unwritten,shared 17543168#45056#1179648#unwritten,shared 249700352#118784#1224704#unwritten,shared 297897984#16384#1343488#unwritten,shared 249835520#53248#1359872#unwritten,shared 15327232#90112#1413120#shared 249888768#28672#1503232#unwritten,shared 297914368#53248#1531904#unwritten,shared 276996096#8192#1585152#unwritten,shared 297967616#57344#1593344#unwritten,shared 252022784#20480#1650688#shared 298024960#69632#1671168#unwritten,shared 298127360#86016#1773568#unwritten,shared 21049344#61440#2015232#shared 19173376#40960#2125824#shared 19365888#122880#2211840#shared 19091456#28672#2387968#shared 253997056#28672#2510848#shared 21110784#106496#2609152#shared 274132992#28672#3002368#shared 19890176#8192#3211264#unwritten,shared 19906560#53248#3227648#unwritten,shared 19980288#135168#3301376#unwritten,shared 241369088#4096#3485696#unwritten,shared 20168704#4096#3489792#unwritten,shared 20172800#4096#3493888#shared 241750016#4096#4108288#unwritten,shared 243855360#69632#4255744#shared 240975872#45056#4325376#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 21282816 /mnt/scratch
inode 270 offset 221184 root 258
inode 270 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15712256 /mnt/scratch
inode 270 offset 659456 root 258
inode 270 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15798272 /mnt/scratch
inode 270 offset 745472 root 258
inode 270 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249556992 /mnt/scratch
inode 270 offset 806912 root 258
inode 270 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15642624 /mnt/scratch
inode 270 offset 811008 root 258
inode 270 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15417344 /mnt/scratch
inode 270 offset 847872 root 258
inode 270 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15863808 /mnt/scratch
inode 270 offset 888832 root 258
inode 270 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249561088 /mnt/scratch
inode 270 offset 966656 root 258
inode 270 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15949824 /mnt/scratch
inode 270 offset 974848 root 258
inode 270 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 17428480 /mnt/scratch
inode 306 offset 139264 root 258
inode 306 offset 4452352 root 258
inode 306 offset 4452352 root 258
inode 306 offset 139264 root 5
inode 306 offset 4452352 root 5
inode 306 offset 4452352 root 5
inode 266 offset 1060864 root 258
inode 266 offset 1060864 root 5
inode 270 offset 999424 root 5
inode 270 offset 999424 root 5
inode 391 offset 81920 root 258
inode 391 offset 81920 root 5
inode 412 offset 618496 root 5
inode 346 offset 3899392 root 5
inode 292 offset 847872 root 258
inode 292 offset 847872 root 5
inode 458 offset 286720 root 258
inode 458 offset 286720 root 5
inode 382 offset 901120 root 258
inode 382 offset 901120 root 5
inode 444 offset 204800 root 5
inode 346 offset 3899392 root 258
inode 270 offset 999424 root 258
inode 270 offset 999424 root 258
inode 412 offset 618496 root 258
inode 444 offset 204800 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 297811968 /mnt/scratch
inode 270 offset 1019904 root 258
inode 270 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 17457152 /mnt/scratch
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 258
inode 306 offset 4481024 root 5
inode 306 offset 4481024 root 5
inode 422 offset 606208 root 5
inode 422 offset 606208 root 5
inode 266 offset 1089536 root 258
inode 266 offset 1089536 root 5
inode 270 offset 1028096 root 5
inode 270 offset 1028096 root 5
inode 391 offset 110592 root 258
inode 391 offset 110592 root 5
inode 412 offset 647168 root 5
inode 346 offset 3928064 root 5
inode 292 offset 876544 root 258
inode 292 offset 876544 root 5
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
inode 458 offset 315392 root 258
inode 458 offset 315392 root 5
inode 382 offset 929792 root 258
inode 382 offset 929792 root 5
inode 444 offset 233472 root 5
inode 346 offset 3928064 root 258
inode 270 offset 1028096 root 258
inode 270 offset 1028096 root 258
inode 422 offset 606208 root 258
inode 422 offset 606208 root 258
inode 412 offset 647168 root 258
inode 444 offset 233472 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 16031744 /mnt/scratch
inode 270 offset 1056768 root 258
inode 270 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 297820160 /mnt/scratch
inode 270 offset 1064960 root 258
inode 270 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249618432 /mnt/scratch
inode 270 offset 1142784 root 258
inode 270 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 17543168 /mnt/scratch
inode 270 offset 1179648 root 5
inode 270 offset 1179648 root 5
inode 272 offset 1867776 root 5
inode 357 offset 24576 root 5
inode 357 offset 24576 root 258
inode 272 offset 1867776 root 258
inode 270 offset 1179648 root 258
inode 270 offset 1179648 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249700352 /mnt/scratch
inode 270 offset 1224704 root 258
inode 270 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 297897984 /mnt/scratch
inode 270 offset 1343488 root 258
inode 270 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249835520 /mnt/scratch
inode 270 offset 1359872 root 258
inode 270 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 15327232 /mnt/scratch
inode 270 offset 1413120 root 258
inode 270 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 249888768 /mnt/scratch
inode 270 offset 1503232 root 258
inode 270 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 297914368 /mnt/scratch
inode 270 offset 1531904 root 258
inode 270 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 297967616 /mnt/scratch
inode 270 offset 1593344 root 258
inode 270 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d5/fe
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517766054
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 252022784 /mnt/scratch
inode 270 offset 1650688 root 258
inode 270 offset 1650688 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 298024960 /mnt/scratch
inode 270 offset 1671168 root 258
inode 270 offset 1671168 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 298127360 /mnt/scratch
inode 270 offset 1773568 root 258
inode 270 offset 1773568 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 21049344 /mnt/scratch
inode 270 offset 2015232 root 258
inode 270 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19173376 /mnt/scratch
inode 270 offset 2125824 root 258
inode 270 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19365888 /mnt/scratch
inode 270 offset 2211840 root 258
inode 270 offset 2211840 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19091456 /mnt/scratch
inode 270 offset 2387968 root 258
inode 270 offset 2387968 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 253997056 /mnt/scratch
inode 270 offset 2510848 root 258
inode 270 offset 2510848 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 21110784 /mnt/scratch
inode 270 offset 2609152 root 258
inode 270 offset 2609152 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 274132992 /mnt/scratch
inode 270 offset 3002368 root 258
inode 270 offset 3002368 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19890176 /mnt/scratch
inode 270 offset 3211264 root 258
inode 270 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19906560 /mnt/scratch
inode 270 offset 3227648 root 258
inode 270 offset 3227648 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 19980288 /mnt/scratch
inode 270 offset 3301376 root 258
inode 270 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 241369088 /mnt/scratch
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 290 offset 290816 root 258
inode 292 offset 1093632 root 258
inode 292 offset 1388544 root 258
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 290 offset 290816 root 5
inode 292 offset 1093632 root 5
inode 292 offset 1388544 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 294 offset 2101248 root 5
inode 294 offset 1052672 root 5
inode 294 offset 2101248 root 5
inode 313 offset 696320 root 5
inode 313 offset 696320 root 5
inode 302 offset 757760 root 5
inode 302 offset 1257472 root 5
inode 302 offset 1257472 root 5
inode 270 offset 3485696 root 5
inode 353 offset 2314240 root 5
inode 353 offset 2314240 root 5
inode 428 offset 122880 root 5
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 258
inode 267 offset 217088 root 258
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 267 offset 163840 root 5
inode 267 offset 217088 root 5
inode 423 offset 167936 root 5
inode 375 offset 180224 root 5
inode 281 offset 503808 root 5
inode 270 offset 3485696 root 258
inode 353 offset 2314240 root 258
inode 353 offset 2314240 root 258
inode 428 offset 122880 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 294 offset 2101248 root 258
inode 294 offset 1052672 root 258
inode 294 offset 2101248 root 258
inode 302 offset 1257472 root 258
inode 302 offset 757760 root 258
inode 302 offset 1257472 root 258
inode 313 offset 696320 root 258
inode 313 offset 696320 root 258
inode 423 offset 167936 root 258
inode 375 offset 180224 root 258
inode 281 offset 503808 root 258
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 20168704 /mnt/scratch
inode 270 offset 3489792 root 258
inode 270 offset 3489792 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 20172800 /mnt/scratch
inode 270 offset 3493888 root 258
inode 270 offset 3493888 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 241750016 /mnt/scratch
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 349 offset 12288 root 258
inode 270 offset 4108288 root 258
inode 292 offset 1134592 root 258
inode 292 offset 630784 root 258
inode 292 offset 1134592 root 258
inode 292 offset 1134592 root 5
inode 292 offset 630784 root 5
inode 292 offset 1134592 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 349 offset 12288 root 5
inode 270 offset 4108288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 243855360 /mnt/scratch
inode 270 offset 4255744 root 258
inode 270 offset 4255744 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# stat -c %i /mnt/scratch/snap1/p0/d5/fe
270
# /bin/btrfs inspect-internal logical-resolve -P 240975872 /mnt/scratch
inode 270 offset 4325376 root 258
inode 270 offset 4325376 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/fe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/f1d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/f1d is 3678255 (899 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      41:      60206..     60224:     19:         23: shared
   1:       71..      86:       4303..      4318:     16:      60254: shared
   2:       92..      93:       4691..      4692:      2:       4324: shared
   3:      125..     125:       4319..      4319:      1:       4724: shared
   4:      137..     154:      59905..     59922:     18:       4331: shared
   5:      201..     251:       4355..      4405:     51:      59969: unwritten,shared
   6:      252..     265:       3923..      3936:     14:       4406: shared
   7:      266..     282:       4406..      4422:     17:       3937: unwritten,shared
   8:      285..     305:       5011..      5031:     21:       4425: shared
   9:      346..     350:       4336..      4340:      5:       5072: shared
  10:      390..     399:      58904..     58913:     10:       4380: unwritten,shared
  11:      407..     408:       4236..      4237:      2:      58921: unwritten,shared
  12:      409..     409:       4233..      4233:      1:       4238: shared
  13:      410..     410:       5032..      5032:      1:       4234: shared
  14:      411..     411:       4238..      4238:      1:       5033: unwritten,shared
  15:      442..     443:       4269..      4270:      2:             unwritten,shared
  16:      444..     448:      60373..     60377:      5:       4271: shared
  17:      449..     462:       4276..      4289:     14:      60378: unwritten,shared
  18:      466..     475:       4293..      4302:     10:             unwritten,shared
  19:      552..     569:       5033..      5050:     18:       4379: shared
  20:      570..     570:      60378..     60378:      1:       5051: shared
  21:      604..     631:      72828..     72855:     28:      60412: shared
  22:      678..     717:      58946..     58985:     40:      72902: unwritten,shared
  23:      718..     737:      58986..     59005:     20:             shared
  24:      738..     738:      60379..     60379:      1:      59006: shared
  25:      739..     777:      59007..     59045:     39:      60380: unwritten,shared
  26:      790..     814:      59021..     59045:     25:      59058: unwritten,shared
  27:      815..     838:      71294..     71317:     24:      59046: shared
  28:      839..     867:      59107..     59135:     29:      71318: unwritten,shared
  29:      868..     889:      59136..     59157:     22:             shared
  30:      890..     890:      63581..     63581:      1:      59158: shared
  31:      891..     916:      59159..     59184:     26:      63582: unwritten,shared,eof
  32:      917..    1008:      59244..     59335:     92:      59185: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/f1d: 29 extents found
after filter: 246603776#77824#94208#shared 17625088#65536#290816#shared 19214336#8192#376832#shared 17690624#4096#512000#shared 245370880#73728#561152#shared 17838080#208896#823296#unwritten,shared 16068608#57344#1032192#shared 18046976#69632#1089536#unwritten,shared 20525056#86016#1167360#shared 17760256#20480#1417216#shared 241270784#40960#1597440#unwritten,shared 17350656#8192#1667072#unwritten,shared 17338368#4096#1675264#shared 20611072#4096#1679360#shared 17358848#4096#1683456#unwritten,shared 17485824#8192#1810432#unwritten,shared 247287808#20480#1818624#shared 17514496#57344#1839104#unwritten,shared 17584128#40960#1908736#unwritten,shared 20615168#73728#2260992#shared 247308288#4096#2334720#shared 298303488#114688#2473984#shared 241442816#163840#2777088#unwritten,shared 241606656#81920#2940928#shared 247312384#4096#3022848#shared 241692672#159744#3026944#unwritten,shared 241750016#102400#3235840#unwritten,shared 292020224#98304#3338240#shared 242102272#118784#3436544#unwritten,shared 242221056#90112#3555328#shared 260427776#4096#3645440#shared 242315264#106496#3649536#unwritten,shared,eof 242663424#376832#3756032#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 246603776 /mnt/scratch
inode 272 offset 94208 root 258
inode 272 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17625088 /mnt/scratch
inode 272 offset 290816 root 258
inode 272 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 19214336 /mnt/scratch
inode 272 offset 376832 root 258
inode 272 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17690624 /mnt/scratch
inode 272 offset 512000 root 258
inode 272 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 245370880 /mnt/scratch
inode 272 offset 561152 root 258
inode 272 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17838080 /mnt/scratch
inode 272 offset 823296 root 258
inode 272 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 16068608 /mnt/scratch
inode 272 offset 1032192 root 258
inode 272 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 18046976 /mnt/scratch
inode 272 offset 1089536 root 258
inode 272 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 20525056 /mnt/scratch
inode 272 offset 1167360 root 258
inode 272 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17760256 /mnt/scratch
inode 272 offset 1417216 root 258
inode 272 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17350656 /mnt/scratch
inode 272 offset 1667072 root 258
inode 272 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17338368 /mnt/scratch
inode 272 offset 1675264 root 258
inode 272 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 20611072 /mnt/scratch
inode 272 offset 1679360 root 258
inode 272 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17358848 /mnt/scratch
inode 272 offset 1683456 root 5
inode 272 offset 1683456 root 258
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517430011
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17485824 /mnt/scratch
inode 272 offset 1810432 root 5
inode 272 offset 1810432 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 247287808 /mnt/scratch
inode 272 offset 1818624 root 258
inode 272 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17514496 /mnt/scratch
inode 272 offset 1839104 root 5
inode 272 offset 1839104 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 17584128 /mnt/scratch
inode 270 offset 1220608 root 5
inode 270 offset 1220608 root 5
inode 267 offset 348160 root 258
inode 267 offset 348160 root 5
inode 281 offset 212992 root 5
inode 272 offset 1908736 root 5
inode 357 offset 65536 root 5
inode 357 offset 65536 root 258
inode 272 offset 1908736 root 258
inode 270 offset 1220608 root 258
inode 270 offset 1220608 root 258
inode 281 offset 212992 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 20615168 /mnt/scratch
inode 272 offset 2260992 root 258
inode 272 offset 2260992 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 247308288 /mnt/scratch
inode 272 offset 2334720 root 258
inode 272 offset 2334720 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 298303488 /mnt/scratch
inode 272 offset 2473984 root 258
inode 272 offset 2473984 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 241442816 /mnt/scratch
inode 272 offset 2777088 root 258
inode 272 offset 2777088 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 241606656 /mnt/scratch
inode 272 offset 2940928 root 258
inode 272 offset 2940928 root 258
inode 272 offset 2940928 root 5
inode 272 offset 2940928 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 247312384 /mnt/scratch
inode 272 offset 3022848 root 258
inode 272 offset 3022848 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 241692672 /mnt/scratch
inode 272 offset 3026944 root 258
inode 272 offset 3026944 root 258
inode 272 offset 3026944 root 5
inode 272 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 241750016 /mnt/scratch
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 272 offset 3084288 root 258
inode 272 offset 3235840 root 258
inode 349 offset 12288 root 258
inode 270 offset 4108288 root 258
inode 292 offset 1134592 root 258
inode 292 offset 630784 root 258
inode 292 offset 1134592 root 258
inode 292 offset 1134592 root 5
inode 292 offset 630784 root 5
inode 292 offset 1134592 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 272 offset 3084288 root 5
inode 272 offset 3235840 root 5
inode 349 offset 12288 root 5
inode 270 offset 4108288 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 292020224 /mnt/scratch
inode 272 offset 3338240 root 258
inode 272 offset 3338240 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 242102272 /mnt/scratch
inode 272 offset 3436544 root 258
inode 272 offset 3436544 root 258
inode 272 offset 3436544 root 5
inode 272 offset 3436544 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 242221056 /mnt/scratch
inode 272 offset 3555328 root 258
inode 272 offset 3555328 root 258
inode 272 offset 3555328 root 5
inode 272 offset 3555328 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 260427776 /mnt/scratch
inode 272 offset 3645440 root 258
inode 272 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 242315264 /mnt/scratch
inode 272 offset 3649536 root 258
inode 272 offset 3649536 root 258
inode 272 offset 3649536 root 5
inode 272 offset 3649536 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# stat -c %i /mnt/scratch/snap1/p0/d5/f1d
272
# /bin/btrfs inspect-internal logical-resolve -P 242663424 /mnt/scratch
inode 272 offset 3756032 root 258
inode 272 offset 3756032 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/f1d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123 is 2122850 (519 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      77:      65237..     65265:     29:         49: shared
   1:       89..      90:      67626..     67627:      2:      65277: unwritten,shared
   2:      277..     281:      67084..     67088:      5:      67814: shared
   3:      282..     282:      69777..     69777:      1:      67089: shared
   4:      297..     298:      67280..     67281:      2:      69792: unwritten,shared
   5:      508..     518:      69778..     69788:     11:      67491: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123: 6 extents found
after filter: 267210752#118784#200704#shared 276996096#8192#364544#unwritten,shared 274776064#20480#1134592#shared 285806592#4096#1155072#shared 275578880#8192#1216512#unwritten,shared 285810688#45056#2080768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 267210752 /mnt/scratch
inode 489 offset 200704 root 258
inode 489 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 274776064 /mnt/scratch
inode 489 offset 1134592 root 258
inode 489 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 285806592 /mnt/scratch
inode 489 offset 1155072 root 258
inode 489 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
489
# /bin/btrfs inspect-internal logical-resolve -P 285810688 /mnt/scratch
inode 489 offset 2080768 root 258
inode 489 offset 2080768 root 5
# /bin/btrfs inspect-internal inode-resolve 489 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/f123
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74 is 2109440 (515 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       72..      83:      62960..     62971:     12:         72: shared
   1:       92..     111:      60610..     60629:     20:      62980: shared
   2:      112..     139:      67191..     67218:     28:      60630: shared
   3:      140..     142:      59043..     59045:      3:      67219: unwritten,shared
   4:      144..     145:       3961..      3962:      2:      59047: unwritten,shared
   5:      154..     169:      60710..     60725:     16:       3971: unwritten,shared
   6:      170..     199:      59336..     59365:     30:      60726: shared
   7:      200..     221:      59875..     59896:     22:      59366: unwritten,shared
   8:      222..     231:      60726..     60735:     10:      59897: unwritten,shared
   9:      255..     255:      60759..     60759:      1:             unwritten,shared
  10:      256..     264:      60760..     60768:      9:             shared
  11:      265..     273:      60769..     60777:      9:             unwritten,shared
  12:      276..     289:      60780..     60793:     14:             unwritten,shared
  13:      309..     317:      60813..     60821:      9:             unwritten,shared
  14:      386..     386:      64585..     64585:      1:      60890: shared
  15:      502..     514:      69148..     69160:     13:      64701: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74: 11 extents found
after filter: 257884160#49152#294912#shared 248258560#81920#376832#shared 275214336#114688#458752#shared 241840128#12288#573440#unwritten,shared 16224256#8192#589824#unwritten,shared 248668160#65536#630784#unwritten,shared 243040256#122880#696320#shared 245248000#90112#819200#unwritten,shared 248733696#40960#909312#unwritten,shared 248868864#4096#1044480#unwritten,shared 248872960#36864#1048576#shared 248909824#36864#1085440#unwritten,shared 248954880#57344#1130496#unwritten,shared 249090048#36864#1265664#unwritten,shared 264540160#4096#1581056#shared 283230208#53248#2056192#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 257884160 /mnt/scratch
inode 334 offset 294912 root 258
inode 334 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248258560 /mnt/scratch
inode 334 offset 376832 root 258
inode 334 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 275214336 /mnt/scratch
inode 334 offset 458752 root 258
inode 334 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 241840128 /mnt/scratch
inode 272 offset 3174400 root 258
inode 272 offset 3325952 root 258
inode 272 offset 3174400 root 258
inode 272 offset 3325952 root 258
inode 349 offset 102400 root 258
inode 334 offset 573440 root 258
inode 272 offset 3174400 root 5
inode 272 offset 3325952 root 5
inode 272 offset 3174400 root 5
inode 272 offset 3325952 root 5
inode 349 offset 102400 root 5
inode 292 offset 720896 root 258
inode 292 offset 720896 root 5
inode 334 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 16224256 /mnt/scratch
inode 346 offset 782336 root 258
inode 353 offset 110592 root 258
inode 334 offset 589824 root 258
inode 346 offset 782336 root 5
inode 353 offset 110592 root 5
inode 334 offset 589824 root 5
inode 268 offset 1073152 root 258
inode 268 offset 1073152 root 5
inode 266 offset 659456 root 258
inode 266 offset 659456 root 5
inode 306 offset 516096 root 258
inode 306 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248668160 /mnt/scratch
inode 334 offset 630784 root 258
inode 334 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 243040256 /mnt/scratch
inode 334 offset 696320 root 258
inode 415 offset 782336 root 258
inode 334 offset 696320 root 5
inode 415 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 245248000 /mnt/scratch
inode 334 offset 819200 root 258
inode 334 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248733696 /mnt/scratch
inode 334 offset 909312 root 258
inode 334 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248868864 /mnt/scratch
inode 334 offset 1044480 root 258
inode 334 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248872960 /mnt/scratch
inode 334 offset 1048576 root 258
inode 334 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248909824 /mnt/scratch
inode 334 offset 1085440 root 258
inode 334 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 248954880 /mnt/scratch
inode 334 offset 1130496 root 258
inode 334 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 249090048 /mnt/scratch
inode 334 offset 1265664 root 258
inode 334 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 264540160 /mnt/scratch
inode 334 offset 1581056 root 258
inode 334 offset 1581056 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517840860
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
334
# /bin/btrfs inspect-internal logical-resolve -P 283230208 /mnt/scratch
inode 334 offset 2056192 root 258
inode 334 offset 2056192 root 5
# /bin/btrfs inspect-internal inode-resolve 334 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/f74
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f13d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f13d is 151952 (38 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      37:      73328..     73331:      4:         34: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f13d: 1 extent found
after filter: 300351488#16384#139264#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f13d
512
# /bin/btrfs inspect-internal logical-resolve -P 300351488 /mnt/scratch
inode 512 offset 139264 root 258
inode 512 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d67/f13d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77 is 2985984 (729 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       1:      58904..     58905:      2:             unwritten,shared
   1:        6..      16:       4283..      4293:     11:      58910: unwritten,shared
   2:       21..      23:      60069..     60071:      3:       4298: shared
   3:      137..     161:      65839..     65863:     25:      60185: shared
   4:      192..     206:      62766..     62780:     15:      65894: shared
   5:      273..     295:      64603..     64625:     23:      62847: unwritten,shared
   6:      296..     296:      67152..     67152:      1:      64626: shared
   7:      297..     314:      64626..     64643:     18:      67153: unwritten,shared
   8:      448..     448:      67281..     67281:      1:      64777: unwritten,shared
   9:      482..     490:      66688..     66696:      9:      67315: shared
  10:      655..     677:      73404..     73426:     23:      66861: shared
  11:      688..     689:      67626..     67627:      2:      73437: unwritten,shared
  12:      714..     714:      67281..     67281:      1:      67652: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77: 13 extents found
after filter: 241270784#8192#0#unwritten,shared 17543168#45056#24576#unwritten,shared 246042624#12288#86016#shared 269676544#102400#561152#shared 257089536#61440#786432#shared 264613888#94208#1118208#unwritten,shared 275054592#4096#1212416#shared 264708096#73728#1216512#unwritten,shared 275582976#4096#1835008#unwritten,shared 273154048#36864#1974272#shared 300662784#94208#2682880#shared 276996096#8192#2818048#unwritten,shared 275582976#4096#2924544#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 241270784 /mnt/scratch
inode 357 offset 0 root 5
inode 353 offset 438272 root 5
inode 316 offset 45056 root 5
inode 292 offset 532480 root 258
inode 290 offset 8192 root 258
inode 292 offset 532480 root 258
inode 292 offset 532480 root 5
inode 290 offset 8192 root 5
inode 292 offset 532480 root 5
inode 272 offset 1597440 root 5
inode 294 offset 831488 root 5
inode 349 offset 1531904 root 5
inode 349 offset 1531904 root 5
inode 306 offset 405504 root 258
inode 306 offset 405504 root 5
inode 322 offset 352256 root 5
inode 322 offset 352256 root 258
inode 349 offset 1531904 root 258
inode 349 offset 1531904 root 258
inode 294 offset 831488 root 258
inode 272 offset 1597440 root 258
inode 316 offset 45056 root 258
inode 357 offset 0 root 258
inode 353 offset 438272 root 258
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 17543168 /mnt/scratch
inode 270 offset 1179648 root 5
inode 270 offset 1179648 root 5
inode 272 offset 1867776 root 5
inode 357 offset 24576 root 5
inode 357 offset 24576 root 258
inode 272 offset 1867776 root 258
inode 270 offset 1179648 root 258
inode 270 offset 1179648 root 258
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 246042624 /mnt/scratch
inode 357 offset 86016 root 258
inode 357 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 269676544 /mnt/scratch
inode 357 offset 561152 root 258
inode 357 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 257089536 /mnt/scratch
inode 357 offset 786432 root 258
inode 357 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 264613888 /mnt/scratch
inode 357 offset 1118208 root 258
inode 357 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 275054592 /mnt/scratch
inode 357 offset 1212416 root 258
inode 357 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 264708096 /mnt/scratch
inode 357 offset 1216512 root 258
inode 357 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 273154048 /mnt/scratch
inode 357 offset 1974272 root 258
inode 357 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 300662784 /mnt/scratch
inode 357 offset 2682880 root 258
inode 357 offset 2682880 root 5
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
357
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 357 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d5e/f77
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b is 1090179 (267 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      94:      69180..     69213:     34:         61: unwritten,shared
   1:      120..     153:      69239..     69272:     34:             unwritten,shared
   2:      250..     266:      71222..     71238:     17:      69369: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b: 2 extents found
after filter: 283361280#139264#249856#unwritten,shared 283602944#139264#491520#unwritten,shared 291725312#69632#1024000#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
536
# /bin/btrfs inspect-internal logical-resolve -P 283361280 /mnt/scratch
inode 536 offset 249856 root 258
inode 536 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 536 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
536
# /bin/btrfs inspect-internal logical-resolve -P 283602944 /mnt/scratch
inode 536 offset 491520 root 258
inode 536 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 536 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
536
# /bin/btrfs inspect-internal logical-resolve -P 291725312 /mnt/scratch
inode 536 offset 1024000 root 258
inode 536 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 536 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/f15b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/f109
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/f109 is 1630208 (398 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       95..     109:      69746..     69760:     15:         95: shared
   1:      194..     198:      64899..     64903:      5:      69845: unwritten,shared
   2:      201..     226:      63217..     63242:     26:      64906: shared
   3:      227..     241:      64932..     64946:     15:      63243: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/dd/d23/f109: 4 extents found
after filter: 285679616#61440#389120#shared 265826304#20480#794624#unwritten,shared 258936832#106496#823296#shared 265961472#61440#929792#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f109
468
# /bin/btrfs inspect-internal logical-resolve -P 285679616 /mnt/scratch
inode 468 offset 389120 root 258
inode 468 offset 389120 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f109
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f109
468
# /bin/btrfs inspect-internal logical-resolve -P 265826304 /mnt/scratch
inode 468 offset 794624 root 258
inode 468 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f109
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f109
468
# /bin/btrfs inspect-internal logical-resolve -P 258936832 /mnt/scratch
inode 352 offset 331776 root 258
inode 468 offset 823296 root 258
inode 352 offset 331776 root 5
inode 468 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f109
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/f109
468
# /bin/btrfs inspect-internal logical-resolve -P 265961472 /mnt/scratch
inode 468 offset 929792 root 258
inode 468 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/f109
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f is 1355776 (331 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      12:       4264..      4268:      5:          8: unwritten,shared
   1:       81..     107:      63217..     63243:     27:       4337: shared
   2:      108..     125:      61329..     61346:     18:      63244: unwritten,shared
   3:      126..     134:      62057..     62065:      9:      61347: shared
   4:      135..     135:      62837..     62837:      1:      62066: shared
   5:      136..     136:      61357..     61357:      1:      62838: unwritten,shared
   6:      137..     138:      67626..     67627:      2:      61358: unwritten,shared
   7:      143..     188:      72222..     72267:     46:      67632: unwritten,shared
   8:      189..     190:      61410..     61411:      2:      72268: unwritten,shared
   9:      191..     200:      72268..     72277:     10:      61412: unwritten,shared
  10:      201..     201:      73442..     73442:      1:      72278: shared
  11:      202..     222:      72278..     72298:     21:      73443: unwritten,shared
  12:      307..     330:      73101..     73124:     24:      72383: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f: 13 extents found
after filter: 17465344#20480#32768#unwritten,shared 258936832#110592#331776#shared 251203584#73728#442368#unwritten,shared 254185472#36864#516096#shared 257380352#4096#552960#shared 251318272#4096#557056#unwritten,shared 276996096#8192#561152#unwritten,shared 295821312#188416#585728#unwritten,shared 251535360#8192#774144#unwritten,shared 296009728#40960#782336#unwritten,shared 300818432#4096#823296#shared 296050688#86016#827392#unwritten,shared 299421696#98304#1257472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 258936832 /mnt/scratch
inode 352 offset 331776 root 258
inode 468 offset 823296 root 258
inode 352 offset 331776 root 5
inode 468 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 251203584 /mnt/scratch
inode 346 offset 1708032 root 258
inode 313 offset 577536 root 258
inode 313 offset 499712 root 258
inode 313 offset 577536 root 258
inode 352 offset 442368 root 258
inode 346 offset 1708032 root 5
inode 313 offset 577536 root 5
inode 313 offset 499712 root 5
inode 313 offset 577536 root 5
inode 352 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 254185472 /mnt/scratch
inode 352 offset 516096 root 258
inode 352 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 257380352 /mnt/scratch
inode 352 offset 552960 root 258
inode 352 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 251318272 /mnt/scratch
inode 352 offset 557056 root 258
inode 352 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 295821312 /mnt/scratch
background rm
inode 352 offset 585728 root 258
inode 352 offset 585728 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517549053
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 251535360 /mnt/scratch
inode 352 offset 774144 root 258
inode 352 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 296009728 /mnt/scratch
inode 352 offset 782336 root 258
inode 352 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 300818432 /mnt/scratch
inode 352 offset 823296 root 258
inode 352 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 296050688 /mnt/scratch
inode 352 offset 827392 root 258
inode 352 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
352
# /bin/btrfs inspect-internal logical-resolve -P 299421696 /mnt/scratch
inode 352 offset 1257472 root 258
inode 352 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f is 1605632 (392 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      59:      64764..     64783:     20:         40: shared
   1:      218..     221:      61566..     61569:      4:      64942: shared
   2:      222..     222:      64078..     64078:      1:      61570: shared
   3:      264..     265:      67626..     67627:      2:      64120: unwritten,shared
   4:      299..     310:      64079..     64090:     12:      67661: shared
   5:      311..     311:      71363..     71363:      1:      64091: shared
   6:      385..     391:      71186..     71192:      7:      71437: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f: 7 extents found
after filter: 265273344#81920#163840#shared 252174336#16384#892928#shared 262463488#4096#909312#shared 276996096#8192#1081344#unwritten,shared 262467584#49152#1224704#shared 292302848#4096#1273856#shared 291577856#28672#1576960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 265273344 /mnt/scratch
inode 386 offset 163840 root 258
inode 386 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 252174336 /mnt/scratch
inode 386 offset 892928 root 258
inode 386 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 262463488 /mnt/scratch
inode 386 offset 909312 root 258
inode 386 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 262467584 /mnt/scratch
inode 386 offset 1224704 root 258
inode 386 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 292302848 /mnt/scratch
inode 386 offset 1273856 root 258
inode 386 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
386
# /bin/btrfs inspect-internal logical-resolve -P 291577856 /mnt/scratch
inode 386 offset 1576960 root 258
inode 386 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/d92/f9f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f11d is 3108864 (759 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      115..     125:      65522..     65532:     11:        115: shared
   1:      414..     417:      66935..     66938:      4:      65821: shared
   2:      418..     418:      67723..     67723:      1:      66939: shared
   3:      657..     681:      67386..     67410:     25:      67962: shared
   4:      749..     758:      72925..     72934:     10:      67478: last,shared,eof
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d: 5 extents found
after filter: 268378112#45056#471040#shared 274165760#16384#1695744#shared 277393408#4096#1712128#shared 276013056#102400#2691072#shared 298700800#40960#3067904#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
484
# /bin/btrfs inspect-internal logical-resolve -P 268378112 /mnt/scratch
inode 484 offset 471040 root 258
inode 484 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 484 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
484
# /bin/btrfs inspect-internal logical-resolve -P 274165760 /mnt/scratch
inode 484 offset 1695744 root 258
inode 484 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 484 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
484
# /bin/btrfs inspect-internal logical-resolve -P 277393408 /mnt/scratch
inode 484 offset 1712128 root 258
inode 484 offset 1712128 root 5
# /bin/btrfs inspect-internal inode-resolve 484 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
484
# /bin/btrfs inspect-internal logical-resolve -P 276013056 /mnt/scratch
inode 484 offset 2691072 root 258
inode 484 offset 2691072 root 5
# /bin/btrfs inspect-internal inode-resolve 484 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f11d
484
# /bin/btrfs inspect-internal logical-resolve -P 298700800 /mnt/scratch
inode 484 offset 3067904 root 258
inode 484 offset 3067904 root 5
# /bin/btrfs inspect-internal inode-resolve 484 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d5b/f11d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93 is 1355776 (331 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      12:       4264..      4268:      5:          8: unwritten,shared
   1:       81..     107:      63217..     63243:     27:       4337: shared
   2:      108..     125:      61329..     61346:     18:      63244: unwritten,shared
   3:      126..     134:      62057..     62065:      9:      61347: shared
   4:      135..     135:      62837..     62837:      1:      62066: shared
   5:      136..     136:      61357..     61357:      1:      62838: unwritten,shared
   6:      137..     138:      67626..     67627:      2:      61358: unwritten,shared
   7:      143..     188:      72222..     72267:     46:      67632: unwritten,shared
   8:      189..     190:      61410..     61411:      2:      72268: unwritten,shared
   9:      191..     200:      72268..     72277:     10:      61412: unwritten,shared
  10:      201..     201:      73442..     73442:      1:      72278: shared
  11:      202..     222:      72278..     72298:     21:      73443: unwritten,shared
  12:      307..     330:      73101..     73124:     24:      72383: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93: 13 extents found
after filter: 17465344#20480#32768#unwritten,shared 258936832#110592#331776#shared 251203584#73728#442368#unwritten,shared 254185472#36864#516096#shared 257380352#4096#552960#shared 251318272#4096#557056#unwritten,shared 276996096#8192#561152#unwritten,shared 295821312#188416#585728#unwritten,shared 251535360#8192#774144#unwritten,shared 296009728#40960#782336#unwritten,shared 300818432#4096#823296#shared 296050688#86016#827392#unwritten,shared 299421696#98304#1257472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 258936832 /mnt/scratch
inode 352 offset 331776 root 258
inode 468 offset 823296 root 258
inode 352 offset 331776 root 5
inode 468 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 251203584 /mnt/scratch
inode 346 offset 1708032 root 258
inode 313 offset 577536 root 258
inode 313 offset 499712 root 258
inode 313 offset 577536 root 258
inode 352 offset 442368 root 258
inode 346 offset 1708032 root 5
inode 313 offset 577536 root 5
inode 313 offset 499712 root 5
inode 313 offset 577536 root 5
inode 352 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 254185472 /mnt/scratch
inode 352 offset 516096 root 258
inode 352 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 257380352 /mnt/scratch
inode 352 offset 552960 root 258
inode 352 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 251318272 /mnt/scratch
inode 352 offset 557056 root 258
inode 352 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 295821312 /mnt/scratch
inode 352 offset 585728 root 258
inode 352 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 251535360 /mnt/scratch
inode 352 offset 774144 root 258
inode 352 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 296009728 /mnt/scratch
inode 352 offset 782336 root 258
inode 352 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 300818432 /mnt/scratch
inode 352 offset 823296 root 258
inode 352 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 296050688 /mnt/scratch
inode 352 offset 827392 root 258
inode 352 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
352
# /bin/btrfs inspect-internal logical-resolve -P 299421696 /mnt/scratch
inode 352 offset 1257472 root 258
inode 352 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/f15f
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f93
/mnt/scratch/snap1/p0/d5/dd/d23/d41/d72/d182/d19c/dfb/f17e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f is 1888975 (462 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       83..      83:      67728..     67728:      1:         83: shared
   1:      100..     116:      68737..     68753:     17:      67745: shared
   2:      140..     144:       4264..      4268:      5:      68777: unwritten,shared
   3:      191..     200:      67729..     67738:     10:       4315: shared
   4:      351..     355:       4264..      4268:      5:      67889: unwritten,shared
   5:      447..     461:      67739..     67753:     15:       4360: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f: 6 extents found
after filter: 277413888#4096#339968#shared 281546752#69632#409600#shared 17465344#20480#573440#unwritten,shared 277417984#40960#782336#shared 17465344#20480#1437696#unwritten,shared 277458944#61440#1830912#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 277413888 /mnt/scratch
inode 473 offset 339968 root 258
inode 473 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 281546752 /mnt/scratch
inode 473 offset 409600 root 258
inode 473 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
background rm
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518123845
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 277417984 /mnt/scratch
inode 473 offset 782336 root 258
inode 473 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
473
# /bin/btrfs inspect-internal logical-resolve -P 277458944 /mnt/scratch
inode 473 offset 1830912 root 258
inode 473 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/d91/f10f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/f3f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/f3f is 1474274 (360 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       31..      45:      71239..     71253:     15:         31: shared
   1:       48..      60:      60380..     60392:     13:      71256: shared
   2:       61..      72:      60151..     60162:     12:      60393: shared
   3:      128..     133:      60380..     60385:      6:      60218: shared
   4:      134..     137:      58922..     58925:      4:      60386: unwritten,shared
   5:      138..     143:      69161..     69166:      6:      58926: shared
   6:      144..     147:      58932..     58935:      4:      69167: unwritten,shared
   7:      151..     157:      58939..     58945:      7:             unwritten,shared
   8:      180..     181:      67280..     67281:      2:      58968: unwritten,shared
   9:      199..     211:      71454..     71466:     13:      67299: shared
  10:      283..     286:      60393..     60396:      4:      71538: shared
  11:      287..     300:      60091..     60104:     14:      60397: shared
  12:      336..     338:      59241..     59243:      3:      60140: shared
  13:      340..     344:      61990..     61994:      5:      59245: shared
  14:      346..     359:      61996..     62009:     14:             last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/f3f: 13 extents found
after filter: 291794944#61440#126976#shared 247316480#53248#196608#shared 246378496#49152#249856#shared 247316480#24576#524288#shared 241344512#16384#548864#unwritten,shared 283283456#24576#565248#shared 241385472#16384#589824#unwritten,shared 241414144#28672#618496#unwritten,shared 275578880#8192#737280#unwritten,shared 292675584#53248#815104#shared 247369728#16384#1159168#shared 246132736#57344#1175552#shared 242651136#12288#1376256#shared 253911040#20480#1392640#shared 253935616#57344#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 291794944 /mnt/scratch
inode 308 offset 126976 root 258
inode 308 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 247316480 /mnt/scratch
inode 308 offset 524288 root 258
inode 308 offset 196608 root 258
inode 308 offset 524288 root 258
inode 308 offset 524288 root 5
inode 308 offset 196608 root 5
inode 308 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 246378496 /mnt/scratch
inode 308 offset 249856 root 258
inode 308 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 247316480 /mnt/scratch
inode 308 offset 524288 root 258
inode 308 offset 196608 root 258
inode 308 offset 524288 root 258
inode 308 offset 524288 root 5
inode 308 offset 196608 root 5
inode 308 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 241344512 /mnt/scratch
inode 308 offset 548864 root 5
inode 308 offset 548864 root 258
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 283283456 /mnt/scratch
inode 308 offset 565248 root 258
inode 308 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 241385472 /mnt/scratch
inode 308 offset 589824 root 5
inode 313 offset 278528 root 5
inode 313 offset 712704 root 5
inode 313 offset 712704 root 5
inode 335 offset 1306624 root 5
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 292 offset 1404928 root 258
inode 290 offset 307200 root 258
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 290 offset 307200 root 258
inode 292 offset 1110016 root 258
inode 292 offset 1404928 root 258
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 292 offset 1404928 root 5
inode 290 offset 307200 root 5
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 290 offset 307200 root 5
inode 292 offset 1110016 root 5
inode 292 offset 1404928 root 5
inode 294 offset 1069056 root 5
inode 294 offset 1069056 root 5
inode 302 offset 774144 root 5
inode 302 offset 1273856 root 5
inode 302 offset 1273856 root 5
inode 294 offset 1069056 root 258
inode 294 offset 1069056 root 258
inode 302 offset 1273856 root 258
inode 302 offset 774144 root 258
inode 302 offset 1273856 root 258
inode 313 offset 712704 root 258
inode 313 offset 278528 root 258
inode 313 offset 712704 root 258
inode 308 offset 589824 root 258
inode 335 offset 1306624 root 258
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 241414144 /mnt/scratch
inode 308 offset 618496 root 5
inode 313 offset 307200 root 5
inode 292 offset 606208 root 258
inode 292 offset 1433600 root 258
inode 292 offset 1433600 root 258
inode 290 offset 335872 root 258
inode 292 offset 1433600 root 258
inode 290 offset 335872 root 258
inode 292 offset 606208 root 258
inode 292 offset 1433600 root 258
inode 292 offset 606208 root 5
inode 292 offset 1433600 root 5
inode 292 offset 1433600 root 5
inode 290 offset 335872 root 5
inode 292 offset 1433600 root 5
inode 290 offset 335872 root 5
inode 292 offset 606208 root 5
inode 292 offset 1433600 root 5
inode 294 offset 1097728 root 5
inode 294 offset 1097728 root 5
inode 294 offset 1097728 root 258
inode 294 offset 1097728 root 258
inode 313 offset 307200 root 258
inode 308 offset 618496 root 258
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 292675584 /mnt/scratch
inode 308 offset 815104 root 258
inode 308 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 247369728 /mnt/scratch
inode 308 offset 1159168 root 258
inode 308 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 246132736 /mnt/scratch
inode 308 offset 1175552 root 258
inode 308 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 242651136 /mnt/scratch
inode 308 offset 1376256 root 258
inode 308 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 253911040 /mnt/scratch
inode 308 offset 1392640 root 258
inode 308 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/f3f
308
# /bin/btrfs inspect-internal logical-resolve -P 253935616 /mnt/scratch
inode 308 offset 1417216 root 258
inode 308 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/f3f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda is 622695 (153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       5:      67626..     67627:      2:          4: unwritten,shared
   1:       17..      18:      67626..     67627:      2:      67639: unwritten,shared
   2:      136..     138:      66904..     66906:      3:      67745: shared
   3:      139..     152:      66045..     66058:     14:      66907: last,shared,eof
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda: 4 extents found
after filter: 276996096#8192#16384#unwritten,shared 276996096#8192#69632#unwritten,shared 274038784#12288#557056#shared 270520320#57344#569344#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
430
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
430
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
430
# /bin/btrfs inspect-internal logical-resolve -P 274038784 /mnt/scratch
inode 430 offset 557056 root 258
inode 430 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
# stat -c %i /mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
430
# /bin/btrfs inspect-internal logical-resolve -P 270520320 /mnt/scratch
inode 430 offset 569344 root 258
inode 430 offset 569344 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/db4/d172/d65/ded/fda
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518144740
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129 is 2863355 (700 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      217..     245:      69291..     69319:     29:        217: shared
   1:      415..     415:      67281..     67281:      1:      69489: unwritten,shared
   2:      446..     459:      70440..     70453:     14:      67312: shared
   3:      670..     699:      70936..     70965:     30:      70664: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129: 4 extents found
after filter: 283815936#118784#888832#shared 275582976#4096#1699840#unwritten,shared 288522240#57344#1826816#shared 290553856#122880#2744320#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
494
# /bin/btrfs inspect-internal logical-resolve -P 283815936 /mnt/scratch
inode 494 offset 888832 root 258
inode 494 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
494
# /bin/btrfs inspect-internal logical-resolve -P 275582976 /mnt/scratch
inode 487 offset 131072 root 258
inode 489 offset 1220608 root 258
inode 487 offset 131072 root 5
inode 489 offset 1220608 root 5
inode 454 offset 188416 root 5
inode 455 offset 45056 root 5
inode 390 offset 1429504 root 258
inode 391 offset 327680 root 258
inode 390 offset 1429504 root 5
inode 391 offset 327680 root 5
inode 419 offset 167936 root 5
inode 423 offset 593920 root 5
inode 357 offset 1835008 root 5
inode 357 offset 2924544 root 5
inode 357 offset 2924544 root 5
inode 308 offset 741376 root 5
inode 349 offset 819200 root 5
inode 423 offset 827392 root 5
inode 423 offset 827392 root 5
inode 379 offset 503808 root 258
inode 379 offset 503808 root 5
inode 335 offset 2617344 root 5
inode 361 offset 45056 root 258
inode 361 offset 45056 root 5
inode 290 offset 1089536 root 258
inode 290 offset 2093056 root 258
inode 290 offset 2093056 root 258
inode 290 offset 1089536 root 5
inode 290 offset 2093056 root 5
inode 290 offset 2093056 root 5
inode 494 offset 1699840 root 5
inode 541 offset 368640 root 5
inode 541 offset 368640 root 258
inode 357 offset 2924544 root 258
inode 357 offset 1835008 root 258
inode 357 offset 2924544 root 258
inode 494 offset 1699840 root 258
inode 335 offset 2617344 root 258
inode 455 offset 45056 root 258
inode 454 offset 188416 root 258
inode 423 offset 827392 root 258
inode 423 offset 827392 root 258
inode 349 offset 819200 root 258
inode 423 offset 593920 root 258
inode 419 offset 167936 root 258
inode 308 offset 741376 root 258
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
494
# /bin/btrfs inspect-internal logical-resolve -P 288522240 /mnt/scratch
inode 494 offset 1826816 root 258
inode 494 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
494
# /bin/btrfs inspect-internal logical-resolve -P 290553856 /mnt/scratch
inode 494 offset 2744320 root 258
inode 494 offset 2744320 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/df4/f129
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9 is 1134405 (277 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      44:      67424..     67464:     41:          4: unwritten,shared
   1:       45..      46:      67280..     67281:      2:      67465: unwritten,shared
   2:       47..      61:      67467..     67481:     15:      67282: unwritten,shared
   3:       69..      75:      67489..     67495:      7:             unwritten,shared
   4:       76..      80:       4264..      4268:      5:      67496: unwritten,shared
   5:      107..     107:      67515..     67515:      1:       4295: unwritten,shared
   6:      108..     116:      66383..     66391:      9:      67516: shared
   7:      117..     131:      71744..     71758:     15:      66392: shared
   8:      132..     135:      66407..     66410:      4:      71759: shared
   9:      136..     149:      67516..     67529:     14:      66411: unwritten,shared
  10:      193..     236:      67572..     67615:     44:      67573: unwritten,shared
  11:      268..     276:      66411..     66419:      9:      67647: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9: 11 extents found
after filter: 276168704#167936#16384#unwritten,shared 275578880#8192#184320#unwritten,shared 276344832#61440#192512#unwritten,shared 276434944#28672#282624#unwritten,shared 17465344#20480#311296#unwritten,shared 276541440#4096#438272#unwritten,shared 271904768#36864#442368#shared 293863424#61440#479232#shared 272003072#16384#540672#shared 276545536#57344#557056#unwritten,shared 276774912#180224#790528#unwritten,shared 272019456#36864#1097728#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276168704 /mnt/scratch
inode 454 offset 16384 root 258
inode 454 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276344832 /mnt/scratch
inode 454 offset 192512 root 258
inode 454 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276434944 /mnt/scratch
inode 454 offset 282624 root 258
inode 454 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276541440 /mnt/scratch
inode 454 offset 438272 root 258
inode 454 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 271904768 /mnt/scratch
inode 454 offset 442368 root 258
inode 454 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 293863424 /mnt/scratch
inode 454 offset 479232 root 258
inode 454 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 272003072 /mnt/scratch
inode 454 offset 540672 root 258
inode 454 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276545536 /mnt/scratch
inode 454 offset 557056 root 258
inode 454 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 276774912 /mnt/scratch
inode 454 offset 790528 root 5
inode 454 offset 790528 root 258
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
454
# /bin/btrfs inspect-internal logical-resolve -P 272019456 /mnt/scratch
inode 454 offset 1097728 root 258
inode 454 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 454 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/ff9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f185
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f185 is 836543 (205 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      195..     204:      70897..     70906:     10:        195: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f185: 1 extent found
after filter: 290394112#40960#798720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f185
563
# /bin/btrfs inspect-internal logical-resolve -P 290394112 /mnt/scratch
inode 563 offset 798720 root 258
inode 563 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 563 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f185
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a is 3914425 (956 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       42..      46:       4264..      4268:      5:         42: unwritten,shared
   1:       73..      74:      67626..     67627:      2:       4295: unwritten,shared
   2:      187..     191:       4264..      4268:      5:      67740: unwritten,shared
   3:      274..     274:      59633..     59633:      1:       4351: shared
   4:      275..     276:      63894..     63895:      2:      59634: shared
   5:      277..     306:      63158..     63187:     30:      63896: shared
   6:      318..     322:      58931..     58935:      5:      63199: unwritten,shared
   7:      366..     385:      60397..     60416:     20:      58979: shared
   8:      402..     427:      59409..     59434:     26:      60433: shared
   9:      428..     428:      60089..     60089:      1:      59435: shared
  10:      468..     498:      61858..     61888:     31:      60129: shared
  11:      638..     639:      67280..     67281:      2:      62028: unwritten,shared
  12:      642..     652:      71211..     71221:     11:      67284: shared
  13:      653..     673:      61889..     61909:     21:      71222: shared
  14:      674..     674:      68841..     68841:      1:      61910: shared
  15:      908..     911:      71258..     71261:      4:      69075: shared
  16:      912..     912:      73509..     73509:      1:      71262: last,shared
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a: 17 extents found
after filter: 17465344#20480#172032#unwritten,shared 276996096#8192#299008#unwritten,shared 17465344#20480#765952#unwritten,shared 244256768#4096#1122304#shared 261709824#8192#1126400#shared 258695168#122880#1134592#shared 241381376#20480#1302528#unwritten,shared 247386112#81920#1499136#shared 243339264#106496#1646592#shared 246124544#4096#1753088#shared 253370368#126976#1916928#shared 275578880#8192#2613248#unwritten,shared 291680256#45056#2629632#shared 253497344#86016#2674688#shared 281972736#4096#2760704#shared 291872768#16384#3719168#shared 301092864#4096#3735552#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 17465344 /mnt/scratch
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 258
inode 306 offset 4489216 root 5
inode 306 offset 4489216 root 5
inode 422 offset 614400 root 5
inode 422 offset 176128 root 5
inode 422 offset 614400 root 5
inode 415 offset 282624 root 5
inode 415 offset 77824 root 5
inode 415 offset 282624 root 5
inode 266 offset 1097728 root 258
inode 266 offset 1097728 root 5
inode 270 offset 1036288 root 5
inode 270 offset 1036288 root 5
inode 391 offset 118784 root 258
inode 390 offset 1921024 root 258
inode 391 offset 118784 root 5
inode 390 offset 1921024 root 5
inode 412 offset 655360 root 5
inode 281 offset 1511424 root 5
inode 281 offset 1511424 root 5
inode 346 offset 3936256 root 5
inode 346 offset 5292032 root 5
inode 346 offset 5292032 root 5
inode 292 offset 884736 root 258
inode 286 offset 1634304 root 258
inode 292 offset 884736 root 5
inode 286 offset 1634304 root 5
inode 268 offset 811008 root 258
inode 268 offset 811008 root 5
inode 458 offset 323584 root 258
inode 459 offset 212992 root 258
inode 457 offset 544768 root 258
inode 459 offset 69632 root 258
inode 459 offset 212992 root 258
inode 462 offset 49152 root 258
inode 463 offset 655360 root 258
inode 457 offset 544768 root 258
inode 457 offset 544768 root 258
inode 458 offset 323584 root 5
inode 459 offset 212992 root 5
inode 457 offset 544768 root 5
inode 459 offset 69632 root 5
inode 459 offset 212992 root 5
inode 462 offset 49152 root 5
inode 463 offset 655360 root 5
inode 457 offset 544768 root 5
inode 457 offset 544768 root 5
inode 544 offset 237568 root 5
inode 531 offset 688128 root 5
inode 382 offset 937984 root 258
inode 382 offset 937984 root 5
inode 361 offset 61440 root 258
inode 361 offset 61440 root 5
inode 375 offset 1961984 root 5
inode 375 offset 1159168 root 5
inode 375 offset 1961984 root 5
inode 322 offset 2338816 root 5
inode 322 offset 1773568 root 5
inode 322 offset 2338816 root 5
inode 455 offset 487424 root 5
inode 454 offset 311296 root 5
inode 447 offset 442368 root 5
inode 519 offset 98304 root 5
inode 498 offset 434176 root 5
inode 294 offset 1863680 root 5
inode 294 offset 663552 root 5
inode 294 offset 1863680 root 5
inode 482 offset 61440 root 258
inode 482 offset 61440 root 5
inode 473 offset 1437696 root 258
inode 473 offset 573440 root 258
inode 473 offset 1437696 root 258
inode 473 offset 1437696 root 5
inode 473 offset 573440 root 5
inode 473 offset 1437696 root 5
inode 552 offset 53248 root 5
inode 335 offset 765952 root 5
inode 335 offset 172032 root 5
inode 335 offset 765952 root 5
inode 427 offset 233472 root 5
inode 352 offset 32768 root 5
inode 444 offset 241664 root 5
inode 493 offset 147456 root 258
inode 486 offset 995328 root 258
inode 493 offset 147456 root 5
inode 486 offset 995328 root 5
inode 313 offset 1892352 root 5
inode 544 offset 237568 root 258
inode 531 offset 688128 root 258
inode 375 offset 1961984 root 258
inode 375 offset 1159168 root 258
inode 375 offset 1961984 root 258
inode 322 offset 2338816 root 258
inode 322 offset 1773568 root 258
inode 322 offset 2338816 root 258
inode 455 offset 487424 root 258
inode 454 offset 311296 root 258
inode 447 offset 442368 root 258
inode 415 offset 282624 root 258
inode 415 offset 77824 root 258
inode 415 offset 282624 root 258
inode 422 offset 176128 root 258
inode 422 offset 614400 root 258
inode 422 offset 614400 root 258
inode 519 offset 98304 root 258
inode 498 offset 434176 root 258
inode 294 offset 1863680 root 258
inode 294 offset 663552 root 258
inode 294 offset 1863680 root 258
inode 552 offset 53248 root 258
inode 346 offset 3936256 root 258
inode 346 offset 5292032 root 258
inode 346 offset 5292032 root 258
inode 270 offset 1036288 root 258
inode 270 offset 1036288 root 258
inode 281 offset 1511424 root 258
inode 281 offset 1511424 root 258
inode 335 offset 765952 root 258
inode 335 offset 172032 root 258
inode 335 offset 765952 root 258
inode 412 offset 655360 root 258
inode 427 offset 233472 root 258
inode 352 offset 32768 root 258
inode 444 offset 241664 root 258
inode 313 offset 1892352 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 244256768 /mnt/scratch
inode 335 offset 1122304 root 258
inode 335 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 261709824 /mnt/scratch
inode 335 offset 1126400 root 258
inode 335 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 258695168 /mnt/scratch
inode 335 offset 1134592 root 258
inode 335 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 241381376 /mnt/scratch
inode 335 offset 1302528 root 5
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 292 offset 1400832 root 258
inode 290 offset 303104 root 258
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 290 offset 303104 root 258
inode 292 offset 1105920 root 258
inode 292 offset 1400832 root 258
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 292 offset 1400832 root 5
inode 290 offset 303104 root 5
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 290 offset 303104 root 5
inode 292 offset 1105920 root 5
inode 292 offset 1400832 root 5
inode 294 offset 1064960 root 5
inode 294 offset 1064960 root 5
inode 313 offset 708608 root 5
inode 313 offset 708608 root 5
inode 302 offset 770048 root 5
inode 302 offset 1269760 root 5
inode 302 offset 1269760 root 5
inode 294 offset 1064960 root 258
inode 294 offset 1064960 root 258
inode 302 offset 1269760 root 258
inode 302 offset 770048 root 258
inode 302 offset 1269760 root 258
inode 313 offset 708608 root 258
inode 313 offset 708608 root 258
inode 335 offset 1302528 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 247386112 /mnt/scratch
inode 335 offset 1499136 root 258
inode 335 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 243339264 /mnt/scratch
inode 335 offset 1646592 root 258
inode 335 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 246124544 /mnt/scratch
inode 335 offset 1753088 root 258
inode 335 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 253370368 /mnt/scratch
inode 335 offset 1916928 root 258
inode 335 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 275578880 /mnt/scratch
inode 454 offset 184320 root 5
inode 308 offset 737280 root 5
inode 391 offset 323584 root 258
inode 391 offset 323584 root 5
inode 423 offset 823296 root 5
inode 423 offset 823296 root 5
inode 379 offset 499712 root 258
inode 379 offset 499712 root 5
inode 335 offset 2613248 root 5
inode 489 offset 1216512 root 258
inode 489 offset 1216512 root 5
inode 335 offset 2613248 root 258
inode 423 offset 823296 root 258
inode 423 offset 823296 root 258
inode 308 offset 737280 root 258
inode 454 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 291680256 /mnt/scratch
inode 335 offset 2629632 root 258
inode 335 offset 2629632 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 253497344 /mnt/scratch
inode 335 offset 2674688 root 258
inode 335 offset 2674688 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 281972736 /mnt/scratch
inode 335 offset 2760704 root 258
inode 335 offset 2760704 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 291872768 /mnt/scratch
inode 335 offset 3719168 root 258
inode 335 offset 3719168 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
background rm
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
335
# /bin/btrfs inspect-internal logical-resolve -P 301092864 /mnt/scratch
inode 335 offset 3735552 root 258
inode 335 offset 3735552 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d41/f5a
/mnt/scratch/snap1/p0/d5/d6/d5b/f81
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d25/f10c
seed = 1517652850
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d25/f10c is 841821 (206 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      19:      66762..     66777:     16:          4: shared
   1:       53..      60:      72906..     72913:      8:      66811: shared
   2:       98..     111:      68759..     68772:     14:      72951: shared
   3:      185..     186:      67626..     67627:      2:      68846: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/d6/d25/f10c: 4 extents found
after filter: 273457152#65536#16384#shared 298622976#32768#217088#shared 281636864#57344#401408#shared 276996096#8192#757760#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f10c
469
# /bin/btrfs inspect-internal logical-resolve -P 273457152 /mnt/scratch
inode 469 offset 16384 root 258
inode 469 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f10c
469
# /bin/btrfs inspect-internal logical-resolve -P 298622976 /mnt/scratch
inode 469 offset 217088 root 258
inode 469 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f10c
469
# /bin/btrfs inspect-internal logical-resolve -P 281636864 /mnt/scratch
inode 469 offset 401408 root 258
inode 469 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d25/f10c
469
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111 is 1594541 (390 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       1:      67626..     67627:      2:             unwritten,shared
   1:       70..      72:      69626..     69628:      3:      67696: shared
   2:       73..      76:      69027..     69030:      4:      69629: shared
   3:       77..      99:      73443..     73465:     23:      69031: shared
   4:      100..     114:      69436..     69450:     15:      73466: shared
   5:      143..     158:      66886..     66901:     16:      69479: shared
   6:      172..     187:      60667..     60682:     16:      66915: shared
   7:      193..     193:       4436..      4436:      1:      60688: unwritten,shared
   8:      385..     389:      73466..     73470:      5:       4628: last,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111: 9 extents found
after filter: 276996096#8192#0#unwritten,shared 285188096#12288#286720#shared 282734592#16384#299008#shared 300822528#94208#315392#shared 284409856#61440#409600#shared 273965056#65536#585728#shared 248492032#65536#704512#shared 18169856#4096#790528#unwritten,shared 300916736#20480#1576960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 285188096 /mnt/scratch
inode 475 offset 286720 root 258
inode 475 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 282734592 /mnt/scratch
inode 475 offset 299008 root 258
inode 475 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 300822528 /mnt/scratch
inode 475 offset 315392 root 258
inode 475 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 284409856 /mnt/scratch
inode 475 offset 409600 root 258
inode 475 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 273965056 /mnt/scratch
inode 475 offset 585728 root 258
inode 475 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 248492032 /mnt/scratch
inode 292 offset 118784 root 258
inode 292 offset 118784 root 5
inode 475 offset 704512 root 258
inode 475 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 18169856 /mnt/scratch
inode 294 offset 73728 root 258
inode 294 offset 73728 root 5
inode 290 offset 581632 root 258
inode 290 offset 581632 root 5
inode 475 offset 790528 root 258
inode 475 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
475
# /bin/btrfs inspect-internal logical-resolve -P 300916736 /mnt/scratch
inode 475 offset 1576960 root 258
inode 475 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/f111
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1 is 344064 (84 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..       9:      66907..     66907:      1:          9: shared
   1:       10..      13:      66571..     66574:      4:      66908: shared
   2:       65..      67:      67724..     67726:      3:      66626: shared
   3:       81..      83:      64229..     64231:      3:      67740: shared,eof
   4:      236..     459:      64361..     64584:    224:      64384: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1: 5 extents found
after filter: 274051072#4096#36864#shared 272674816#16384#40960#shared 277397504#12288#266240#shared 263081984#12288#331776#shared,eof 263622656#917504#966656#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 274051072 /mnt/scratch
inode 448 offset 36864 root 258
inode 448 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 272674816 /mnt/scratch
inode 448 offset 40960 root 258
inode 448 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 277397504 /mnt/scratch
inode 448 offset 266240 root 258
inode 448 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 263081984 /mnt/scratch
inode 448 offset 331776 root 258
inode 448 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
# stat -c %i /mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 263622656 /mnt/scratch
inode 448 offset 966656 root 258
inode 448 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/dd/d23/d7b/d31/deb/d14e/d61/ff1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d5/d6/d5b/f10a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d5/d6/d5b/f10a is 841821 (206 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      19:      66762..     66777:     16:          4: shared
   1:       53..      60:      72906..     72913:      8:      66811: shared
   2:       98..     111:      68759..     68772:     14:      72951: shared
   3:      185..     186:      67626..     67627:      2:      68846: last,unwritten,shared
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a: 4 extents found
after filter: 273457152#65536#16384#shared 298622976#32768#217088#shared 281636864#57344#401408#shared 276996096#8192#757760#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f10a
469
# /bin/btrfs inspect-internal logical-resolve -P 273457152 /mnt/scratch
inode 469 offset 16384 root 258
inode 469 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f10a
469
# /bin/btrfs inspect-internal logical-resolve -P 298622976 /mnt/scratch
inode 469 offset 217088 root 258
inode 469 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f10a
469
# /bin/btrfs inspect-internal logical-resolve -P 281636864 /mnt/scratch
inode 469 offset 401408 root 258
inode 469 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
# stat -c %i /mnt/scratch/snap1/p0/d5/d6/d5b/f10a
469
# /bin/btrfs inspect-internal logical-resolve -P 276996096 /mnt/scratch
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 487 offset 544768 root 258
inode 487 offset 622592 root 258
inode 489 offset 364544 root 258
inode 488 offset 94208 root 258
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 487 offset 544768 root 5
inode 487 offset 622592 root 5
inode 489 offset 364544 root 5
inode 488 offset 94208 root 5
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 258
inode 458 offset 454656 root 258
inode 460 offset 229376 root 258
inode 460 offset 708608 root 258
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 708608 root 5
inode 458 offset 344064 root 5
inode 458 offset 454656 root 5
inode 460 offset 229376 root 5
inode 460 offset 708608 root 5
inode 281 offset 1794048 root 5
inode 384 offset 229376 root 5
inode 384 offset 1486848 root 5
inode 386 offset 1081344 root 5
inode 384 offset 1486848 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 1093632 root 5
inode 313 offset 1769472 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 313 offset 2260992 root 5
inode 313 offset 2326528 root 5
inode 352 offset 561152 root 5
inode 322 offset 2002944 root 5
inode 270 offset 753664 root 5
inode 270 offset 1585152 root 5
inode 270 offset 1585152 root 5
inode 412 offset 290816 root 5
inode 413 offset 0 root 5
inode 430 offset 16384 root 258
inode 430 offset 69632 root 258
inode 430 offset 16384 root 5
inode 430 offset 69632 root 5
inode 266 offset 2154496 root 258
inode 266 offset 2154496 root 5
inode 401 offset 577536 root 258
inode 391 offset 311296 root 258
inode 401 offset 577536 root 5
inode 391 offset 311296 root 5
inode 452 offset 495616 root 5
inode 452 offset 53248 root 5
inode 452 offset 495616 root 5
inode 447 offset 315392 root 5
inode 433 offset 745472 root 258
inode 434 offset 765952 root 258
inode 433 offset 745472 root 5
inode 434 offset 765952 root 5
inode 335 offset 299008 root 5
inode 477 offset 110592 root 258
inode 477 offset 110592 root 5
inode 427 offset 151552 root 5
inode 294 offset 1118208 root 5
inode 422 offset 724992 root 5
inode 423 offset 708608 root 5
inode 375 offset 1077248 root 5
inode 375 offset 2617344 root 5
inode 375 offset 2617344 root 5
inode 353 offset 614400 root 5
inode 357 offset 2818048 root 5
inode 469 offset 757760 root 5
inode 475 offset 0 root 258
inode 475 offset 0 root 5
inode 346 offset 4239360 root 5
inode 302 offset 24576 root 5
inode 413 offset 0 root 258
inode 412 offset 290816 root 258
inode 375 offset 1077248 root 258
inode 375 offset 2617344 root 258
inode 375 offset 2617344 root 258
inode 422 offset 724992 root 258
inode 423 offset 708608 root 258
inode 294 offset 1118208 root 258
inode 452 offset 53248 root 258
inode 452 offset 495616 root 258
inode 452 offset 495616 root 258
inode 447 offset 315392 root 258
inode 427 offset 151552 root 258
inode 353 offset 614400 root 258
inode 357 offset 2818048 root 258
inode 335 offset 299008 root 258
inode 469 offset 757760 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1093632 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 313 offset 1769472 root 258
inode 313 offset 2260992 root 258
inode 313 offset 2326528 root 258
inode 386 offset 1081344 root 258
inode 384 offset 1486848 root 258
inode 384 offset 229376 root 258
inode 384 offset 1486848 root 258
inode 346 offset 4239360 root 258
inode 270 offset 1585152 root 258
inode 270 offset 753664 root 258
inode 270 offset 1585152 root 258
inode 302 offset 24576 root 258
inode 322 offset 2002944 root 258
inode 352 offset 561152 root 258
inode 281 offset 1794048 root 258
# /bin/btrfs inspect-internal inode-resolve 469 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d5/d6/d25/f10c
/mnt/scratch/snap1/p0/d5/d6/d5b/f10a
background rm
