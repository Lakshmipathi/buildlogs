*** mkfs -dsize=2097152000

btrfs-progs v4.14.1
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               6fba72dd-15ea-4a2d-aa1a-755ab86a17b4
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1518035566
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1518062020
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1518296050
# _scratch_unmount
# _scratch_mount -o atime
background noise by 26407
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517670009
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1 is 2146304 (524 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       58..      59:      64497..     64498:      2:         58: shared
   1:       60..      60:      65173..     65173:      1:      64499: shared
   2:      151..     172:      73685..     73706:     22:      65264: shared
   3:      173..     191:      70771..     70789:     19:      73707: unwritten,shared
   4:      298..     317:      65174..     65193:     20:      70896: shared
   5:      318..     318:      69130..     69130:      1:      65194: shared
   6:      483..     506:      72377..     72400:     24:      69295: shared
   7:      507..     523:      68317..     68333:     17:      72401: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1: 8 extents found
after filter: 264179712#8192#237568#shared 266948608#4096#245760#shared 301813760#90112#618496#shared 289878016#77824#708608#unwritten,shared 266952704#81920#1220608#shared 283156480#4096#1302528#shared 296456192#98304#1978368#shared 279826432#69632#2076672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 264179712 /mnt/scratch
inode 386 offset 237568 root 258
inode 365 offset 843776 root 258
inode 386 offset 237568 root 5
inode 365 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 266948608 /mnt/scratch
inode 386 offset 245760 root 258
inode 365 offset 851968 root 258
inode 386 offset 245760 root 5
inode 365 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 301813760 /mnt/scratch
inode 386 offset 618496 root 258
inode 386 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 289878016 /mnt/scratch
inode 514 offset 16384 root 5
inode 479 offset 16384 root 5
inode 479 offset 200704 root 5
inode 479 offset 200704 root 5
inode 483 offset 663552 root 5
inode 363 offset 184320 root 5
inode 363 offset 561152 root 5
inode 363 offset 561152 root 5
inode 365 offset 1372160 root 5
inode 492 offset 737280 root 5
inode 492 offset 737280 root 5
inode 431 offset 491520 root 5
inode 435 offset 1097728 root 5
inode 350 offset 831488 root 5
inode 339 offset 290816 root 5
inode 391 offset 524288 root 5
inode 388 offset 294912 root 5
inode 388 offset 294912 root 5
inode 388 offset 45056 root 5
inode 388 offset 294912 root 5
inode 391 offset 24576 root 5
inode 391 offset 524288 root 5
inode 459 offset 110592 root 5
inode 453 offset 4096 root 5
inode 266 offset 442368 root 258
inode 263 offset 1228800 root 258
inode 263 offset 651264 root 258
inode 263 offset 1228800 root 258
inode 266 offset 442368 root 5
inode 263 offset 1228800 root 5
inode 263 offset 651264 root 5
inode 263 offset 1228800 root 5
inode 278 offset 6066176 root 5
inode 278 offset 5345280 root 5
inode 278 offset 6066176 root 5
inode 404 offset 442368 root 5
inode 399 offset 565248 root 5
inode 383 offset 2826240 root 5
inode 386 offset 708608 root 5
inode 475 offset 49152 root 5
inode 301 offset 282624 root 5
inode 301 offset 450560 root 5
inode 301 offset 540672 root 5
inode 301 offset 450560 root 5
inode 301 offset 540672 root 5
inode 301 offset 282624 root 5
inode 301 offset 450560 root 5
inode 301 offset 540672 root 5
inode 309 offset 442368 root 258
inode 309 offset 442368 root 5
inode 356 offset 2494464 root 5
inode 288 offset 65536 root 5
inode 269 offset 1851392 root 5
inode 336 offset 475136 root 5
inode 371 offset 286720 root 5
inode 378 offset 647168 root 5
inode 496 offset 368640 root 5
inode 496 offset 368640 root 5
inode 310 offset 1888256 root 5
inode 421 offset 380928 root 5
inode 356 offset 2494464 root 258
inode 301 offset 450560 root 258
inode 301 offset 540672 root 258
inode 301 offset 282624 root 258
inode 301 offset 450560 root 258
inode 301 offset 540672 root 258
inode 301 offset 282624 root 258
inode 301 offset 450560 root 258
inode 301 offset 540672 root 258
inode 288 offset 65536 root 258
inode 479 offset 16384 root 258
inode 479 offset 200704 root 258
inode 479 offset 200704 root 258
inode 483 offset 663552 root 258
inode 388 offset 294912 root 258
inode 388 offset 294912 root 258
inode 391 offset 524288 root 258
inode 388 offset 45056 root 258
inode 388 offset 294912 root 258
inode 391 offset 24576 root 258
inode 391 offset 524288 root 258
inode 278 offset 5345280 root 258
inode 278 offset 6066176 root 258
inode 278 offset 6066176 root 258
inode 475 offset 49152 root 258
inode 492 offset 737280 root 258
inode 492 offset 737280 root 258
inode 399 offset 565248 root 258
inode 404 offset 442368 root 258
inode 365 offset 1372160 root 258
inode 363 offset 561152 root 258
inode 363 offset 184320 root 258
inode 363 offset 561152 root 258
inode 269 offset 1851392 root 258
inode 336 offset 475136 root 258
inode 386 offset 708608 root 258
inode 383 offset 2826240 root 258
inode 371 offset 286720 root 258
inode 378 offset 647168 root 258
inode 496 offset 368640 root 258
inode 496 offset 368640 root 258
inode 339 offset 290816 root 258
inode 350 offset 831488 root 258
inode 459 offset 110592 root 258
inode 453 offset 4096 root 258
inode 435 offset 1097728 root 258
inode 431 offset 491520 root 258
inode 310 offset 1888256 root 258
inode 421 offset 380928 root 258
inode 514 offset 16384 root 258
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 266952704 /mnt/scratch
inode 386 offset 1220608 root 258
inode 386 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 283156480 /mnt/scratch
inode 386 offset 1302528 root 258
inode 386 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 296456192 /mnt/scratch
inode 386 offset 1978368 root 258
inode 386 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
386
# /bin/btrfs inspect-internal logical-resolve -P 279826432 /mnt/scratch
inode 386 offset 2076672 root 258
inode 386 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fa1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f26
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f26 is 4681728 (1143 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      13:       4181..      4181:      1:         13: unwritten,shared
   1:       34..      62:      63336..     63364:     29:       4202: shared
   2:       63..      68:       4234..      4239:      6:      63365: unwritten,shared
   3:       99..     110:       4192..      4203:     12:       4270: unwritten,shared
   4:      131..     159:       4610..      4638:     29:       4224: shared
   5:      160..     160:       5074..      5074:      1:       4639: shared
   6:      172..     173:       4192..      4193:      2:       5086: unwritten,shared
   7:      174..     193:      63365..     63384:     20:       4194: shared
   8:      247..     256:      70028..     70037:     10:      63438: unwritten,shared
   9:      257..     274:      68577..     68594:     18:      70038: unwritten,shared
  10:      275..     283:      70038..     70046:      9:      68595: unwritten,shared
  11:      284..     314:      68604..     68634:     31:      70047: unwritten,shared
  12:      315..     341:      70047..     70073:     27:      68635: unwritten,shared
  13:      342..     386:      68662..     68706:     45:      70074: unwritten,shared
  14:      387..     404:       5078..      5095:     18:      68707: shared
  15:      405..     411:      68707..     68713:      7:       5096: unwritten,shared
  16:      412..     430:      67672..     67690:     19:      68714: shared
  17:      431..     436:       5098..      5103:      6:      67691: shared
  18:      437..     437:       5289..      5289:      1:       5104: shared
  19:      438..     474:      68714..     68750:     37:       5290: unwritten,shared
  20:      482..     509:      68758..     68785:     28:             unwritten,shared
  21:      560..     560:      59126..     59126:      1:      68836: shared
  22:      572..     597:      59127..     59152:     26:             shared
  23:      713..     724:      68334..     68345:     12:      59268: shared
  24:      801..     810:       4194..      4203:     10:      68422: unwritten,shared
  25:      811..     822:       4192..      4203:     12:       4204: unwritten,shared
  26:      889..     913:      59543..     59567:     25:       4270: shared
  27:      976..     995:      61034..     61053:     20:      59630: shared
  28:      996..     996:      61979..     61979:      1:      61054: shared
  29:     1069..    1088:      68346..     68365:     20:      62052: shared
  30:     1118..    1142:      61087..     61111:     25:      68395: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/f26: 29 extents found
after filter: 17125376#4096#53248#unwritten,shared 259424256#118784#139264#shared 17342464#24576#258048#unwritten,shared 17170432#49152#405504#unwritten,shared 18882560#118784#536576#shared 20783104#4096#655360#shared 17170432#8192#704512#unwritten,shared 259543040#81920#712704#shared 286834688#40960#1011712#unwritten,shared 280891392#73728#1052672#unwritten,shared 286875648#36864#1126400#unwritten,shared 281001984#126976#1163264#unwritten,shared 286912512#110592#1290240#unwritten,shared 281239552#184320#1400832#unwritten,shared 20799488#73728#1585152#shared 281423872#28672#1658880#unwritten,shared 277184512#77824#1687552#shared 20881408#24576#1765376#shared 21663744#4096#1789952#shared 281452544#151552#1794048#unwritten,shared 281632768#114688#1974272#unwritten,shared 242180096#4096#2293760#shared 242184192#106496#2342912#shared 279896064#49152#2920448#shared 17178624#40960#3280896#unwritten,shared 17170432#49152#3321856#unwritten,shared 243888128#102400#3641344#shared 249995264#81920#3997696#shared 253865984#4096#4079616#shared 279945216#81920#4378624#shared 250212352#102400#4579328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17125376 /mnt/scratch
inode 286 offset 53248 root 258
inode 286 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 259424256 /mnt/scratch
inode 286 offset 139264 root 258
inode 286 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17342464 /mnt/scratch
inode 286 offset 258048 root 258
inode 286 offset 258048 root 258
inode 286 offset 258048 root 5
inode 286 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 301 offset 188416 root 5
inode 301 offset 188416 root 258
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 18882560 /mnt/scratch
inode 286 offset 536576 root 258
inode 286 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 20783104 /mnt/scratch
inode 286 offset 655360 root 258
inode 286 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 301 offset 188416 root 5
inode 301 offset 188416 root 258
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 259543040 /mnt/scratch
inode 286 offset 712704 root 258
inode 286 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 286834688 /mnt/scratch
inode 286 offset 1011712 root 258
inode 286 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 280891392 /mnt/scratch
inode 286 offset 1052672 root 258
inode 286 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 286875648 /mnt/scratch
inode 286 offset 1126400 root 258
inode 286 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 281001984 /mnt/scratch
inode 286 offset 1163264 root 258
inode 286 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 286912512 /mnt/scratch
inode 286 offset 1290240 root 258
inode 286 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 281239552 /mnt/scratch
inode 286 offset 1400832 root 258
inode 286 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 20799488 /mnt/scratch
inode 286 offset 1585152 root 258
inode 286 offset 1585152 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 281423872 /mnt/scratch
inode 286 offset 1658880 root 258
inode 286 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 277184512 /mnt/scratch
inode 286 offset 1687552 root 258
inode 286 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 20881408 /mnt/scratch
inode 286 offset 1765376 root 258
inode 286 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 21663744 /mnt/scratch
inode 286 offset 1789952 root 258
inode 286 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 281452544 /mnt/scratch
inode 286 offset 1794048 root 258
inode 286 offset 1794048 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 281632768 /mnt/scratch
inode 286 offset 1974272 root 258
inode 286 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 242180096 /mnt/scratch
inode 286 offset 2293760 root 258
inode 286 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 242184192 /mnt/scratch
inode 286 offset 2342912 root 258
inode 286 offset 2342912 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 279896064 /mnt/scratch
inode 286 offset 2920448 root 258
inode 286 offset 2920448 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17178624 /mnt/scratch
inode 286 offset 413696 root 258
inode 286 offset 3280896 root 258
inode 286 offset 3330048 root 258
inode 286 offset 413696 root 258
inode 286 offset 3280896 root 258
inode 286 offset 3330048 root 258
inode 286 offset 3280896 root 258
inode 286 offset 3330048 root 258
inode 286 offset 413696 root 258
inode 286 offset 3280896 root 258
inode 286 offset 3330048 root 258
inode 286 offset 3280896 root 258
inode 286 offset 3330048 root 258
inode 286 offset 413696 root 5
inode 286 offset 3280896 root 5
inode 286 offset 3330048 root 5
inode 286 offset 413696 root 5
inode 286 offset 3280896 root 5
inode 286 offset 3330048 root 5
inode 286 offset 3280896 root 5
inode 286 offset 3330048 root 5
inode 286 offset 413696 root 5
inode 286 offset 3280896 root 5
inode 286 offset 3330048 root 5
inode 286 offset 3280896 root 5
inode 286 offset 3330048 root 5
inode 301 offset 196608 root 5
inode 387 offset 794624 root 5
inode 301 offset 196608 root 258
inode 387 offset 794624 root 258
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518291672
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 301 offset 188416 root 5
inode 301 offset 188416 root 258
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 243888128 /mnt/scratch
inode 286 offset 3641344 root 258
inode 286 offset 3641344 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 249995264 /mnt/scratch
inode 286 offset 3997696 root 258
inode 286 offset 3997696 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 253865984 /mnt/scratch
inode 286 offset 4079616 root 258
inode 286 offset 4079616 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 279945216 /mnt/scratch
inode 286 offset 4378624 root 258
inode 286 offset 4378624 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f26
286
# /bin/btrfs inspect-internal logical-resolve -P 250212352 /mnt/scratch
inode 286 offset 4579328 root 258
inode 286 offset 4579328 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f26
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68 is 3305488 (808 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      11:      63657..     63667:     11:          1: shared
   1:       24..      26:      63668..     63670:      3:             shared
   2:       27..      27:      71995..     71995:      1:      63671: shared
   3:       28..      31:      63672..     63675:      4:      71996: shared
   4:       32..      32:      66042..     66042:      1:      63676: shared
   5:      115..     134:      70770..     70789:     20:      66125: unwritten,shared
   6:      144..     155:      67124..     67135:     12:      70799: shared
   7:      156..     167:      60620..     60631:     12:      67136: shared
   8:      168..     191:      60632..     60655:     24:             unwritten,shared
   9:      195..     209:      60659..     60673:     15:             unwritten,shared
  10:      244..     274:      69167..     69197:     31:      60708: shared
  11:      529..     552:      70696..     70719:     24:      69452: shared
  12:      776..     807:      73851..     73882:     32:      70943: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68: 10 extents found
after filter: 260739072#45056#4096#shared 260784128#12288#98304#shared 294891520#4096#110592#shared 260800512#16384#114688#shared 270508032#4096#131072#shared 289873920#81920#471040#unwritten,shared 274939904#49152#589824#shared 248299520#49152#638976#shared 248348672#98304#688128#unwritten,shared 248459264#61440#798720#unwritten,shared 283308032#126976#999424#shared 289570816#98304#2166784#shared 302493696#131072#3178496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 260739072 /mnt/scratch
inode 336 offset 4096 root 258
inode 336 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 260784128 /mnt/scratch
inode 336 offset 98304 root 258
inode 336 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 294891520 /mnt/scratch
inode 336 offset 110592 root 258
inode 336 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 260800512 /mnt/scratch
inode 336 offset 114688 root 258
inode 336 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 270508032 /mnt/scratch
inode 336 offset 131072 root 258
inode 336 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 274939904 /mnt/scratch
inode 336 offset 589824 root 258
inode 336 offset 589824 root 5
inode 263 offset 733184 root 258
inode 263 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 248299520 /mnt/scratch
inode 336 offset 638976 root 258
inode 263 offset 782336 root 258
inode 263 offset 782336 root 5
inode 336 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 248348672 /mnt/scratch
inode 336 offset 688128 root 258
inode 336 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 248459264 /mnt/scratch
inode 336 offset 798720 root 258
inode 336 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 283308032 /mnt/scratch
inode 336 offset 999424 root 258
inode 336 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 289570816 /mnt/scratch
inode 336 offset 2166784 root 258
inode 336 offset 2166784 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
336
# /bin/btrfs inspect-internal logical-resolve -P 302493696 /mnt/scratch
inode 336 offset 3178496 root 258
inode 336 offset 3178496 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d6e/d14e/f189
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d6e/d14e/f189 is 1656095 (405 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      137..     164:      72523..     72550:     28:        137: last,shared
/mnt/scratch/snap1/p0/df/d4e/d6e/d14e/f189: 1 extent found
after filter: 297054208#114688#561152#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d6e/d14e/f189
563
# /bin/btrfs inspect-internal logical-resolve -P 297054208 /mnt/scratch
inode 563 offset 561152 root 258
inode 563 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 563 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d6e/d14e/f189
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f127
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f127 is 1105920 (270 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      45:      63547..     63557:     11:         35: shared
   1:       47..      74:      70075..     70102:     28:      63559: unwritten,shared
   2:       79..     144:      70107..     70172:     66:             unwritten,shared
   3:      182..     198:      69485..     69501:     17:      70210: unwritten,shared
   4:      232..     252:      69535..     69555:     21:             unwritten,shared
   5:      254..     254:      70513..     70513:      1:      69557: shared
   6:      270..     410:      69573..     69713:    141:      70529: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/f127: 5 extents found
after filter: 260288512#45056#143360#shared 287027200#114688#192512#unwritten,shared 287158272#270336#323584#unwritten,shared 284610560#69632#745472#unwritten,shared 284815360#86016#950272#unwritten,shared 288821248#4096#1040384#shared 284971008#577536#1105920#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 260288512 /mnt/scratch
inode 491 offset 143360 root 258
inode 350 offset 528384 root 258
inode 491 offset 143360 root 5
inode 350 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 287027200 /mnt/scratch
inode 491 offset 192512 root 258
inode 491 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 287158272 /mnt/scratch
inode 491 offset 323584 root 258
inode 491 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 284610560 /mnt/scratch
inode 491 offset 745472 root 258
inode 491 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 284815360 /mnt/scratch
inode 491 offset 950272 root 258
inode 491 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 288821248 /mnt/scratch
inode 491 offset 1040384 root 258
inode 491 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f127
491
# /bin/btrfs inspect-internal logical-resolve -P 284971008 /mnt/scratch
inode 491 offset 1105920 root 258
inode 491 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f127
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159 is 1460596 (357 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      202..     206:      73650..     73654:      5:        202: shared
   1:      207..     207:      74494..     74494:      1:      73655: shared
   2:      345..     356:      74495..     74506:     12:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159: 2 extents found
after filter: 301670400#20480#827392#shared 305127424#4096#847872#shared 305131520#49152#1413120#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
525
# /bin/btrfs inspect-internal logical-resolve -P 301670400 /mnt/scratch
inode 525 offset 827392 root 258
inode 525 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
525
# /bin/btrfs inspect-internal logical-resolve -P 305127424 /mnt/scratch
inode 525 offset 847872 root 258
inode 525 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
525
# /bin/btrfs inspect-internal logical-resolve -P 305131520 /mnt/scratch
inode 525 offset 1413120 root 258
inode 525 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 525 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/f159
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58 is 3850827 (941 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      13:      64720..     64726:      7:          7: unwritten,shared
   1:       33..      33:      64719..     64719:      1:      64746: shared
   2:       34..      58:      64746..     64770:     25:      64720: unwritten,shared
   3:       77..      83:      64789..     64795:      7:             unwritten,shared
   4:       84..      93:      64796..     64805:     10:             shared
   5:       94..     104:      65897..     65907:     11:      64806: shared
   6:      105..     115:      64817..     64827:     11:      65908: shared
   7:      116..     138:      64828..     64850:     23:             unwritten,shared
   8:      139..     149:      64851..     64861:     11:             shared
   9:      150..     162:      65908..     65920:     13:      64862: shared
  10:      163..     164:      64875..     64876:      2:      65921: shared
  11:      165..     218:      64877..     64930:     54:             unwritten,shared
  12:      227..     254:      71431..     71458:     28:      64939: shared
  13:      278..     300:      68554..     68576:     23:      71482: shared
  14:      301..     302:      65212..     65213:      2:      68577: shared
  15:      303..     303:      65921..     65921:      1:      65214: shared
  16:      454..     464:      65922..     65932:     11:             shared
  17:      465..     465:      67089..     67089:      1:      65933: shared
  18:      577..     609:      67090..     67122:     33:             shared
  19:      637..     643:      67067..     67073:      7:      67150: shared
  20:      723..     753:      69405..     69435:     31:      67153: shared
  21:      851..     871:      67461..     67481:     21:      69533: shared
  22:      930..     940:      69199..     69209:     11:      67540: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58: 16 extents found
after filter: 265093120#28672#28672#unwritten,shared 265089024#4096#135168#shared 265199616#102400#139264#unwritten,shared 265375744#28672#315392#unwritten,shared 265404416#40960#344064#shared 269914112#45056#385024#shared 265490432#45056#430080#shared 265535488#94208#475136#unwritten,shared 265629696#45056#569344#shared 269959168#53248#614400#shared 265728000#8192#667648#shared 265736192#221184#675840#unwritten,shared 292581376#114688#929792#shared 280797184#94208#1138688#shared 267108352#8192#1232896#shared 270012416#4096#1241088#shared 270016512#45056#1859584#shared 274796544#4096#1904640#shared 274800640#135168#2363392#shared 274706432#28672#2609152#shared 284282880#126976#2961408#shared 276320256#86016#3485696#shared 283439104#45056#3809280#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265093120 /mnt/scratch
inode 322 offset 28672 root 258
inode 322 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265089024 /mnt/scratch
inode 322 offset 135168 root 258
inode 322 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265199616 /mnt/scratch
inode 322 offset 139264 root 258
inode 322 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265375744 /mnt/scratch
inode 322 offset 315392 root 258
inode 322 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265404416 /mnt/scratch
inode 322 offset 344064 root 258
inode 322 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 269914112 /mnt/scratch
inode 322 offset 385024 root 258
inode 322 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265490432 /mnt/scratch
inode 322 offset 430080 root 258
inode 322 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265535488 /mnt/scratch
inode 322 offset 475136 root 258
inode 322 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265629696 /mnt/scratch
inode 322 offset 569344 root 258
inode 322 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 269959168 /mnt/scratch
inode 322 offset 614400 root 258
inode 322 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265728000 /mnt/scratch
inode 322 offset 667648 root 258
inode 322 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 265736192 /mnt/scratch
inode 322 offset 675840 root 258
inode 322 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 292581376 /mnt/scratch
inode 322 offset 929792 root 258
inode 322 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 280797184 /mnt/scratch
inode 322 offset 1138688 root 258
inode 322 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 267108352 /mnt/scratch
inode 322 offset 1232896 root 258
inode 322 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 270012416 /mnt/scratch
inode 322 offset 1241088 root 258
inode 322 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 270016512 /mnt/scratch
inode 322 offset 1859584 root 258
inode 322 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 274796544 /mnt/scratch
inode 322 offset 1904640 root 258
inode 322 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 274800640 /mnt/scratch
inode 322 offset 2363392 root 258
inode 322 offset 2363392 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 274706432 /mnt/scratch
inode 322 offset 2609152 root 258
inode 322 offset 2609152 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 284282880 /mnt/scratch
inode 322 offset 2961408 root 258
inode 322 offset 2961408 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 276320256 /mnt/scratch
inode 322 offset 3485696 root 258
inode 322 offset 3485696 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
322
# /bin/btrfs inspect-internal logical-resolve -P 283439104 /mnt/scratch
inode 322 offset 3809280 root 258
inode 322 offset 3809280 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f58
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/f11
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/f11 is 1872772 (458 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      53:      72218..     72237:     20:         34: shared
   1:       89..     111:      60927..     60949:     23:      72273: shared
   2:      115..     115:       5290..      5290:      1:      60953: shared
   3:      180..     207:       5197..      5224:     28:       5355: shared
   4:      280..     300:      62227..     62247:     21:       5297: shared
   5:      301..     301:      71232..     71232:      1:      62248: shared
   6:      448..     457:      71318..     71327:     10:      71379: last,shared,eof
/mnt/scratch/snap1/p0/df/f11: 7 extents found
after filter: 295804928#81920#139264#shared 249556992#94208#364544#shared 21667840#4096#471040#shared 21286912#114688#737280#shared 254881792#86016#1146880#shared 291766272#4096#1232896#shared 292118528#40960#1835008#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 295804928 /mnt/scratch
inode 272 offset 139264 root 258
inode 272 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 249556992 /mnt/scratch
inode 272 offset 364544 root 258
inode 272 offset 364544 root 5
inode 359 offset 1990656 root 258
inode 359 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 21667840 /mnt/scratch
inode 272 offset 471040 root 258
inode 272 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 21286912 /mnt/scratch
inode 272 offset 737280 root 258
inode 272 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 254881792 /mnt/scratch
inode 272 offset 1146880 root 258
inode 272 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 291766272 /mnt/scratch
inode 272 offset 1232896 root 258
inode 272 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# stat -c %i /mnt/scratch/snap1/p0/df/f11
272
# /bin/btrfs inspect-internal logical-resolve -P 292118528 /mnt/scratch
inode 272 offset 1835008 root 258
inode 272 offset 1835008 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f11
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f177
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f177 is 258013 (63 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       58..      62:      70508..     70512:      5:         58: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d7f/f177: 1 extent found
after filter: 288800768#20480#237568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f177
518
# /bin/btrfs inspect-internal logical-resolve -P 288800768 /mnt/scratch
inode 518 offset 237568 root 258
inode 518 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 518 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d7f/f177
# /sbin/filefrag -v /mnt/scratch/snap1/p0/fc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/fc is 1650688 (403 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      16:       3956..      3969:     14:          3: shared
   1:       77..      87:      62208..     62218:     11:       4030: shared
   2:      143..     164:      68018..     68039:     22:      62274: shared
   3:      170..     177:       3407..      3414:      8:      68045: shared
   4:      178..     182:       5069..      5073:      5:       3415: shared
   5:      196..     200:      70476..     70480:      5:       5087: shared
   6:      234..     240:       3970..      3976:      7:      70514: shared
   7:      261..     261:       3622..      3622:      1:       3997: shared
   8:      262..     262:      69118..     69118:      1:       3623: shared
   9:      309..     316:      69119..     69126:      8:             shared
  10:      317..     323:      73791..     73797:      7:      69127: shared
  11:      374..     402:      71098..     71126:     29:      73848: last,shared,eof
/mnt/scratch/snap1/p0/fc: 11 extents found
after filter: 16203776#57344#12288#shared 254803968#45056#315392#shared 278601728#90112#585728#shared 13955072#32768#696320#shared 20762624#20480#729088#shared 288669696#20480#802816#shared 16261120#28672#958464#shared 14835712#4096#1069056#shared 283107328#4096#1073152#shared 283111424#32768#1265664#shared 302247936#28672#1298432#shared 291217408#118784#1531904#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 16203776 /mnt/scratch
inode 268 offset 12288 root 258
inode 268 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 254803968 /mnt/scratch
inode 268 offset 315392 root 258
inode 268 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 278601728 /mnt/scratch
inode 268 offset 585728 root 258
inode 268 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 13955072 /mnt/scratch
inode 268 offset 696320 root 258
inode 268 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 20762624 /mnt/scratch
inode 268 offset 729088 root 258
inode 268 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 288669696 /mnt/scratch
inode 268 offset 802816 root 258
inode 268 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 16261120 /mnt/scratch
inode 268 offset 958464 root 258
inode 268 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 14835712 /mnt/scratch
inode 268 offset 1069056 root 258
inode 268 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 283107328 /mnt/scratch
inode 268 offset 1073152 root 258
inode 268 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 283111424 /mnt/scratch
inode 268 offset 1265664 root 258
inode 268 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 302247936 /mnt/scratch
inode 268 offset 1298432 root 258
inode 268 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# stat -c %i /mnt/scratch/snap1/p0/fc
268
# /bin/btrfs inspect-internal logical-resolve -P 291217408 /mnt/scratch
inode 268 offset 1531904 root 258
inode 268 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/d10e/f171
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/d10e/f171 is 36835 (9 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..       8:      72809..     72810:      2:          7: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/d10e/f171: 1 extent found
after filter: 298225664#8192#28672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/d10e/f171
545
# /bin/btrfs inspect-internal logical-resolve -P 298225664 /mnt/scratch
inode 545 offset 28672 root 258
inode 523 offset 778240 root 258
inode 545 offset 28672 root 5
inode 523 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 545 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/d10e/f171
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103 is 3002552 (734 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       72..      81:      67661..     67670:     10:         72: shared
   1:      171..     175:      62552..     62556:      5:      67760: unwritten,shared
   2:      176..     197:      62557..     62578:     22:             shared
   3:      198..     198:      67671..     67671:      1:      62579: shared
   4:      199..     213:      62580..     62594:     15:      67672: unwritten,shared
   5:      222..     241:      62603..     62622:     20:             unwritten,shared
   6:      242..     265:      62623..     62646:     24:             shared
   7:      266..     270:      62647..     62651:      5:             unwritten,shared
   8:      271..     271:      62652..     62652:      1:             shared
   9:      272..     284:      62653..     62665:     13:             unwritten,shared
  10:      405..     434:      71060..     71089:     30:      62786: shared
  11:      482..     482:      71459..     71459:      1:      71137: shared
  12:      726..     733:      71460..     71467:      8:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103: 6 extents found
after filter: 277139456#40960#294912#shared 256212992#20480#700416#unwritten,shared 256233472#90112#720896#shared 277180416#4096#811008#shared 256327680#61440#815104#unwritten,shared 256421888#81920#909312#unwritten,shared 256503808#98304#991232#shared 256602112#20480#1089536#unwritten,shared 256622592#4096#1110016#shared 256626688#53248#1114112#unwritten,shared 291061760#122880#1658880#shared 292696064#4096#1974272#shared 292700160#32768#2973696#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 277139456 /mnt/scratch
inode 351 offset 294912 root 258
inode 351 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256212992 /mnt/scratch
inode 351 offset 700416 root 258
inode 351 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256233472 /mnt/scratch
inode 351 offset 720896 root 258
inode 351 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 277180416 /mnt/scratch
inode 351 offset 811008 root 258
inode 351 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256327680 /mnt/scratch
inode 351 offset 815104 root 258
inode 351 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256421888 /mnt/scratch
inode 351 offset 909312 root 258
inode 351 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256503808 /mnt/scratch
inode 351 offset 991232 root 258
inode 351 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256602112 /mnt/scratch
inode 351 offset 1089536 root 258
inode 351 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256622592 /mnt/scratch
inode 351 offset 1110016 root 258
inode 351 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 256626688 /mnt/scratch
inode 351 offset 1114112 root 258
inode 351 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 291061760 /mnt/scratch
inode 351 offset 1658880 root 258
inode 351 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 292696064 /mnt/scratch
inode 351 offset 1974272 root 258
inode 351 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
351
# /bin/btrfs inspect-internal logical-resolve -P 292700160 /mnt/scratch
inode 351 offset 2973696 root 258
inode 351 offset 2973696 root 5
# /bin/btrfs inspect-internal inode-resolve 351 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/fc3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/fc3 is 1838590 (449 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      440..     448:      70533..     70541:      9:        440: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fc3: 1 extent found
after filter: 288903168#36864#1802240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/fc3
416
# /bin/btrfs inspect-internal logical-resolve -P 288903168 /mnt/scratch
inode 416 offset 1802240 root 258
inode 416 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fc3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f165
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f165 is 681605 (167 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      149..     166:      73632..     73649:     18:        149: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f165: 1 extent found
after filter: 301596672#73728#610304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f165
535
# /bin/btrfs inspect-internal logical-resolve -P 301596672 /mnt/scratch
inode 535 offset 610304 root 258
inode 535 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f165
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/fb0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/fb0 is 1064363 (260 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      16:      65261..     65262:      2:         15: shared
   1:       59..      59:      64931..     64931:      1:      65305: shared
   2:       60..      68:      66379..     66387:      9:      64932: shared
   3:       69..      74:      64941..     64946:      6:      66388: shared
   4:      111..     118:      65829..     65836:      8:      64983: shared
   5:      137..     156:      70770..     70789:     20:      65855: unwritten,shared
   6:      176..     184:      65837..     65845:      9:      70809: shared
   7:      185..     185:      69131..     69131:      1:      65846: shared
   8:      254..     259:      65664..     65669:      6:      69200: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/fb0: 9 extents found
after filter: 267309056#8192#61440#shared 265957376#4096#241664#shared 271888384#36864#245760#shared 265998336#24576#282624#shared 269635584#32768#454656#shared 289873920#81920#561152#unwritten,shared 269668352#36864#720896#shared 283160576#4096#757760#shared 268959744#24576#1040384#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 267309056 /mnt/scratch
inode 399 offset 61440 root 258
inode 399 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 265957376 /mnt/scratch
inode 399 offset 241664 root 258
inode 399 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 271888384 /mnt/scratch
inode 399 offset 245760 root 258
inode 399 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 265998336 /mnt/scratch
inode 399 offset 282624 root 258
inode 399 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 269635584 /mnt/scratch
inode 399 offset 454656 root 258
inode 399 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 269668352 /mnt/scratch
inode 399 offset 720896 root 258
inode 399 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 283160576 /mnt/scratch
inode 399 offset 757760 root 258
inode 399 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fb0
399
# /bin/btrfs inspect-internal logical-resolve -P 268959744 /mnt/scratch
inode 399 offset 1040384 root 258
inode 399 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fb0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e is 3047424 (744 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      78:      69328..     69345:     18:         61: unwritten,shared
   1:      106..     110:      69373..     69377:      5:             unwritten,shared
   2:      111..     124:      63416..     63429:     14:      69378: shared
   3:      125..     127:      69378..     69380:      3:      63430: unwritten,shared
   4:      318..     344:      65215..     65241:     27:      69571: shared
   5:      608..     627:      70770..     70789:     20:      65505: unwritten,shared
   6:      713..     729:      70773..     70789:     17:      70875: unwritten,shared
   7:      781..     867:      68096..     68182:     87:      70841: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e: 7 extents found
after filter: 283967488#73728#249856#unwritten,shared 284151808#20480#434176#unwritten,shared 259751936#57344#454656#shared 284172288#12288#512000#unwritten,shared 267120640#110592#1302528#shared 289873920#81920#2490368#unwritten,shared 289886208#69632#2920448#unwritten,shared 278921216#356352#3198976#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 283967488 /mnt/scratch
inode 356 offset 249856 root 258
inode 356 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 284151808 /mnt/scratch
inode 356 offset 434176 root 258
inode 356 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 259751936 /mnt/scratch
inode 356 offset 454656 root 258
inode 356 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 284172288 /mnt/scratch
inode 356 offset 512000 root 258
inode 356 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 267120640 /mnt/scratch
inode 356 offset 1302528 root 258
inode 356 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 289886208 /mnt/scratch
inode 514 offset 24576 root 5
inode 479 offset 24576 root 5
inode 479 offset 208896 root 5
inode 479 offset 208896 root 5
inode 483 offset 671744 root 5
inode 363 offset 192512 root 5
inode 363 offset 569344 root 5
inode 363 offset 569344 root 5
inode 365 offset 1380352 root 5
inode 492 offset 745472 root 5
inode 492 offset 745472 root 5
inode 431 offset 499712 root 5
inode 435 offset 1105920 root 5
inode 350 offset 839680 root 5
inode 339 offset 299008 root 5
inode 391 offset 532480 root 5
inode 388 offset 303104 root 5
inode 388 offset 303104 root 5
inode 388 offset 53248 root 5
inode 388 offset 303104 root 5
inode 391 offset 32768 root 5
inode 391 offset 532480 root 5
inode 459 offset 118784 root 5
inode 453 offset 12288 root 5
inode 266 offset 450560 root 258
inode 263 offset 1236992 root 258
inode 263 offset 659456 root 258
inode 263 offset 1236992 root 258
inode 266 offset 450560 root 5
inode 263 offset 1236992 root 5
inode 263 offset 659456 root 5
inode 263 offset 1236992 root 5
inode 278 offset 6074368 root 5
inode 278 offset 5353472 root 5
inode 278 offset 6074368 root 5
inode 404 offset 450560 root 5
inode 399 offset 573440 root 5
inode 383 offset 2834432 root 5
inode 386 offset 716800 root 5
inode 475 offset 57344 root 5
inode 301 offset 290816 root 5
inode 301 offset 458752 root 5
inode 301 offset 548864 root 5
inode 301 offset 458752 root 5
inode 301 offset 548864 root 5
inode 301 offset 290816 root 5
inode 301 offset 458752 root 5
inode 301 offset 548864 root 5
inode 309 offset 450560 root 258
inode 309 offset 450560 root 5
inode 356 offset 2502656 root 5
inode 356 offset 2920448 root 5
inode 356 offset 2920448 root 5
inode 288 offset 73728 root 5
inode 290 offset 1232896 root 5
inode 269 offset 1859584 root 5
inode 336 offset 483328 root 5
inode 371 offset 294912 root 5
inode 378 offset 655360 root 5
inode 496 offset 376832 root 5
inode 496 offset 376832 root 5
inode 310 offset 1896448 root 5
inode 421 offset 389120 root 5
inode 356 offset 2502656 root 258
inode 356 offset 2920448 root 258
inode 356 offset 2920448 root 258
inode 301 offset 458752 root 258
inode 301 offset 548864 root 258
inode 301 offset 290816 root 258
inode 301 offset 458752 root 258
inode 301 offset 548864 root 258
inode 301 offset 290816 root 258
inode 301 offset 458752 root 258
inode 301 offset 548864 root 258
inode 288 offset 73728 root 258
inode 290 offset 1232896 root 258
inode 479 offset 24576 root 258
inode 479 offset 208896 root 258
inode 479 offset 208896 root 258
inode 483 offset 671744 root 258
inode 388 offset 303104 root 258
inode 388 offset 303104 root 258
inode 391 offset 532480 root 258
inode 388 offset 53248 root 258
inode 388 offset 303104 root 258
inode 391 offset 32768 root 258
inode 391 offset 532480 root 258
inode 278 offset 5353472 root 258
inode 278 offset 6074368 root 258
inode 278 offset 6074368 root 258
inode 475 offset 57344 root 258
inode 492 offset 745472 root 258
inode 492 offset 745472 root 258
inode 399 offset 573440 root 258
inode 404 offset 450560 root 258
inode 365 offset 1380352 root 258
inode 363 offset 569344 root 258
inode 363 offset 192512 root 258
inode 363 offset 569344 root 258
inode 269 offset 1859584 root 258
inode 336 offset 483328 root 258
inode 386 offset 716800 root 258
inode 383 offset 2834432 root 258
inode 371 offset 294912 root 258
inode 378 offset 655360 root 258
inode 496 offset 376832 root 258
inode 496 offset 376832 root 258
inode 339 offset 299008 root 258
inode 350 offset 839680 root 258
inode 459 offset 118784 root 258
inode 453 offset 12288 root 258
inode 435 offset 1105920 root 258
inode 431 offset 499712 root 258
inode 310 offset 1896448 root 258
inode 421 offset 389120 root 258
inode 514 offset 24576 root 258
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
356
# /bin/btrfs inspect-internal logical-resolve -P 278921216 /mnt/scratch
inode 356 offset 3198976 root 258
inode 356 offset 3198976 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f7e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f21
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f21 is 5903107 (1442 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      47:       5183..      5195:     13:         35: shared
   1:       63..      63:       3542..      3542:      1:       5211: shared
   2:      144..     153:       3421..      3430:     10:       3623: shared
   3:      154..     176:       4008..      4030:     23:       3431: shared
   4:      177..     177:       3684..      3684:      1:       4031: shared
   5:      265..     291:      69091..     69117:     27:       3772: shared
   6:      322..     328:       3543..      3549:      7:      69148: shared
   7:      329..     329:       5075..      5075:      1:       3550: shared
   8:      437..     459:      59620..     59642:     23:       5183: shared
   9:      527..     527:      59204..     59204:      1:      59710: shared
  10:      581..     581:       4203..      4203:      1:      59258: unwritten,shared
  11:      616..     616:      59102..     59102:      1:       4238: shared
  12:      617..     643:      72294..     72320:     27:      59103: shared
  13:      732..     750:      59643..     59661:     19:      72409: shared
  14:      751..     751:      60974..     60974:      1:      59662: shared
  15:      915..     936:      60975..     60996:     22:             shared
  16:      937..     938:      71187..     71188:      2:      60997: shared
  17:      939..     944:      60999..     61004:      6:      71189: shared
  18:     1036..    1059:      73707..     73730:     24:      61096: shared
  19:     1106..    1112:      60723..     60729:      7:      73777: shared
  20:     1218..    1228:      64991..     65001:     11:      60835: shared
  21:     1306..    1328:      65002..     65024:     23:             shared
  22:     1329..    1329:      65151..     65151:      1:      65025: shared
  23:     1439..    1441:      65152..     65154:      3:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/f21: 21 extents found
after filter: 21229568#53248#143360#shared 14508032#4096#258048#shared 14012416#40960#589824#shared 16416768#94208#630784#shared 15089664#4096#724992#shared 282996736#110592#1085440#shared 14512128#28672#1318912#shared 20787200#4096#1347584#shared 244203520#94208#1789952#shared 242499584#4096#2158592#shared 17215488#4096#2379776#unwritten,shared 242081792#4096#2523136#shared 296116224#110592#2527232#shared 244297728#77824#2998272#shared 249749504#4096#3076096#shared 249753600#90112#3747840#shared 291581952#8192#3837952#shared 249851904#24576#3846144#shared 301903872#98304#4243456#shared 248721408#28672#4530176#shared 266203136#45056#4988928#shared 266248192#94208#5349376#shared 266858496#4096#5443584#shared 266862592#12288#5894144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 21229568 /mnt/scratch
inode 267 offset 143360 root 258
inode 267 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 14508032 /mnt/scratch
inode 267 offset 258048 root 258
inode 267 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 14012416 /mnt/scratch
inode 267 offset 589824 root 258
inode 267 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 16416768 /mnt/scratch
inode 267 offset 630784 root 258
inode 267 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 15089664 /mnt/scratch
inode 267 offset 724992 root 258
inode 267 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 282996736 /mnt/scratch
inode 267 offset 1085440 root 258
inode 267 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 14512128 /mnt/scratch
inode 267 offset 1318912 root 258
inode 267 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 20787200 /mnt/scratch
inode 267 offset 1347584 root 258
inode 267 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 244203520 /mnt/scratch
inode 267 offset 1789952 root 258
inode 267 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 242499584 /mnt/scratch
inode 267 offset 2158592 root 258
inode 267 offset 2158592 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 17215488 /mnt/scratch
inode 286 offset 450560 root 258
inode 286 offset 3317760 root 258
inode 286 offset 3366912 root 258
inode 286 offset 450560 root 258
inode 286 offset 3317760 root 258
inode 286 offset 3366912 root 258
inode 286 offset 3317760 root 258
inode 286 offset 3366912 root 258
inode 286 offset 450560 root 258
inode 286 offset 3317760 root 258
inode 286 offset 3366912 root 258
inode 286 offset 3317760 root 258
inode 286 offset 3366912 root 258
inode 286 offset 450560 root 5
inode 286 offset 3317760 root 5
inode 286 offset 3366912 root 5
inode 286 offset 450560 root 5
inode 286 offset 3317760 root 5
inode 286 offset 3366912 root 5
inode 286 offset 3317760 root 5
inode 286 offset 3366912 root 5
inode 286 offset 450560 root 5
inode 286 offset 3317760 root 5
inode 286 offset 3366912 root 5
inode 286 offset 3317760 root 5
inode 286 offset 3366912 root 5
inode 278 offset 1118208 root 5
inode 267 offset 2379776 root 258
inode 267 offset 2379776 root 5
inode 278 offset 1118208 root 258
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 267 offset 2523136 root 258
inode 267 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 296116224 /mnt/scratch
inode 267 offset 2527232 root 258
inode 267 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 244297728 /mnt/scratch
inode 267 offset 2998272 root 258
inode 267 offset 2998272 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 249749504 /mnt/scratch
inode 267 offset 3076096 root 258
inode 267 offset 3076096 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 249753600 /mnt/scratch
inode 267 offset 3747840 root 258
inode 267 offset 3747840 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 291581952 /mnt/scratch
inode 267 offset 3837952 root 258
inode 267 offset 3837952 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 249851904 /mnt/scratch
inode 267 offset 3846144 root 258
inode 267 offset 3846144 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 301903872 /mnt/scratch
inode 267 offset 4243456 root 258
inode 267 offset 4243456 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 248721408 /mnt/scratch
inode 267 offset 4530176 root 258
inode 267 offset 4530176 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 266203136 /mnt/scratch
inode 267 offset 4988928 root 258
inode 267 offset 4988928 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 266248192 /mnt/scratch
inode 267 offset 5349376 root 258
inode 267 offset 5349376 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 266858496 /mnt/scratch
inode 267 offset 5443584 root 258
inode 267 offset 5443584 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f21
267
# /bin/btrfs inspect-internal logical-resolve -P 266862592 /mnt/scratch
inode 267 offset 5894144 root 258
inode 267 offset 5894144 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f21
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/d2e/f52
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/d2e/f52 is 2585460 (632 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      67:      72216..     72217:      2:         66: shared
   1:      224..     251:      60898..     60925:     28:      72374: shared
   2:      252..     252:      62332..     62332:      1:      60926: shared
   3:      261..     279:      69980..     69998:     19:      62341: shared
   4:      306..     306:      65663..     65663:      1:      70025: shared
   5:      447..     454:      64501..     64508:      8:      65804: shared
   6:      455..     455:      67136..     67136:      1:      64509: shared
   7:      613..     631:      67137..     67155:     19:             last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/d2e/f52: 7 extents found
after filter: 295796736#8192#270336#shared 249438208#114688#917504#shared 255311872#4096#1032192#shared 286638080#77824#1069056#shared 268955648#4096#1253376#shared 264196096#32768#1830912#shared 274989056#4096#1863680#shared 274993152#77824#2510848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 295796736 /mnt/scratch
inode 318 offset 270336 root 258
inode 318 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 249438208 /mnt/scratch
inode 318 offset 917504 root 258
inode 318 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 255311872 /mnt/scratch
inode 318 offset 1032192 root 258
inode 318 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 286638080 /mnt/scratch
inode 318 offset 1069056 root 258
inode 318 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 268955648 /mnt/scratch
inode 318 offset 1253376 root 258
inode 318 offset 1253376 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 264196096 /mnt/scratch
inode 318 offset 1830912 root 258
inode 318 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 274989056 /mnt/scratch
inode 318 offset 1863680 root 258
inode 318 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
seed = 1517303355
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f52
318
# /bin/btrfs inspect-internal logical-resolve -P 274993152 /mnt/scratch
inode 318 offset 2510848 root 258
inode 318 offset 2510848 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9 is 2453504 (599 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      277..     290:      68950..     68963:     14:        277: shared
   1:      343..     350:      70268..     70275:      8:      69016: shared
   2:      457..     475:      72240..     72258:     19:      70382: shared
   3:      588..     598:      71984..     71994:     11:      72371: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9: 4 extents found
after filter: 282419200#57344#1134592#shared 287817728#32768#1404928#shared 295895040#77824#1871872#shared 294846464#45056#2408448#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
442
# /bin/btrfs inspect-internal logical-resolve -P 282419200 /mnt/scratch
inode 442 offset 1134592 root 258
inode 442 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
442
# /bin/btrfs inspect-internal logical-resolve -P 287817728 /mnt/scratch
inode 442 offset 1404928 root 258
inode 387 offset 2990080 root 258
inode 442 offset 1404928 root 5
inode 387 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
442
# /bin/btrfs inspect-internal logical-resolve -P 295895040 /mnt/scratch
inode 442 offset 1871872 root 258
inode 442 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
442
# /bin/btrfs inspect-internal logical-resolve -P 294846464 /mnt/scratch
inode 442 offset 2408448 root 258
inode 442 offset 2408448 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/fb5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/fb5 is 1383197 (338 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      107..     126:      70770..     70789:     20:        107: unwritten,shared
   1:      135..     155:      72345..     72365:     21:      70798: shared
   2:      245..     273:      64661..     64689:     29:      72455: shared
   3:      306..     312:      69237..     69243:      7:      64722: shared
   4:      319..     337:      65938..     65956:     19:      69250: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/fb5: 5 extents found
after filter: 289873920#81920#438272#unwritten,shared 296325120#86016#552960#shared 264851456#118784#1003520#shared 283594752#28672#1253376#shared 270082048#77824#1306624#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fb5
404
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fb5
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fb5
404
# /bin/btrfs inspect-internal logical-resolve -P 296325120 /mnt/scratch
inode 404 offset 552960 root 258
inode 404 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fb5
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fb5
404
# /bin/btrfs inspect-internal logical-resolve -P 264851456 /mnt/scratch
inode 404 offset 1003520 root 258
inode 404 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fb5
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fb5
404
# /bin/btrfs inspect-internal logical-resolve -P 283594752 /mnt/scratch
inode 404 offset 1253376 root 258
inode 404 offset 1253376 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fb5
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fb5
404
# /bin/btrfs inspect-internal logical-resolve -P 270082048 /mnt/scratch
inode 404 offset 1306624 root 258
inode 404 offset 1306624 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fb5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/f6b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/f6b is 1607054 (393 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       40..      46:      67654..     67660:      7:         40: shared
   1:       49..      62:      73547..     73560:     14:      67663: shared
   2:       70..      89:      70770..     70789:     20:      73568: unwritten,shared
   3:      146..     172:      71289..     71315:     27:      70846: shared
   4:      173..     174:      61570..     61571:      2:      71316: shared
   5:      273..     273:      63490..     63490:      1:      61670: shared
   6:      278..     296:      65242..     65260:     19:      63495: shared
   7:      297..     307:      64980..     64990:     11:      65261: shared
   8:      376..     392:      63491..     63507:     17:      65059: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/f6b: 9 extents found
after filter: 277110784#28672#163840#shared 301248512#57344#200704#shared 289873920#81920#286720#unwritten,shared 291999744#110592#598016#shared 252190720#8192#708608#shared 260055040#4096#1118208#shared 267231232#77824#1138688#shared 266158080#45056#1216512#shared 260059136#69632#1540096#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 277110784 /mnt/scratch
inode 339 offset 163840 root 258
inode 339 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 301248512 /mnt/scratch
inode 339 offset 200704 root 258
inode 339 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 291999744 /mnt/scratch
inode 339 offset 598016 root 258
inode 339 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 252190720 /mnt/scratch
inode 339 offset 708608 root 258
inode 339 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 260055040 /mnt/scratch
inode 339 offset 1118208 root 258
inode 339 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 267231232 /mnt/scratch
inode 339 offset 1138688 root 258
inode 339 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 266158080 /mnt/scratch
inode 339 offset 1216512 root 258
inode 339 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f6b
339
# /bin/btrfs inspect-internal logical-resolve -P 260059136 /mnt/scratch
inode 339 offset 1540096 root 258
inode 339 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f6b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/f8d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/f8d is 1359872 (332 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       52..      56:      63771..     63775:      5:         52: shared
   1:       71..      88:      66355..     66372:     18:      63790: shared
   2:      123..     144:      63635..     63656:     22:      66407: shared
   3:      310..     323:      73822..     73835:     14:      63822: shared
   4:      331..     331:      71392..     71392:      1:      73843: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/f8d: 5 extents found
after filter: 261206016#20480#212992#shared 271790080#73728#290816#shared 260648960#90112#503808#shared 302374912#57344#1269760#shared 292421632#4096#1355776#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f8d
369
# /bin/btrfs inspect-internal logical-resolve -P 261206016 /mnt/scratch
inode 369 offset 212992 root 258
inode 369 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f8d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f8d
369
# /bin/btrfs inspect-internal logical-resolve -P 271790080 /mnt/scratch
inode 369 offset 290816 root 258
inode 369 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f8d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f8d
369
# /bin/btrfs inspect-internal logical-resolve -P 260648960 /mnt/scratch
inode 369 offset 503808 root 258
inode 369 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f8d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f8d
369
# /bin/btrfs inspect-internal logical-resolve -P 302374912 /mnt/scratch
inode 369 offset 1269760 root 258
inode 369 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f8d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f8d
369
# /bin/btrfs inspect-internal logical-resolve -P 292421632 /mnt/scratch
inode 369 offset 1355776 root 258
inode 269 offset 1015808 root 258
inode 369 offset 1355776 root 5
inode 269 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f8d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f45
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f45 is 2805367 (685 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      33:      60779..     60803:     25:          9: shared
   1:       41..      51:      59999..     60009:     11:      60811: shared
   2:       70..      74:      65847..     65851:      5:      60028: shared
   3:      107..     126:      70770..     70789:     20:      65884: unwritten,shared
   4:      145..     151:      60804..     60810:      7:      70808: shared
   5:      152..     167:      65852..     65867:     16:      60811: shared
   6:      168..     173:      60827..     60832:      6:      65868: shared
   7:      196..     220:      62307..     62331:     25:      60855: shared
   8:      221..     231:      60066..     60076:     11:      62332: shared
   9:      232..     232:      60833..     60833:      1:      60077: shared
  10:      350..     368:      64690..     64708:     19:      60951: shared
  11:      371..     378:      60834..     60841:      8:      64711: shared
  12:      411..     428:      60842..     60859:     18:             shared
  13:      554..     570:      70439..     70455:     17:      60985: shared
  14:      636..     645:      68366..     68375:     10:      70521: last,shared
/mnt/scratch/snap1/p0/df/d13/f45: 14 extents found
after filter: 248950784#102400#36864#shared 245755904#45056#167936#shared 269709312#20480#286720#shared 289873920#81920#438272#unwritten,shared 249053184#28672#593920#shared 269729792#65536#622592#shared 249147392#24576#688128#shared 255209472#102400#802816#shared 246030336#45056#905216#shared 249171968#4096#950272#shared 264970240#77824#1433600#shared 249176064#32768#1519616#shared 249208832#73728#1683456#shared 288518144#69632#2269184#shared 280027136#40960#2605056#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 248950784 /mnt/scratch
inode 309 offset 36864 root 258
inode 309 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 245755904 /mnt/scratch
inode 309 offset 167936 root 258
inode 309 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 269709312 /mnt/scratch
inode 309 offset 286720 root 258
inode 309 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 249053184 /mnt/scratch
inode 309 offset 593920 root 258
inode 309 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 269729792 /mnt/scratch
inode 309 offset 622592 root 258
inode 309 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 249147392 /mnt/scratch
inode 309 offset 688128 root 258
inode 309 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 255209472 /mnt/scratch
inode 309 offset 802816 root 258
inode 309 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 246030336 /mnt/scratch
inode 309 offset 905216 root 258
inode 309 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 249171968 /mnt/scratch
inode 309 offset 950272 root 258
inode 309 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 264970240 /mnt/scratch
inode 309 offset 1433600 root 258
inode 309 offset 1433600 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 249176064 /mnt/scratch
inode 309 offset 1519616 root 258
inode 309 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 249208832 /mnt/scratch
inode 309 offset 1683456 root 258
inode 309 offset 1683456 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 288518144 /mnt/scratch
inode 309 offset 2269184 root 258
inode 309 offset 2269184 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f45
309
# /bin/btrfs inspect-internal logical-resolve -P 280027136 /mnt/scratch
inode 309 offset 2605056 root 258
inode 309 offset 2605056 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f45
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/de3/f136 is 2358955 (576 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      61:       3936..      3942:      7:         55: shared
   1:      210..     215:      70784..     70789:      6:       4091: unwritten,shared
   2:      320..     343:      62721..     62744:     24:      70894: unwritten,shared
   3:      375..     391:      66259..     66275:     17:      62776: shared
   4:      392..     392:      69747..     69747:      1:      66276: shared
   5:      565..     575:      69748..     69758:     11:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136: 5 extents found
after filter: 16121856#28672#225280#shared 289931264#24576#860160#unwritten,shared 256905216#98304#1310720#unwritten,shared 271396864#69632#1536000#shared 285683712#4096#1605632#shared 285687808#45056#2314240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 16121856 /mnt/scratch
inode 278 offset 675840 root 258
inode 361 offset 225280 root 258
inode 361 offset 225280 root 5
inode 278 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 289931264 /mnt/scratch
inode 514 offset 69632 root 5
inode 361 offset 860160 root 258
inode 361 offset 860160 root 5
inode 363 offset 237568 root 5
inode 363 offset 614400 root 5
inode 363 offset 614400 root 5
inode 365 offset 1425408 root 5
inode 492 offset 348160 root 5
inode 492 offset 790528 root 5
inode 492 offset 790528 root 5
inode 483 offset 983040 root 5
inode 483 offset 716800 root 5
inode 483 offset 983040 root 5
inode 350 offset 884736 root 5
inode 339 offset 344064 root 5
inode 391 offset 577536 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 98304 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 391 offset 77824 root 5
inode 391 offset 577536 root 5
inode 266 offset 495616 root 258
inode 263 offset 1282048 root 258
inode 263 offset 704512 root 258
inode 263 offset 1282048 root 258
inode 266 offset 495616 root 5
inode 263 offset 1282048 root 5
inode 263 offset 704512 root 5
inode 263 offset 1282048 root 5
inode 278 offset 6119424 root 5
inode 278 offset 5398528 root 5
inode 278 offset 6119424 root 5
inode 404 offset 495616 root 5
inode 399 offset 618496 root 5
inode 408 offset 225280 root 5
inode 383 offset 2879488 root 5
inode 386 offset 761856 root 5
inode 475 offset 102400 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 309 offset 495616 root 258
inode 309 offset 495616 root 5
inode 356 offset 2547712 root 5
inode 356 offset 2965504 root 5
inode 356 offset 2965504 root 5
inode 288 offset 118784 root 5
inode 269 offset 1904640 root 5
inode 336 offset 528384 root 5
inode 371 offset 339968 root 5
inode 378 offset 700416 root 5
inode 496 offset 466944 root 5
inode 496 offset 466944 root 5
inode 435 offset 1150976 root 5
inode 310 offset 1941504 root 5
inode 439 offset 122880 root 5
inode 421 offset 434176 root 5
inode 356 offset 2547712 root 258
inode 356 offset 2965504 root 258
inode 356 offset 2965504 root 258
inode 408 offset 225280 root 258
inode 399 offset 618496 root 258
inode 404 offset 495616 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 288 offset 118784 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 577536 root 258
inode 388 offset 98304 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 77824 root 258
inode 391 offset 577536 root 258
inode 278 offset 5398528 root 258
inode 278 offset 6119424 root 258
inode 278 offset 6119424 root 258
inode 475 offset 102400 root 258
inode 492 offset 790528 root 258
inode 492 offset 348160 root 258
inode 492 offset 790528 root 258
inode 365 offset 1425408 root 258
inode 363 offset 614400 root 258
inode 363 offset 237568 root 258
inode 363 offset 614400 root 258
inode 269 offset 1904640 root 258
inode 336 offset 528384 root 258
inode 386 offset 761856 root 258
inode 383 offset 2879488 root 258
inode 371 offset 339968 root 258
inode 378 offset 700416 root 258
inode 496 offset 466944 root 258
inode 496 offset 466944 root 258
inode 339 offset 344064 root 258
inode 350 offset 884736 root 258
inode 435 offset 1150976 root 258
inode 310 offset 1941504 root 258
inode 483 offset 716800 root 258
inode 483 offset 983040 root 258
inode 483 offset 983040 root 258
inode 439 offset 122880 root 258
inode 421 offset 434176 root 258
inode 514 offset 69632 root 258
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 256905216 /mnt/scratch
inode 310 offset 1519616 root 258
inode 310 offset 1519616 root 258
inode 310 offset 1519616 root 5
inode 310 offset 1519616 root 5
inode 361 offset 1310720 root 258
inode 361 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 271396864 /mnt/scratch
inode 361 offset 1536000 root 258
inode 361 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 285683712 /mnt/scratch
inode 361 offset 1605632 root 258
inode 361 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f136
361
# /bin/btrfs inspect-internal logical-resolve -P 285687808 /mnt/scratch
inode 361 offset 2314240 root 258
inode 361 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/fba is 970752 (237 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      12:      59311..     59313:      3:         10: unwritten,shared
   1:       55..      60:      70784..     70789:      6:      59356: unwritten,shared
   2:      207..     236:      72779..     72808:     30:      70936: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fba: 3 extents found
after filter: 242937856#12288#40960#unwritten,shared 289931264#24576#225280#unwritten,shared 298102784#122880#847872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
408
# /bin/btrfs inspect-internal logical-resolve -P 242937856 /mnt/scratch
inode 408 offset 40960 root 258
inode 408 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
408
# /bin/btrfs inspect-internal logical-resolve -P 289931264 /mnt/scratch
inode 514 offset 69632 root 5
inode 361 offset 860160 root 258
inode 361 offset 860160 root 5
inode 363 offset 237568 root 5
inode 363 offset 614400 root 5
inode 363 offset 614400 root 5
inode 365 offset 1425408 root 5
inode 492 offset 348160 root 5
inode 492 offset 790528 root 5
inode 492 offset 790528 root 5
inode 483 offset 983040 root 5
inode 483 offset 716800 root 5
inode 483 offset 983040 root 5
inode 350 offset 884736 root 5
inode 339 offset 344064 root 5
inode 391 offset 577536 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 98304 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 391 offset 77824 root 5
inode 391 offset 577536 root 5
inode 266 offset 495616 root 258
inode 263 offset 1282048 root 258
inode 263 offset 704512 root 258
inode 263 offset 1282048 root 258
inode 266 offset 495616 root 5
inode 263 offset 1282048 root 5
inode 263 offset 704512 root 5
inode 263 offset 1282048 root 5
inode 278 offset 6119424 root 5
inode 278 offset 5398528 root 5
inode 278 offset 6119424 root 5
inode 404 offset 495616 root 5
inode 399 offset 618496 root 5
inode 408 offset 225280 root 5
inode 383 offset 2879488 root 5
inode 386 offset 761856 root 5
inode 475 offset 102400 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 309 offset 495616 root 258
inode 309 offset 495616 root 5
inode 356 offset 2547712 root 5
inode 356 offset 2965504 root 5
inode 356 offset 2965504 root 5
inode 288 offset 118784 root 5
inode 269 offset 1904640 root 5
inode 336 offset 528384 root 5
inode 371 offset 339968 root 5
inode 378 offset 700416 root 5
inode 496 offset 466944 root 5
inode 496 offset 466944 root 5
inode 435 offset 1150976 root 5
inode 310 offset 1941504 root 5
inode 439 offset 122880 root 5
inode 421 offset 434176 root 5
inode 356 offset 2547712 root 258
inode 356 offset 2965504 root 258
inode 356 offset 2965504 root 258
inode 408 offset 225280 root 258
inode 399 offset 618496 root 258
inode 404 offset 495616 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 288 offset 118784 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 577536 root 258
inode 388 offset 98304 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 77824 root 258
inode 391 offset 577536 root 258
inode 278 offset 5398528 root 258
inode 278 offset 6119424 root 258
inode 278 offset 6119424 root 258
inode 475 offset 102400 root 258
inode 492 offset 790528 root 258
inode 492 offset 348160 root 258
inode 492 offset 790528 root 258
inode 365 offset 1425408 root 258
inode 363 offset 614400 root 258
inode 363 offset 237568 root 258
inode 363 offset 614400 root 258
inode 269 offset 1904640 root 258
inode 336 offset 528384 root 258
inode 386 offset 761856 root 258
inode 383 offset 2879488 root 258
inode 371 offset 339968 root 258
inode 378 offset 700416 root 258
inode 496 offset 466944 root 258
inode 496 offset 466944 root 258
inode 339 offset 344064 root 258
inode 350 offset 884736 root 258
inode 435 offset 1150976 root 258
inode 310 offset 1941504 root 258
inode 483 offset 716800 root 258
inode 483 offset 983040 root 258
inode 483 offset 983040 root 258
inode 439 offset 122880 root 258
inode 421 offset 434176 root 258
inode 514 offset 69632 root 258
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
408
# /bin/btrfs inspect-internal logical-resolve -P 298102784 /mnt/scratch
inode 408 offset 847872 root 258
inode 408 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/fba
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/f50 is 1859366 (454 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      25:      60142..     60166:     25:          1: shared
   1:       26..      32:       3939..      3945:      7:      60167: shared
   2:       33..      56:      64526..     64549:     24:       3946: shared
   3:       62..      62:       4075..      4075:      1:      64555: shared
   4:       63..      67:      59638..     59642:      5:       4076: shared
   5:       76..      78:       4089..      4091:      3:      59651: shared
   6:       97..     118:      59568..     59589:     22:       4110: shared
   7:      119..     122:       4222..      4225:      4:      59590: unwritten,shared
   8:      225..     248:      63392..     63415:     24:       4328: shared
   9:      258..     272:      59604..     59618:     15:      63425: shared
  10:      273..     273:      60034..     60034:      1:      59619: shared
  11:      321..     329:      64550..     64558:      9:      60082: shared
  12:      330..     352:      67995..     68017:     23:      64559: shared
  13:      353..     357:      61587..     61591:      5:      68018: shared
  14:      368..     368:      71365..     71365:      1:      61602: shared
  15:      443..     453:      71366..     71376:     11:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50: 15 extents found
after filter: 246341632#102400#4096#shared 16134144#28672#106496#shared 264298496#98304#135168#shared 16691200#4096#253952#shared 244277248#20480#258048#shared 16748544#12288#311296#shared 243990528#90112#397312#shared 17293312#16384#487424#unwritten,shared 259653632#98304#921600#shared 244137984#61440#1056768#shared 245899264#4096#1118208#shared 264396800#36864#1314816#shared 278507520#94208#1351680#shared 252260352#20480#1445888#shared 292311040#4096#1507328#shared 292315136#45056#1814528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 246341632 /mnt/scratch
inode 260 offset 4096 root 258
inode 260 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 16134144 /mnt/scratch
inode 260 offset 106496 root 258
inode 278 offset 688128 root 258
inode 260 offset 106496 root 5
inode 361 offset 237568 root 258
inode 361 offset 237568 root 5
inode 278 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 264298496 /mnt/scratch
inode 260 offset 135168 root 258
inode 260 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 16691200 /mnt/scratch
inode 260 offset 253952 root 258
inode 260 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 244277248 /mnt/scratch
inode 260 offset 258048 root 258
inode 267 offset 1863680 root 258
inode 267 offset 1863680 root 5
inode 260 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 16748544 /mnt/scratch
inode 260 offset 311296 root 258
inode 260 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 243990528 /mnt/scratch
inode 260 offset 397312 root 258
inode 260 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 17293312 /mnt/scratch
inode 260 offset 487424 root 5
inode 260 offset 487424 root 258
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 259653632 /mnt/scratch
inode 260 offset 921600 root 258
inode 260 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 244137984 /mnt/scratch
inode 260 offset 1056768 root 258
inode 260 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 245899264 /mnt/scratch
inode 260 offset 1118208 root 258
inode 260 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 264396800 /mnt/scratch
inode 260 offset 1314816 root 258
inode 260 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 278507520 /mnt/scratch
inode 260 offset 1351680 root 258
inode 260 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 252260352 /mnt/scratch
inode 260 offset 1445888 root 258
inode 260 offset 1445888 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 292311040 /mnt/scratch
inode 260 offset 1507328 root 258
inode 260 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f50
260
# /bin/btrfs inspect-internal logical-resolve -P 292315136 /mnt/scratch
inode 260 offset 1814528 root 258
inode 260 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106 is 905216 (221 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..      16:      73656..     73670:     15:          2: shared
   1:       26..      33:      70770..     70777:      8:      73680: unwritten,shared
   2:      191..     220:      67482..     67511:     30:      70935: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106: 3 extents found
after filter: 301694976#61440#8192#shared 289873920#32768#106496#unwritten,shared 276406272#122880#782336#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
459
# /bin/btrfs inspect-internal logical-resolve -P 301694976 /mnt/scratch
inode 459 offset 8192 root 258
inode 459 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
459
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
459
# /bin/btrfs inspect-internal logical-resolve -P 276406272 /mnt/scratch
inode 459 offset 782336 root 258
inode 459 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f106
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5 is 2358955 (576 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      61:       3936..      3942:      7:         55: shared
   1:      210..     215:      70784..     70789:      6:       4091: unwritten,shared
   2:      320..     343:      62721..     62744:     24:      70894: unwritten,shared
   3:      375..     391:      66259..     66275:     17:      62776: shared
   4:      392..     392:      69747..     69747:      1:      66276: shared
   5:      565..     575:      69748..     69758:     11:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5: 5 extents found
after filter: 16121856#28672#225280#shared 289931264#24576#860160#unwritten,shared 256905216#98304#1310720#unwritten,shared 271396864#69632#1536000#shared 285683712#4096#1605632#shared 285687808#45056#2314240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 16121856 /mnt/scratch
inode 278 offset 675840 root 258
inode 361 offset 225280 root 258
inode 361 offset 225280 root 5
inode 278 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 289931264 /mnt/scratch
inode 514 offset 69632 root 5
inode 361 offset 860160 root 258
inode 361 offset 860160 root 5
inode 363 offset 237568 root 5
inode 363 offset 614400 root 5
inode 363 offset 614400 root 5
inode 365 offset 1425408 root 5
inode 492 offset 348160 root 5
inode 492 offset 790528 root 5
inode 492 offset 790528 root 5
inode 483 offset 983040 root 5
inode 483 offset 716800 root 5
inode 483 offset 983040 root 5
inode 350 offset 884736 root 5
inode 339 offset 344064 root 5
inode 391 offset 577536 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 98304 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 391 offset 77824 root 5
inode 391 offset 577536 root 5
inode 266 offset 495616 root 258
inode 263 offset 1282048 root 258
inode 263 offset 704512 root 258
inode 263 offset 1282048 root 258
inode 266 offset 495616 root 5
inode 263 offset 1282048 root 5
inode 263 offset 704512 root 5
inode 263 offset 1282048 root 5
inode 278 offset 6119424 root 5
inode 278 offset 5398528 root 5
inode 278 offset 6119424 root 5
inode 404 offset 495616 root 5
inode 399 offset 618496 root 5
inode 408 offset 225280 root 5
inode 383 offset 2879488 root 5
inode 386 offset 761856 root 5
inode 475 offset 102400 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 309 offset 495616 root 258
inode 309 offset 495616 root 5
inode 356 offset 2547712 root 5
inode 356 offset 2965504 root 5
inode 356 offset 2965504 root 5
inode 288 offset 118784 root 5
inode 269 offset 1904640 root 5
inode 336 offset 528384 root 5
inode 371 offset 339968 root 5
inode 378 offset 700416 root 5
inode 496 offset 466944 root 5
inode 496 offset 466944 root 5
inode 435 offset 1150976 root 5
inode 310 offset 1941504 root 5
inode 439 offset 122880 root 5
inode 421 offset 434176 root 5
inode 356 offset 2547712 root 258
inode 356 offset 2965504 root 258
inode 356 offset 2965504 root 258
inode 408 offset 225280 root 258
inode 399 offset 618496 root 258
inode 404 offset 495616 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 288 offset 118784 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 577536 root 258
inode 388 offset 98304 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 77824 root 258
inode 391 offset 577536 root 258
inode 278 offset 5398528 root 258
inode 278 offset 6119424 root 258
inode 278 offset 6119424 root 258
inode 475 offset 102400 root 258
inode 492 offset 790528 root 258
inode 492 offset 348160 root 258
inode 492 offset 790528 root 258
inode 365 offset 1425408 root 258
inode 363 offset 614400 root 258
inode 363 offset 237568 root 258
inode 363 offset 614400 root 258
inode 269 offset 1904640 root 258
inode 336 offset 528384 root 258
inode 386 offset 761856 root 258
inode 383 offset 2879488 root 258
inode 371 offset 339968 root 258
inode 378 offset 700416 root 258
inode 496 offset 466944 root 258
inode 496 offset 466944 root 258
inode 339 offset 344064 root 258
inode 350 offset 884736 root 258
inode 435 offset 1150976 root 258
inode 310 offset 1941504 root 258
inode 483 offset 716800 root 258
inode 483 offset 983040 root 258
inode 483 offset 983040 root 258
inode 439 offset 122880 root 258
inode 421 offset 434176 root 258
inode 514 offset 69632 root 258
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 256905216 /mnt/scratch
inode 310 offset 1519616 root 258
inode 310 offset 1519616 root 258
inode 310 offset 1519616 root 5
inode 310 offset 1519616 root 5
inode 361 offset 1310720 root 258
inode 361 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 271396864 /mnt/scratch
inode 361 offset 1536000 root 258
inode 361 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 285683712 /mnt/scratch
inode 361 offset 1605632 root 258
inode 361 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
361
# /bin/btrfs inspect-internal logical-resolve -P 285687808 /mnt/scratch
inode 361 offset 2314240 root 258
inode 361 offset 2314240 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/d88/ff5
/mnt/scratch/snap1/p0/df/d13/db8/de3/f136
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d94/ff9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d94/ff9 is 769579 (188 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      158..     187:      72921..     72950:     30:        158: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d94/ff9: 1 extent found
after filter: 298684416#122880#647168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d94/ff9
440
# /bin/btrfs inspect-internal logical-resolve -P 298684416 /mnt/scratch
inode 440 offset 647168 root 258
inode 440 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d94/ff9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83 is 3928064 (959 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..       9:      64457..     64457:      1:          9: shared
   1:      109..     122:      67074..     67087:     14:      64557: shared
   2:      123..     133:      66281..     66291:     11:      67088: shared
   3:      167..     171:      63180..     63184:      5:      66325: unwritten,shared
   4:      172..     184:      66292..     66304:     13:      63185: shared
   5:      185..     187:      68978..     68980:      3:      66305: shared
   6:      188..     198:      66308..     66318:     11:      68981: shared
   7:      199..     201:      63632..     63634:      3:      66319: shared
   8:      202..     215:      63215..     63228:     14:      63635: unwritten,shared
   9:      236..     247:      63249..     63260:     12:             unwritten,shared
  10:      259..     260:      63272..     63273:      2:             unwritten,shared
  11:      261..     268:      66034..     66041:      8:      63274: shared
  12:      269..     282:      63282..     63295:     14:      66042: unwritten,shared
  13:      284..     292:      63297..     63305:      9:             unwritten,shared
  14:      293..     293:      67088..     67088:      1:      63306: shared
  15:      294..     310:      63307..     63323:     17:      67089: unwritten,shared
  16:      343..     351:      68545..     68553:      9:      63356: unwritten,shared
  17:      370..     386:      62166..     62182:     17:      68572: unwritten,shared
  18:      388..     388:      62184..     62184:      1:             unwritten,shared
  19:      389..     398:      61948..     61957:     10:      62185: shared
  20:      407..     422:      72969..     72984:     16:      61966: shared
  21:      486..     505:      60927..     60946:     20:      73048: shared
  22:      558..     571:      73836..     73849:     14:      60999: shared
  23:      598..     619:      72985..     73006:     22:      73876: unwritten,shared
  24:      639..     640:      70788..     70789:      2:      73026: unwritten,shared
  25:      693..     693:      72292..     72292:      1:      70842: shared
  26:      939..     958:      72005..     72024:     20:      72538: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83: 23 extents found
after filter: 264015872#4096#36864#shared 274735104#57344#446464#shared 271486976#45056#503808#shared 258785280#20480#684032#unwritten,shared 271532032#53248#704512#shared 282533888#12288#757760#shared 271597568#45056#770048#shared 260636672#12288#815104#shared 258928640#57344#827392#unwritten,shared 259067904#49152#966656#unwritten,shared 259162112#8192#1060864#unwritten,shared 270475264#32768#1069056#shared 259203072#57344#1101824#unwritten,shared 259264512#36864#1163264#unwritten,shared 274792448#4096#1200128#shared 259305472#69632#1204224#unwritten,shared 280760320#36864#1404928#unwritten,shared 254631936#69632#1515520#unwritten,shared 254705664#4096#1589248#unwritten,shared 253739008#40960#1593344#shared 298881024#65536#1667072#shared 249556992#81920#1990656#shared 302432256#57344#2285568#shared 298946560#90112#2449408#unwritten,shared 289947648#8192#2617344#unwritten,shared 296108032#4096#2838528#shared 294932480#81920#3846144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 264015872 /mnt/scratch
inode 359 offset 36864 root 258
inode 359 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 274735104 /mnt/scratch
inode 359 offset 446464 root 258
inode 359 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 271486976 /mnt/scratch
inode 359 offset 503808 root 258
inode 359 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 258785280 /mnt/scratch
inode 359 offset 684032 root 258
inode 359 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 271532032 /mnt/scratch
inode 359 offset 704512 root 258
inode 359 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 282533888 /mnt/scratch
inode 359 offset 757760 root 258
inode 359 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 271597568 /mnt/scratch
inode 359 offset 770048 root 258
inode 359 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 260636672 /mnt/scratch
inode 359 offset 815104 root 258
inode 359 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 258928640 /mnt/scratch
inode 359 offset 827392 root 258
inode 359 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 259067904 /mnt/scratch
inode 359 offset 966656 root 258
inode 359 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 259162112 /mnt/scratch
inode 359 offset 1060864 root 258
inode 359 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 270475264 /mnt/scratch
inode 359 offset 1069056 root 258
inode 359 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 259203072 /mnt/scratch
inode 359 offset 1101824 root 258
inode 359 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 259264512 /mnt/scratch
inode 359 offset 1163264 root 258
inode 359 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 274792448 /mnt/scratch
inode 359 offset 1200128 root 258
inode 359 offset 1200128 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 259305472 /mnt/scratch
inode 359 offset 1204224 root 258
inode 359 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 280760320 /mnt/scratch
inode 359 offset 1404928 root 258
inode 359 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 254631936 /mnt/scratch
inode 348 offset 1372160 root 258
inode 359 offset 1515520 root 258
inode 359 offset 1515520 root 5
inode 348 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 254705664 /mnt/scratch
inode 348 offset 1445888 root 258
inode 359 offset 1589248 root 258
inode 359 offset 1589248 root 5
inode 348 offset 1445888 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 253739008 /mnt/scratch
inode 348 offset 1449984 root 258
inode 348 offset 1449984 root 5
inode 359 offset 1593344 root 258
inode 359 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 298881024 /mnt/scratch
inode 359 offset 1667072 root 258
inode 359 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 249556992 /mnt/scratch
inode 272 offset 364544 root 258
inode 272 offset 364544 root 5
inode 359 offset 1990656 root 258
inode 359 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 302432256 /mnt/scratch
inode 359 offset 2285568 root 258
inode 359 offset 2285568 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 298946560 /mnt/scratch
inode 359 offset 2449408 root 258
inode 359 offset 2449408 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 289947648 /mnt/scratch
inode 514 offset 86016 root 5
inode 479 offset 102400 root 5
inode 483 offset 999424 root 5
inode 479 offset 102400 root 5
inode 483 offset 733184 root 5
inode 483 offset 999424 root 5
inode 361 offset 876544 root 258
inode 359 offset 2617344 root 258
inode 361 offset 876544 root 5
inode 359 offset 2617344 root 5
inode 363 offset 253952 root 5
inode 363 offset 630784 root 5
inode 363 offset 630784 root 5
inode 365 offset 1441792 root 5
inode 492 offset 364544 root 5
inode 492 offset 806912 root 5
inode 492 offset 806912 root 5
inode 350 offset 901120 root 5
inode 339 offset 360448 root 5
inode 391 offset 593920 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 388 offset 114688 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 391 offset 94208 root 5
inode 391 offset 593920 root 5
inode 266 offset 512000 root 258
inode 263 offset 1298432 root 258
inode 263 offset 720896 root 258
inode 263 offset 1298432 root 258
inode 266 offset 512000 root 5
inode 263 offset 1298432 root 5
inode 263 offset 720896 root 5
inode 263 offset 1298432 root 5
inode 278 offset 6135808 root 5
inode 278 offset 5414912 root 5
inode 278 offset 6135808 root 5
inode 404 offset 512000 root 5
inode 399 offset 634880 root 5
inode 408 offset 241664 root 5
inode 383 offset 2895872 root 5
inode 386 offset 778240 root 5
inode 475 offset 118784 root 5
inode 301 offset 352256 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 301 offset 352256 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 309 offset 512000 root 258
inode 309 offset 512000 root 5
inode 356 offset 2564096 root 5
inode 356 offset 2981888 root 5
inode 356 offset 2981888 root 5
inode 288 offset 135168 root 5
inode 269 offset 1921024 root 5
inode 336 offset 544768 root 5
inode 371 offset 356352 root 5
inode 378 offset 716800 root 5
inode 496 offset 483328 root 5
inode 496 offset 483328 root 5
inode 435 offset 1167360 root 5
inode 310 offset 1957888 root 5
inode 439 offset 139264 root 5
inode 421 offset 450560 root 5
inode 356 offset 2564096 root 258
inode 356 offset 2981888 root 258
inode 356 offset 2981888 root 258
inode 408 offset 241664 root 258
inode 399 offset 634880 root 258
inode 404 offset 512000 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 301 offset 352256 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 301 offset 352256 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 288 offset 135168 root 258
inode 479 offset 102400 root 258
inode 479 offset 102400 root 258
inode 483 offset 733184 root 258
inode 483 offset 999424 root 258
inode 483 offset 999424 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 391 offset 593920 root 258
inode 388 offset 114688 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 391 offset 94208 root 258
inode 391 offset 593920 root 258
inode 278 offset 5414912 root 258
inode 278 offset 6135808 root 258
inode 278 offset 6135808 root 258
inode 475 offset 118784 root 258
inode 492 offset 806912 root 258
inode 492 offset 364544 root 258
inode 492 offset 806912 root 258
inode 365 offset 1441792 root 258
inode 363 offset 630784 root 258
inode 363 offset 253952 root 258
inode 363 offset 630784 root 258
inode 269 offset 1921024 root 258
inode 336 offset 544768 root 258
inode 386 offset 778240 root 258
inode 383 offset 2895872 root 258
inode 371 offset 356352 root 258
inode 378 offset 716800 root 258
inode 496 offset 483328 root 258
inode 496 offset 483328 root 258
inode 339 offset 360448 root 258
inode 350 offset 901120 root 258
inode 435 offset 1167360 root 258
inode 310 offset 1957888 root 258
inode 439 offset 139264 root 258
inode 421 offset 450560 root 258
inode 514 offset 86016 root 258
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 296108032 /mnt/scratch
inode 359 offset 2838528 root 258
inode 359 offset 2838528 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
359
# /bin/btrfs inspect-internal logical-resolve -P 294932480 /mnt/scratch
inode 359 offset 3846144 root 258
inode 359 offset 3846144 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/f123 is 757760 (185 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      184..     184:      67926..     67926:      1:        184: last,shared,eof
/mnt/scratch/snap1/p0/df/f123: 1 extent found
after filter: 278224896#4096#753664#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/f123
487
# /bin/btrfs inspect-internal logical-resolve -P 278224896 /mnt/scratch
inode 487 offset 753664 root 258
inode 487 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f123
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0 is 2317708 (566 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       63..      93:      68786..     68816:     31:         63: shared
   1:       94..      96:      63226..     63228:      3:      68817: unwritten,shared
   2:      200..     220:      70920..     70940:     21:      63332: shared
   3:      290..     295:      68040..     68045:      6:      71010: shared
   4:      296..     296:      72742..     72742:      1:      68046: shared
   5:      442..     444:      72743..     72745:      3:             shared
   6:      445..     445:      74135..     74135:      1:      72746: shared
   7:      558..     565:      74136..     74143:      8:             last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0: 6 extents found
after filter: 281747456#126976#258048#shared 258973696#12288#385024#unwritten,shared 290488320#86016#819200#shared 278691840#24576#1187840#shared 297951232#4096#1212416#shared 297955328#12288#1810432#shared 303656960#4096#1822720#shared 303661056#32768#2285568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 281747456 /mnt/scratch
inode 414 offset 258048 root 258
inode 414 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 258973696 /mnt/scratch
inode 278 offset 3674112 root 258
inode 414 offset 385024 root 258
inode 278 offset 3674112 root 5
inode 414 offset 385024 root 5
inode 359 offset 872448 root 258
inode 359 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 290488320 /mnt/scratch
inode 414 offset 819200 root 258
inode 414 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 278691840 /mnt/scratch
inode 414 offset 1187840 root 258
inode 414 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 297951232 /mnt/scratch
inode 414 offset 1212416 root 258
inode 414 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 297955328 /mnt/scratch
inode 414 offset 1810432 root 258
inode 414 offset 1810432 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 303656960 /mnt/scratch
inode 414 offset 1822720 root 258
inode 414 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
414
# /bin/btrfs inspect-internal logical-resolve -P 303661056 /mnt/scratch
inode 414 offset 2285568 root 258
inode 414 offset 2285568 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fc0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2 is 1761280 (430 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      244..     257:      71417..     71430:     14:        244: shared
   1:      389..     404:      68817..     68832:     16:      71562: shared
   2:      405..     429:      71882..     71906:     25:      68833: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2: 3 extents found
after filter: 292524032#57344#999424#shared 281874432#65536#1593344#shared 294428672#102400#1658880#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
437
# /bin/btrfs inspect-internal logical-resolve -P 292524032 /mnt/scratch
inode 437 offset 999424 root 258
inode 437 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
437
# /bin/btrfs inspect-internal logical-resolve -P 281874432 /mnt/scratch
inode 437 offset 1593344 root 258
inode 437 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
437
# /bin/btrfs inspect-internal logical-resolve -P 294428672 /mnt/scratch
inode 437 offset 1658880 root 258
inode 437 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/fe2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/f29
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/f29 is 1527808 (373 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      11:      65419..     65421:      3:          9: shared
   1:       15..      34:      70770..     70789:     20:      65425: unwritten,shared
   2:       35..      35:       5286..      5286:      1:      70790: shared
   3:       57..      68:      70542..     70553:     12:       5308: shared
   4:      112..     140:      61205..     61233:     29:      70597: shared
   5:      192..     206:      60730..     60744:     15:      61285: shared
   6:      214..     215:      65422..     65423:      2:      60752: shared
   7:      220..     220:      65970..     65970:      1:      65428: shared
   8:      304..     320:      65971..     65987:     17:             shared
   9:      321..     321:      74470..     74470:      1:      65988: shared
  10:      363..     372:      68231..     68240:     10:      74512: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d1e/f29: 10 extents found
after filter: 267956224#12288#36864#shared 289873920#81920#61440#unwritten,shared 21651456#4096#143360#shared 288940032#49152#233472#shared 250695680#118784#458752#shared 248750080#61440#786432#shared 267968512#8192#876544#shared 270213120#4096#901120#shared 270217216#69632#1245184#shared 305029120#4096#1314816#shared 279474176#40960#1486848#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 267956224 /mnt/scratch
inode 288 offset 36864 root 258
inode 288 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 21651456 /mnt/scratch
inode 288 offset 143360 root 258
inode 288 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 288940032 /mnt/scratch
inode 288 offset 233472 root 258
inode 288 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 250695680 /mnt/scratch
inode 288 offset 458752 root 258
inode 288 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 248750080 /mnt/scratch
inode 288 offset 786432 root 258
inode 288 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 267968512 /mnt/scratch
inode 288 offset 876544 root 258
inode 288 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 270213120 /mnt/scratch
inode 288 offset 901120 root 258
inode 288 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 270217216 /mnt/scratch
inode 288 offset 1245184 root 258
inode 288 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 305029120 /mnt/scratch
inode 288 offset 1314816 root 258
inode 288 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f29
288
# /bin/btrfs inspect-internal logical-resolve -P 279474176 /mnt/scratch
inode 363 offset 733184 root 258
inode 288 offset 1486848 root 258
inode 363 offset 733184 root 5
inode 288 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 288 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f29
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c is 3778308 (923 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       70..      74:       3384..      3388:      5:         70: shared
   1:       75..      77:       3484..      3486:      3:       3389: shared
   2:       78..      89:       3472..      3483:     12:       3487: shared
   3:       90..      91:       3404..      3405:      2:       3484: shared
   4:       92..      92:       3541..      3541:      1:       3406: shared
   5:      158..     177:      70770..     70789:     20:       3607: unwritten,shared
   6:      179..     190:      67124..     67135:     12:      70791: shared
   7:      191..     194:      60620..     60623:      4:      67136: shared
   8:      299..     318:      70770..     70789:     20:      60728: unwritten,shared
   9:      331..     335:      61188..     61192:      5:      70802: shared
  10:      378..     408:       4656..      4686:     31:      61235: shared
  11:      409..     434:       4038..      4063:     26:       4687: shared
  12:      435..     437:       5134..      5136:      3:       4064: shared
  13:      438..     463:      60674..     60699:     26:       5137: shared
  14:      512..     542:      70555..     70585:     31:      60748: shared
  15:      571..     580:       4064..      4073:     10:      70614: shared
  16:      617..     617:       4215..      4215:      1:       4110: unwritten,shared
  17:      618..     647:      63740..     63769:     30:       4216: shared
  18:      648..     648:      65662..     65662:      1:      63770: shared
  19:      755..     766:      65480..     65491:     12:      65769: unwritten,shared
  20:      770..     817:      65495..     65542:     48:             unwritten,shared
  21:      828..     831:      65553..     65556:      4:             unwritten,shared
  22:      832..     832:      65557..     65557:      1:             shared
  23:      909..     922:      67733..     67746:     14:      65634: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c: 21 extents found
after filter: 13860864#20480#286720#shared 14270464#12288#307200#shared 14221312#49152#319488#shared 13942784#8192#368640#shared 14503936#4096#376832#shared 289873920#81920#647168#unwritten,shared 274939904#49152#733184#shared 248299520#16384#782336#shared 289873920#81920#1224704#unwritten,shared 250626048#20480#1355776#shared 19070976#126976#1548288#shared 16539648#106496#1675264#shared 21028864#12288#1781760#shared 248520704#106496#1794048#shared 288993280#126976#2097152#shared 16646144#40960#2338816#shared 17264640#4096#2527232#unwritten,shared 261079040#122880#2531328#shared 268951552#4096#2654208#shared 268206080#49152#3092480#unwritten,shared 268267520#196608#3153920#unwritten,shared 268505088#16384#3391488#unwritten,shared 268521472#4096#3407872#shared 277434368#57344#3723264#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 13860864 /mnt/scratch
inode 263 offset 286720 root 258
inode 263 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 14270464 /mnt/scratch
inode 263 offset 307200 root 258
inode 263 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 14221312 /mnt/scratch
inode 263 offset 319488 root 258
inode 263 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 13942784 /mnt/scratch
inode 263 offset 368640 root 258
inode 263 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 14503936 /mnt/scratch
inode 263 offset 376832 root 258
inode 263 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 274939904 /mnt/scratch
inode 336 offset 589824 root 258
inode 336 offset 589824 root 5
inode 263 offset 733184 root 258
inode 263 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 248299520 /mnt/scratch
inode 336 offset 638976 root 258
inode 263 offset 782336 root 258
inode 263 offset 782336 root 5
inode 336 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 250626048 /mnt/scratch
inode 263 offset 1355776 root 258
inode 263 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 19070976 /mnt/scratch
inode 263 offset 1548288 root 258
inode 263 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 16539648 /mnt/scratch
inode 263 offset 1675264 root 258
inode 263 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 21028864 /mnt/scratch
inode 263 offset 1781760 root 258
inode 263 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 248520704 /mnt/scratch
inode 263 offset 1794048 root 258
inode 263 offset 1794048 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 288993280 /mnt/scratch
inode 263 offset 2097152 root 258
inode 263 offset 2097152 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 16646144 /mnt/scratch
inode 263 offset 2338816 root 258
inode 263 offset 2338816 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 17264640 /mnt/scratch
inode 263 offset 2527232 root 258
inode 263 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 261079040 /mnt/scratch
inode 263 offset 2531328 root 258
inode 263 offset 2531328 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 268951552 /mnt/scratch
inode 263 offset 2654208 root 258
inode 263 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 268206080 /mnt/scratch
background rm
inode 263 offset 3092480 root 258
inode 263 offset 3092480 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
seed = 1517594630
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 268267520 /mnt/scratch
inode 263 offset 3153920 root 258
inode 263 offset 3153920 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 268505088 /mnt/scratch
inode 263 offset 3391488 root 258
inode 263 offset 3391488 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 268521472 /mnt/scratch
inode 263 offset 3407872 root 258
inode 263 offset 3407872 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
263
# /bin/btrfs inspect-internal logical-resolve -P 277434368 /mnt/scratch
inode 263 offset 3723264 root 258
inode 263 offset 3723264 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f2c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f166
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f166 is 978348 (239 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      47:      65558..     65579:     22:         26: shared
   1:       86..     113:      67156..     67183:     28:      65618: shared
   2:      117..     128:      65351..     65362:     12:      67187: shared
   3:      129..     137:      70909..     70917:      9:      65363: shared
   4:      138..     147:      65372..     65381:     10:      70918: shared
   5:      157..     176:      70770..     70789:     20:      65391: unwritten,shared
   6:      210..     235:      73732..     73757:     26:      70823: shared
   7:      236..     237:      63544..     63545:      2:      73758: shared
   8:      238..     238:      64628..     64628:      1:      63546: shared,eof
   9:      491..     663:      64278..     64450:    173:      64881: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/f166: 10 extents found
after filter: 268525568#90112#106496#shared 275070976#114688#352256#shared 267677696#49152#479232#shared 290443264#36864#528384#shared 267763712#40960#565248#shared 289873920#81920#643072#unwritten,shared 302006272#106496#860160#shared 260276224#8192#966656#shared 264716288#4096#974848#shared,eof 263282688#708608#2011136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 268525568 /mnt/scratch
inode 378 offset 106496 root 258
inode 378 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 275070976 /mnt/scratch
inode 378 offset 352256 root 258
inode 378 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 267677696 /mnt/scratch
inode 378 offset 479232 root 258
inode 378 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 290443264 /mnt/scratch
inode 378 offset 528384 root 258
inode 378 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 267763712 /mnt/scratch
inode 378 offset 565248 root 258
inode 378 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 302006272 /mnt/scratch
inode 378 offset 860160 root 258
inode 378 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 260276224 /mnt/scratch
inode 378 offset 966656 root 258
inode 378 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 264716288 /mnt/scratch
inode 378 offset 974848 root 258
inode 378 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f166
378
# /bin/btrfs inspect-internal logical-resolve -P 263282688 /mnt/scratch
inode 378 offset 2011136 root 258
inode 378 offset 2011136 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# /sbin/filefrag -v /mnt/scratch/snap1/p0/fa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/fa is 3386465 (827 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       65..      80:      65596..     65611:     16:         65: unwritten,shared
   1:      106..     106:      65637..     65637:      1:             unwritten,shared
   2:      107..     126:      70770..     70789:     20:      65638: unwritten,shared
   3:      127..     130:      65658..     65661:      4:      70790: unwritten,shared
   4:      131..     146:      64510..     64525:     16:      65662: shared
   5:      240..     257:       3566..      3583:     18:      64619: shared
   6:      330..     336:      69023..     69029:      7:       3656: shared
   7:      511..     523:      61159..     61171:     13:      69204: shared
   8:      544..     574:      62333..     62363:     31:      61192: shared
   9:      579..     579:      70438..     70438:      1:      62368: shared
  10:      622..     640:      69436..     69454:     19:      70481: shared
  11:      795..     795:      72728..     72728:      1:      69609: shared
  12:      814..     825:      72729..     72740:     12:             shared
  13:      826..     826:      73758..     73758:      1:      72741: shared,eof
  14:     1077..    1280:      73268..     73471:    204:      74009: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/fa: 13 extents found
after filter: 268681216#65536#266240#unwritten,shared 268849152#4096#434176#unwritten,shared 289873920#81920#438272#unwritten,shared 268935168#16384#520192#unwritten,shared 264232960#65536#536576#shared 14606336#73728#983040#shared 282718208#28672#1351680#shared 250507264#53248#2093056#shared 255315968#126976#2228224#shared 288514048#4096#2371584#shared 284409856#77824#2547712#shared 297893888#4096#3256320#shared 297897984#49152#3334144#shared 302112768#4096#3383296#shared,eof 300105728#835584#4411392#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 268681216 /mnt/scratch
inode 261 offset 2129920 root 258
inode 261 offset 2129920 root 5
inode 266 offset 266240 root 258
inode 266 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 268849152 /mnt/scratch
inode 266 offset 434176 root 258
inode 266 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 268935168 /mnt/scratch
inode 266 offset 520192 root 258
inode 266 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 264232960 /mnt/scratch
inode 266 offset 536576 root 258
inode 266 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 14606336 /mnt/scratch
inode 266 offset 983040 root 258
inode 266 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 282718208 /mnt/scratch
inode 266 offset 1351680 root 258
inode 266 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 250507264 /mnt/scratch
inode 266 offset 2093056 root 258
inode 266 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 255315968 /mnt/scratch
inode 266 offset 2228224 root 258
inode 266 offset 2228224 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 288514048 /mnt/scratch
inode 266 offset 2371584 root 258
inode 266 offset 2371584 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 284409856 /mnt/scratch
inode 266 offset 2547712 root 258
inode 266 offset 2547712 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 297893888 /mnt/scratch
inode 266 offset 3256320 root 258
inode 266 offset 3256320 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 297897984 /mnt/scratch
inode 266 offset 3334144 root 258
inode 266 offset 3334144 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 302112768 /mnt/scratch
inode 266 offset 3383296 root 258
inode 266 offset 3383296 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# stat -c %i /mnt/scratch/snap1/p0/fa
266
# /bin/btrfs inspect-internal logical-resolve -P 300105728 /mnt/scratch
inode 266 offset 4411392 root 258
inode 266 offset 4411392 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd is 2193181 (536 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       92..     111:      70770..     70789:     20:         92: unwritten,shared
   1:      235..     262:      67269..     67296:     28:      70913: unwritten,shared
   2:      266..     289:      67300..     67323:     24:             unwritten,shared
   3:      302..     317:      67336..     67351:     16:             unwritten,shared
   4:      318..     333:      66044..     66059:     16:      67352: shared
   5:      334..     334:      71329..     71329:      1:      66060: shared
   6:      335..     396:      67352..     67413:     62:      71330: unwritten,shared
   7:      423..     443:      67440..     67460:     21:             unwritten,shared
   8:      515..     535:      71330..     71350:     21:      67532: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd: 6 extents found
after filter: 289873920#81920#376832#unwritten,shared 275533824#114688#962560#unwritten,shared 275660800#98304#1089536#unwritten,shared 275808256#65536#1236992#unwritten,shared 270516224#65536#1302528#shared 292163584#4096#1368064#shared 275873792#253952#1372160#unwritten,shared 276234240#86016#1732608#unwritten,shared 292167680#86016#2109440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 275533824 /mnt/scratch
inode 421 offset 962560 root 258
inode 421 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 275660800 /mnt/scratch
inode 421 offset 1089536 root 258
inode 421 offset 1089536 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517970975
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 275808256 /mnt/scratch
inode 421 offset 1236992 root 258
inode 421 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 270516224 /mnt/scratch
inode 421 offset 1302528 root 258
inode 421 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 292163584 /mnt/scratch
inode 421 offset 1368064 root 258
inode 421 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 275873792 /mnt/scratch
inode 421 offset 1372160 root 258
inode 421 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 276234240 /mnt/scratch
inode 421 offset 1732608 root 258
inode 421 offset 1732608 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
421
# /bin/btrfs inspect-internal logical-resolve -P 292167680 /mnt/scratch
inode 421 offset 2109440 root 258
inode 421 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 421 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fcd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f16
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f16 is 2818048 (688 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       7:       5242..      5249:      8:             shared
   1:      124..     152:      69999..     70027:     29:       5366: shared
   2:      192..     218:      73561..     73587:     27:      70067: shared
   3:      219..     230:      72909..     72920:     12:      73588: shared
   4:      233..     264:      71377..     71408:     32:      72923: shared
   5:      316..     316:      71409..     71409:      1:             shared
   6:      451..     470:      70770..     70789:     20:      71544: unwritten,shared
   7:      554..     559:      71410..     71415:      6:      70873: shared
   8:      560..     560:      73850..     73850:      1:      71416: shared
   9:      676..     687:      73798..     73809:     12:      73966: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/f16: 9 extents found
after filter: 21471232#32768#0#shared 286715904#118784#507904#shared 301305856#110592#786432#shared 298635264#49152#897024#shared 292360192#131072#954368#shared 292491264#4096#1294336#shared 289873920#81920#1847296#unwritten,shared 292495360#24576#2269184#shared 302489600#4096#2293760#shared 302276608#49152#2768896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 21471232 /mnt/scratch
inode 269 offset 0 root 258
inode 269 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 286715904 /mnt/scratch
inode 269 offset 507904 root 258
inode 269 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 301305856 /mnt/scratch
inode 269 offset 786432 root 258
inode 269 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 298635264 /mnt/scratch
inode 269 offset 897024 root 258
inode 269 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 292360192 /mnt/scratch
inode 269 offset 954368 root 258
inode 269 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 292491264 /mnt/scratch
inode 269 offset 1294336 root 258
inode 269 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 292495360 /mnt/scratch
inode 269 offset 2269184 root 258
inode 269 offset 2269184 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 302489600 /mnt/scratch
inode 269 offset 2293760 root 258
inode 269 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f16
269
# /bin/btrfs inspect-internal logical-resolve -P 302276608 /mnt/scratch
inode 269 offset 2768896 root 258
inode 269 offset 2768896 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/f66
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/f66 is 2486272 (607 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       5:      60078..     60082:      5:          1: shared
   1:       17..      45:      67814..     67842:     29:      60094: shared
   2:       46..      49:       4993..      4996:      4:      67843: unwritten,shared
   3:       64..      89:      60116..     60141:     26:       5011: shared
   4:      133..     138:       5057..      5062:      6:      60185: unwritten,shared
   5:      139..     139:      70554..     70554:      1:       5063: shared
   6:      273..     273:      72238..     72238:      1:      70688: shared
   7:      300..     307:      70772..     70779:      8:      72265: unwritten,shared
   8:      366..     451:      67532..     67617:     86:      70838: unwritten,shared
   9:      590..     606:      72193..     72209:     17:      67756: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/f66: 10 extents found
after filter: 246079488#20480#4096#shared 277766144#118784#69632#shared 20451328#16384#188416#unwritten,shared 246235136#106496#262144#shared 20713472#24576#544768#unwritten,shared 288989184#4096#569344#shared 295886848#4096#1118208#shared 289882112#32768#1228800#unwritten,shared 276611072#352256#1499136#unwritten,shared 295702528#69632#2416640#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 246079488 /mnt/scratch
inode 290 offset 4096 root 258
inode 290 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 277766144 /mnt/scratch
inode 290 offset 69632 root 258
inode 290 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 20451328 /mnt/scratch
inode 290 offset 188416 root 258
inode 290 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 246235136 /mnt/scratch
inode 290 offset 262144 root 258
inode 290 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 20713472 /mnt/scratch
inode 290 offset 544768 root 258
inode 290 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 288989184 /mnt/scratch
inode 290 offset 569344 root 258
inode 290 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 295886848 /mnt/scratch
inode 290 offset 1118208 root 258
inode 290 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 289882112 /mnt/scratch
inode 514 offset 20480 root 5
inode 479 offset 20480 root 5
inode 479 offset 204800 root 5
inode 479 offset 204800 root 5
inode 483 offset 667648 root 5
inode 363 offset 188416 root 5
inode 363 offset 565248 root 5
inode 363 offset 565248 root 5
inode 365 offset 1376256 root 5
inode 492 offset 741376 root 5
inode 492 offset 741376 root 5
inode 431 offset 495616 root 5
inode 435 offset 1101824 root 5
inode 350 offset 835584 root 5
inode 339 offset 294912 root 5
inode 391 offset 528384 root 5
inode 388 offset 299008 root 5
inode 388 offset 299008 root 5
inode 388 offset 49152 root 5
inode 388 offset 299008 root 5
inode 391 offset 28672 root 5
inode 391 offset 528384 root 5
inode 459 offset 114688 root 5
inode 453 offset 8192 root 5
inode 266 offset 446464 root 258
inode 263 offset 1232896 root 258
inode 263 offset 655360 root 258
inode 263 offset 1232896 root 258
inode 266 offset 446464 root 5
inode 263 offset 1232896 root 5
inode 263 offset 655360 root 5
inode 263 offset 1232896 root 5
inode 278 offset 6070272 root 5
inode 278 offset 5349376 root 5
inode 278 offset 6070272 root 5
inode 404 offset 446464 root 5
inode 399 offset 569344 root 5
inode 383 offset 2830336 root 5
inode 386 offset 712704 root 5
inode 475 offset 53248 root 5
inode 301 offset 286720 root 5
inode 301 offset 454656 root 5
inode 301 offset 544768 root 5
inode 301 offset 454656 root 5
inode 301 offset 544768 root 5
inode 301 offset 286720 root 5
inode 301 offset 454656 root 5
inode 301 offset 544768 root 5
inode 309 offset 446464 root 258
inode 309 offset 446464 root 5
inode 356 offset 2498560 root 5
inode 288 offset 69632 root 5
inode 290 offset 1228800 root 5
inode 269 offset 1855488 root 5
inode 336 offset 479232 root 5
inode 371 offset 290816 root 5
inode 378 offset 651264 root 5
inode 496 offset 372736 root 5
inode 496 offset 372736 root 5
inode 310 offset 1892352 root 5
inode 421 offset 385024 root 5
inode 356 offset 2498560 root 258
inode 301 offset 454656 root 258
inode 301 offset 544768 root 258
inode 301 offset 286720 root 258
inode 301 offset 454656 root 258
inode 301 offset 544768 root 258
inode 301 offset 286720 root 258
inode 301 offset 454656 root 258
inode 301 offset 544768 root 258
inode 288 offset 69632 root 258
inode 290 offset 1228800 root 258
inode 479 offset 20480 root 258
inode 479 offset 204800 root 258
inode 479 offset 204800 root 258
inode 483 offset 667648 root 258
inode 388 offset 299008 root 258
inode 388 offset 299008 root 258
inode 391 offset 528384 root 258
inode 388 offset 49152 root 258
inode 388 offset 299008 root 258
inode 391 offset 28672 root 258
inode 391 offset 528384 root 258
inode 278 offset 5349376 root 258
inode 278 offset 6070272 root 258
inode 278 offset 6070272 root 258
inode 475 offset 53248 root 258
inode 492 offset 741376 root 258
inode 492 offset 741376 root 258
inode 399 offset 569344 root 258
inode 404 offset 446464 root 258
inode 365 offset 1376256 root 258
inode 363 offset 565248 root 258
inode 363 offset 188416 root 258
inode 363 offset 565248 root 258
inode 269 offset 1855488 root 258
inode 336 offset 479232 root 258
inode 386 offset 712704 root 258
inode 383 offset 2830336 root 258
inode 371 offset 290816 root 258
inode 378 offset 651264 root 258
inode 496 offset 372736 root 258
inode 496 offset 372736 root 258
inode 339 offset 294912 root 258
inode 350 offset 835584 root 258
inode 459 offset 114688 root 258
inode 453 offset 8192 root 258
inode 435 offset 1101824 root 258
inode 431 offset 495616 root 258
inode 310 offset 1892352 root 258
inode 421 offset 385024 root 258
inode 514 offset 20480 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 276611072 /mnt/scratch
inode 290 offset 1499136 root 258
inode 290 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f66
290
# /bin/btrfs inspect-internal logical-resolve -P 295702528 /mnt/scratch
inode 290 offset 2416640 root 258
inode 290 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f66
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e is 2449408 (598 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      22:      58841..     58841:      1:         22: shared
   1:       46..      51:       4192..      4197:      6:      58865: unwritten,shared
   2:       68..      87:      70770..     70789:     20:       4214: unwritten,shared
   3:       88..     106:      70727..     70745:     19:      70790: unwritten,shared
   4:      109..     128:      70770..     70789:     20:      70748: unwritten,shared
   5:      129..     156:      70768..     70795:     28:      70790: unwritten,shared
   6:      157..     157:      60950..     60950:      1:      70796: shared
   7:      158..     170:      70796..     70808:     13:      60951: unwritten,shared
   8:      171..     177:      63385..     63391:      7:      70809: shared
   9:      178..     203:      70809..     70834:     26:      63392: unwritten,shared
  10:      204..     224:      60951..     60971:     21:      70835: shared
  11:      225..     225:      67123..     67123:      1:      60972: shared
  12:      226..     277:      70835..     70886:     52:      67124: unwritten,shared
  13:      279..     285:      61613..     61619:      7:      70888: last,shared
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e: 14 extents found
after filter: 241012736#4096#90112#shared 17170432#24576#188416#unwritten,shared 289873920#81920#278528#unwritten,shared 289697792#77824#360448#unwritten,shared 289873920#81920#446464#unwritten,shared 289865728#114688#528384#unwritten,shared 249651200#4096#643072#shared 289980416#53248#647168#unwritten,shared 259624960#28672#700416#shared 290033664#106496#729088#unwritten,shared 249655296#86016#835584#shared 274935808#4096#921600#shared 290140160#212992#925696#unwritten,shared 252366848#28672#1142784#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 241012736 /mnt/scratch
inode 301 offset 90112 root 258
inode 301 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 258
inode 286 offset 704512 root 258
inode 286 offset 3321856 root 258
inode 286 offset 3321856 root 258
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 286 offset 405504 root 5
inode 286 offset 704512 root 5
inode 286 offset 3321856 root 5
inode 286 offset 3321856 root 5
inode 301 offset 188416 root 5
inode 301 offset 188416 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517371748
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 289697792 /mnt/scratch
inode 301 offset 360448 root 5
inode 301 offset 360448 root 5
inode 301 offset 360448 root 5
inode 301 offset 360448 root 258
inode 301 offset 360448 root 258
inode 301 offset 360448 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 289865728 /mnt/scratch
inode 301 offset 528384 root 5
inode 301 offset 528384 root 5
inode 301 offset 528384 root 5
inode 301 offset 528384 root 258
inode 301 offset 528384 root 258
inode 301 offset 528384 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 249651200 /mnt/scratch
inode 301 offset 643072 root 258
inode 301 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 289980416 /mnt/scratch
inode 301 offset 647168 root 258
inode 301 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 259624960 /mnt/scratch
inode 301 offset 700416 root 258
inode 301 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 290033664 /mnt/scratch
inode 301 offset 729088 root 258
inode 301 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 249655296 /mnt/scratch
inode 301 offset 835584 root 258
inode 301 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 274935808 /mnt/scratch
inode 301 offset 921600 root 258
inode 301 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 290140160 /mnt/scratch
inode 301 offset 925696 root 258
inode 301 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
301
# /bin/btrfs inspect-internal logical-resolve -P 252366848 /mnt/scratch
inode 301 offset 1142784 root 258
inode 278 offset 1691648 root 258
inode 301 offset 1142784 root 5
inode 278 offset 1691648 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d18d/f18e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/fdd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/fdd is 983688 (241 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       67..      69:      67991..     67993:      3:         67: shared
   1:       70..      95:      67927..     67952:     26:      67994: shared
   2:      107..     116:      67843..     67852:     10:      67964: shared
   3:      233..     240:      70619..     70626:      8:      67969: last,shared,eof
/mnt/scratch/snap1/p0/df/fdd: 4 extents found
after filter: 278491136#12288#274432#shared 278228992#106496#286720#shared 277884928#40960#438272#shared 289255424#32768#954368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/fdd
432
# /bin/btrfs inspect-internal logical-resolve -P 278491136 /mnt/scratch
inode 432 offset 274432 root 258
inode 432 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/fdd
# stat -c %i /mnt/scratch/snap1/p0/df/fdd
432
# /bin/btrfs inspect-internal logical-resolve -P 278228992 /mnt/scratch
inode 432 offset 286720 root 258
inode 432 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/fdd
# stat -c %i /mnt/scratch/snap1/p0/df/fdd
432
# /bin/btrfs inspect-internal logical-resolve -P 277884928 /mnt/scratch
inode 432 offset 438272 root 258
inode 432 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/fdd
# stat -c %i /mnt/scratch/snap1/p0/df/fdd
432
# /bin/btrfs inspect-internal logical-resolve -P 289255424 /mnt/scratch
inode 432 offset 954368 root 258
inode 432 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/fdd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/df1/ffd is 203738 (50 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       5:      70770..     70775:      6:             unwritten,shared
   1:       24..      35:      67962..     67973:     12:      70794: shared
   2:       36..      49:      73671..     73684:     14:      67974: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/df1/ffd: 3 extents found
after filter: 289873920#24576#0#unwritten,shared 278372352#49152#98304#shared 301756416#57344#147456#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
453
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
453
# /bin/btrfs inspect-internal logical-resolve -P 278372352 /mnt/scratch
inode 453 offset 98304 root 258
inode 453 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
453
# /bin/btrfs inspect-internal logical-resolve -P 301756416 /mnt/scratch
inode 453 offset 147456 root 258
inode 453 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/df1/ffd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f is 1211502 (296 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      161..     180:      70770..     70789:     20:        161: unwritten,shared
   1:      181..     195:      68851..     68865:     15:      70790: unwritten,shared
   2:      231..     245:      70775..     70789:     15:      68901: unwritten,shared
   3:      246..     278:      68916..     68948:     33:      70790: unwritten,shared
   4:      279..     279:      68949..     68949:      1:             shared
   5:      283..     295:      73588..     73600:     13:      68953: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f: 5 extents found
after filter: 289873920#81920#659456#unwritten,shared 282013696#61440#741376#unwritten,shared 289894400#61440#946176#unwritten,shared 282279936#135168#1007616#unwritten,shared 282415104#4096#1142784#shared 301416448#53248#1159168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 282013696 /mnt/scratch
inode 483 offset 741376 root 258
inode 483 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 289894400 /mnt/scratch
inode 514 offset 32768 root 5
inode 479 offset 217088 root 5
inode 483 offset 946176 root 5
inode 479 offset 217088 root 5
inode 483 offset 679936 root 5
inode 483 offset 946176 root 5
inode 363 offset 200704 root 5
inode 363 offset 577536 root 5
inode 363 offset 577536 root 5
inode 365 offset 1388544 root 5
inode 492 offset 753664 root 5
inode 492 offset 753664 root 5
inode 431 offset 507904 root 5
inode 435 offset 1114112 root 5
inode 350 offset 847872 root 5
inode 339 offset 307200 root 5
inode 391 offset 540672 root 5
inode 388 offset 311296 root 5
inode 388 offset 311296 root 5
inode 388 offset 61440 root 5
inode 388 offset 311296 root 5
inode 391 offset 40960 root 5
inode 391 offset 540672 root 5
inode 459 offset 126976 root 5
inode 453 offset 20480 root 5
inode 266 offset 458752 root 258
inode 263 offset 1245184 root 258
inode 263 offset 667648 root 258
inode 263 offset 1245184 root 258
inode 266 offset 458752 root 5
inode 263 offset 1245184 root 5
inode 263 offset 667648 root 5
inode 263 offset 1245184 root 5
inode 278 offset 6082560 root 5
inode 278 offset 5361664 root 5
inode 278 offset 6082560 root 5
inode 404 offset 458752 root 5
inode 399 offset 581632 root 5
inode 383 offset 2842624 root 5
inode 386 offset 724992 root 5
inode 475 offset 65536 root 5
inode 301 offset 299008 root 5
inode 301 offset 466944 root 5
inode 301 offset 557056 root 5
inode 301 offset 466944 root 5
inode 301 offset 557056 root 5
inode 301 offset 299008 root 5
inode 301 offset 466944 root 5
inode 301 offset 557056 root 5
inode 309 offset 458752 root 258
inode 309 offset 458752 root 5
inode 356 offset 2510848 root 5
inode 356 offset 2928640 root 5
inode 356 offset 2928640 root 5
inode 288 offset 81920 root 5
inode 290 offset 1241088 root 5
inode 269 offset 1867776 root 5
inode 336 offset 491520 root 5
inode 371 offset 303104 root 5
inode 378 offset 663552 root 5
inode 496 offset 385024 root 5
inode 496 offset 385024 root 5
inode 310 offset 1904640 root 5
inode 421 offset 397312 root 5
inode 356 offset 2510848 root 258
inode 356 offset 2928640 root 258
inode 356 offset 2928640 root 258
inode 301 offset 466944 root 258
inode 301 offset 557056 root 258
inode 301 offset 299008 root 258
inode 301 offset 466944 root 258
inode 301 offset 557056 root 258
inode 301 offset 299008 root 258
inode 301 offset 466944 root 258
inode 301 offset 557056 root 258
inode 288 offset 81920 root 258
inode 290 offset 1241088 root 258
inode 479 offset 217088 root 258
inode 479 offset 217088 root 258
inode 483 offset 679936 root 258
inode 483 offset 946176 root 258
inode 483 offset 946176 root 258
inode 388 offset 311296 root 258
inode 388 offset 311296 root 258
inode 391 offset 540672 root 258
inode 388 offset 61440 root 258
inode 388 offset 311296 root 258
inode 391 offset 40960 root 258
inode 391 offset 540672 root 258
inode 278 offset 5361664 root 258
inode 278 offset 6082560 root 258
inode 278 offset 6082560 root 258
inode 475 offset 65536 root 258
inode 492 offset 753664 root 258
inode 492 offset 753664 root 258
inode 399 offset 581632 root 258
inode 404 offset 458752 root 258
inode 365 offset 1388544 root 258
inode 363 offset 577536 root 258
inode 363 offset 200704 root 258
inode 363 offset 577536 root 258
inode 269 offset 1867776 root 258
inode 336 offset 491520 root 258
inode 386 offset 724992 root 258
inode 383 offset 2842624 root 258
inode 371 offset 303104 root 258
inode 378 offset 663552 root 258
inode 496 offset 385024 root 258
inode 496 offset 385024 root 258
inode 339 offset 307200 root 258
inode 350 offset 847872 root 258
inode 459 offset 126976 root 258
inode 453 offset 20480 root 258
inode 435 offset 1114112 root 258
inode 431 offset 507904 root 258
inode 310 offset 1904640 root 258
inode 421 offset 397312 root 258
inode 514 offset 32768 root 258
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 282279936 /mnt/scratch
inode 483 offset 1007616 root 258
inode 483 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 282415104 /mnt/scratch
inode 483 offset 1142784 root 258
inode 483 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
483
# /bin/btrfs inspect-internal logical-resolve -P 301416448 /mnt/scratch
inode 483 offset 1159168 root 258
inode 483 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/f11f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8 is 799643 (196 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      45:      72259..     72275:     17:         29: shared
   1:       46..      60:      68376..     68390:     15:      72276: shared
   2:       61..      98:      68391..     68428:     38:             unwritten,shared
   3:       99..     103:      66111..     66115:      5:      68429: shared
   4:      104..     108:      68429..     68433:      5:      66116: unwritten,shared
   5:      159..     195:      68484..     68520:     37:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8: 4 extents found
after filter: 295972864#69632#118784#shared 280068096#61440#188416#shared 280129536#155648#249856#unwritten,shared 270790656#20480#405504#shared 280285184#20480#425984#unwritten,shared 280510464#151552#651264#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 295972864 /mnt/scratch
inode 427 offset 118784 root 258
inode 427 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 280068096 /mnt/scratch
inode 427 offset 188416 root 258
inode 427 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517465400
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 280129536 /mnt/scratch
inode 427 offset 249856 root 258
inode 427 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 270790656 /mnt/scratch
inode 427 offset 405504 root 258
inode 427 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 280285184 /mnt/scratch
inode 427 offset 425984 root 258
inode 427 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
427
# /bin/btrfs inspect-internal logical-resolve -P 280510464 /mnt/scratch
inode 427 offset 651264 root 258
inode 427 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/fd8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/d2e/f12a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/d2e/f12a is 722730 (177 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      148..     176:      72699..     72727:     29:        148: last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/d2e/f12a: 1 extent found
after filter: 297775104#118784#606208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f12a
494
# /bin/btrfs inspect-internal logical-resolve -P 297775104 /mnt/scratch
inode 494 offset 606208 root 258
inode 494 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f12a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7 is 1389616 (340 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      24:      70770..     70789:     20:          5: unwritten,shared
   1:      127..     146:      70770..     70789:     20:      70892: unwritten,shared
   2:      295..     299:      70365..     70369:      5:      70938: shared
   3:      304..     315:      72813..     72824:     12:      70374: unwritten,shared
   4:      316..     338:      70370..     70392:     23:      72825: shared
   5:      339..     339:      72812..     72812:      1:      70393: shared,eof
   6:      340..     365:      72825..     72850:     26:      72813: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7: 7 extents found
after filter: 289873920#81920#20480#unwritten,shared 289873920#81920#520192#unwritten,shared 288215040#20480#1208320#shared 298242048#49152#1245184#unwritten,shared 288235520#94208#1294336#shared 298237952#4096#1388544#shared,eof 298291200#106496#1392640#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 288215040 /mnt/scratch
inode 391 offset 1208320 root 258
inode 391 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 298242048 /mnt/scratch
inode 391 offset 1245184 root 258
inode 391 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 288235520 /mnt/scratch
inode 391 offset 1294336 root 258
inode 391 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 298237952 /mnt/scratch
inode 391 offset 1388544 root 258
inode 391 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
391
# /bin/btrfs inspect-internal logical-resolve -P 298291200 /mnt/scratch
inode 391 offset 1392640 root 258
inode 391 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/fa7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/fd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/fd is 3845930 (939 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..      19:       3487..      3500:     14:          6: shared
   1:      137..     137:       3471..      3471:      1:       3618: shared
   2:      231..     242:      74201..     74212:     12:       3565: shared
   3:      427..     435:      71996..     72004:      9:      74397: shared
   4:      436..     462:      61672..     61698:     27:      72005: unwritten,shared
   5:      463..     469:      61649..     61655:      7:      61699: shared
   6:      470..     511:      61699..     61740:     42:      61656: unwritten,shared
   7:      520..     537:      65596..     65613:     18:      61749: unwritten,shared
   8:      538..     564:      61755..     61781:     27:      65614: unwritten,shared
   9:      590..     606:      61807..     61823:     17:             unwritten,shared
  10:      615..     624:      61832..     61841:     10:             unwritten,shared
  11:      651..     651:      61868..     61868:      1:             unwritten,shared
  12:      652..     672:      59741..     59761:     21:      61869: shared
  13:      702..     718:      59687..     59703:     17:      59791: shared
  14:      734..     735:      71184..     71185:      2:      59719: shared
  15:      736..     759:      70595..     70618:     24:      71186: shared
  16:      760..     766:       5107..      5113:      7:      70619: shared
  17:      767..     767:      60083..     60083:      1:       5114: shared
  18:      899..     920:      58624..     58645:     22:      60215: unwritten,shared
  19:      929..     938:      58654..     58663:     10:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/fd: 16 extents found
after filter: 14282752#57344#24576#shared 14217216#4096#561152#shared 303927296#49152#946176#shared 294895616#36864#1748992#shared 252608512#110592#1785856#unwritten,shared 252514304#28672#1896448#shared 252719104#172032#1925120#unwritten,shared 268681216#73728#2129920#unwritten,shared 252948480#110592#2203648#unwritten,shared 253161472#69632#2416640#unwritten,shared 253263872#40960#2519040#unwritten,shared 253411328#4096#2666496#unwritten,shared 244699136#86016#2670592#shared 244477952#69632#2875392#shared 291569664#8192#3006464#shared 289157120#98304#3014656#shared 20918272#28672#3112960#shared 246099968#4096#3141632#shared 240123904#90112#3682304#unwritten,shared 240246784#40960#3805184#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 14282752 /mnt/scratch
inode 261 offset 24576 root 258
inode 261 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 14217216 /mnt/scratch
inode 261 offset 561152 root 258
inode 261 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 303927296 /mnt/scratch
inode 261 offset 946176 root 258
inode 261 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 294895616 /mnt/scratch
inode 261 offset 1748992 root 258
inode 261 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 252608512 /mnt/scratch
inode 261 offset 1785856 root 258
inode 261 offset 1785856 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 252514304 /mnt/scratch
inode 261 offset 1896448 root 258
inode 261 offset 1896448 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 252719104 /mnt/scratch
inode 261 offset 1925120 root 258
inode 261 offset 1925120 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 268681216 /mnt/scratch
inode 261 offset 2129920 root 258
inode 261 offset 2129920 root 5
inode 266 offset 266240 root 258
inode 266 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 252948480 /mnt/scratch
inode 261 offset 2203648 root 258
inode 261 offset 2203648 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 253161472 /mnt/scratch
inode 261 offset 2416640 root 258
inode 261 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 253263872 /mnt/scratch
inode 261 offset 2519040 root 258
inode 261 offset 2519040 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 253411328 /mnt/scratch
inode 261 offset 2666496 root 258
inode 261 offset 2666496 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 244699136 /mnt/scratch
inode 261 offset 2670592 root 258
inode 261 offset 2670592 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 244477952 /mnt/scratch
inode 261 offset 2875392 root 258
inode 261 offset 2875392 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 291569664 /mnt/scratch
inode 261 offset 3006464 root 258
inode 261 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 289157120 /mnt/scratch
inode 261 offset 3014656 root 258
inode 261 offset 3014656 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 20918272 /mnt/scratch
inode 261 offset 3112960 root 258
inode 261 offset 3112960 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 246099968 /mnt/scratch
inode 261 offset 3141632 root 258
inode 261 offset 3141632 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 240123904 /mnt/scratch
inode 261 offset 3682304 root 258
inode 261 offset 3682304 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# stat -c %i /mnt/scratch/snap1/p0/fd
261
# /bin/btrfs inspect-internal logical-resolve -P 240246784 /mnt/scratch
inode 261 offset 3805184 root 258
inode 261 offset 3805184 root 5
# /bin/btrfs inspect-internal inode-resolve 261 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/fd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9 is 1781760 (435 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       31..      45:      66657..     66671:     15:         31: shared
   1:      133..     135:      69144..     69146:      3:      66759: shared
   2:      224..     225:      73472..     73473:      2:      69235: shared
   3:      226..     227:      66249..     66250:      2:      73474: shared
   4:      228..     249:      71162..     71183:     22:      66251: shared
   5:      433..     434:      69483..     69484:      2:      71367: shared,eof
   6:      688..     927:      74230..     74469:    240:      69738: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9: 7 extents found
after filter: 273027072#61440#126976#shared 283213824#12288#544768#shared 300941312#8192#917504#shared 271355904#8192#925696#shared 291479552#90112#933888#shared 284602368#8192#1773568#shared,eof 304046080#983040#2818048#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 273027072 /mnt/scratch
inode 383 offset 1134592 root 258
inode 428 offset 126976 root 258
inode 428 offset 126976 root 5
inode 383 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 283213824 /mnt/scratch
inode 428 offset 544768 root 258
inode 428 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 300941312 /mnt/scratch
inode 428 offset 917504 root 258
inode 428 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 271355904 /mnt/scratch
inode 428 offset 925696 root 258
inode 428 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 291479552 /mnt/scratch
inode 428 offset 933888 root 258
inode 428 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 284602368 /mnt/scratch
inode 428 offset 1773568 root 258
inode 428 offset 1773568 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
428
# /bin/btrfs inspect-internal logical-resolve -P 304046080 /mnt/scratch
inode 428 offset 2818048 root 258
inode 428 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/df/d4e/d63/db1/fd9
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/f89
seed = 1518315843
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/f89 is 2392204 (585 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      43:      72025..     72035:     11:         33: shared
   1:       51..      51:      63677..     63677:      1:      72043: shared
   2:      206..     207:      64497..     64498:      2:      63832: shared
   3:      208..     208:      65173..     65173:      1:      64499: shared
   4:      224..     233:      62541..     62550:     10:      65189: shared
   5:      334..     353:      70770..     70789:     20:      62651: unwritten,shared
   6:      464..     486:      65327..     65349:     23:      70900: shared
   7:      487..     487:      68981..     68981:      1:      65350: shared
   8:      569..     584:      68982..     68997:     16:             last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/f89: 8 extents found
after filter: 295014400#45056#135168#shared 260820992#4096#208896#shared 264179712#8192#843776#shared 266948608#4096#851968#shared 256167936#40960#917504#shared 289873920#81920#1368064#unwritten,shared 267579392#94208#1900544#shared 282546176#4096#1994752#shared 282550272#65536#2330624#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 295014400 /mnt/scratch
inode 365 offset 135168 root 258
inode 365 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 260820992 /mnt/scratch
inode 365 offset 208896 root 258
inode 365 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 264179712 /mnt/scratch
inode 386 offset 237568 root 258
inode 365 offset 843776 root 258
inode 386 offset 237568 root 5
inode 365 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 266948608 /mnt/scratch
inode 386 offset 245760 root 258
inode 365 offset 851968 root 258
inode 386 offset 245760 root 5
inode 365 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 256167936 /mnt/scratch
inode 365 offset 917504 root 258
inode 365 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 267579392 /mnt/scratch
inode 365 offset 1900544 root 258
inode 365 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 282546176 /mnt/scratch
inode 365 offset 1994752 root 258
inode 365 offset 1994752 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/f89
365
# /bin/btrfs inspect-internal logical-resolve -P 282550272 /mnt/scratch
inode 365 offset 2330624 root 258
inode 365 offset 2330624 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/f89
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117 is 1076448 (263 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       4:      67618..     67618:      1:          4: shared
   1:       11..      30:      70770..     70789:     20:      67625: unwritten,shared
   2:      134..     135:      67912..     67913:      2:      70893: shared
   3:      253..     262:      71907..     71916:     10:      68031: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117: 4 extents found
after filter: 276963328#4096#16384#shared 289873920#81920#45056#unwritten,shared 278167552#8192#548864#shared 294531072#40960#1036288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
475
# /bin/btrfs inspect-internal logical-resolve -P 276963328 /mnt/scratch
inode 475 offset 16384 root 258
inode 475 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
475
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
475
# /bin/btrfs inspect-internal logical-resolve -P 278167552 /mnt/scratch
inode 475 offset 548864 root 258
inode 475 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
475
# /bin/btrfs inspect-internal logical-resolve -P 294531072 /mnt/scratch
inode 475 offset 1036288 root 258
inode 475 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/f117
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/fa2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/fa2 is 3040597 (743 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       75..      94:      67512..     67531:     20:         75: shared
   1:      193..     195:       4193..      4195:      3:      67630: unwritten,shared
   2:      342..     373:      65738..     65769:     32:       4342: shared
   3:      451..     467:      65155..     65171:     17:      65847: shared
   4:      468..     468:      67994..     67994:      1:      65172: shared
   5:      730..     742:      70268..     70280:     13:      68256: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/fa2: 6 extents found
after filter: 276529152#81920#307200#shared 17174528#12288#790528#unwritten,shared 269262848#131072#1400832#shared 266874880#69632#1847296#shared 278503424#4096#1916928#shared 287817728#53248#2990080#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 276529152 /mnt/scratch
inode 387 offset 307200 root 258
inode 387 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 17174528 /mnt/scratch
inode 286 offset 409600 root 258
inode 286 offset 708608 root 258
inode 286 offset 3325952 root 258
inode 286 offset 409600 root 258
inode 286 offset 708608 root 258
inode 286 offset 3325952 root 258
inode 286 offset 3325952 root 258
inode 286 offset 409600 root 258
inode 286 offset 708608 root 258
inode 286 offset 3325952 root 258
inode 286 offset 3325952 root 258
inode 286 offset 409600 root 5
inode 286 offset 708608 root 5
inode 286 offset 3325952 root 5
inode 286 offset 409600 root 5
inode 286 offset 708608 root 5
inode 286 offset 3325952 root 5
inode 286 offset 3325952 root 5
inode 286 offset 409600 root 5
inode 286 offset 708608 root 5
inode 286 offset 3325952 root 5
inode 286 offset 3325952 root 5
inode 301 offset 192512 root 5
inode 387 offset 790528 root 5
inode 301 offset 192512 root 258
inode 387 offset 790528 root 258
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 269262848 /mnt/scratch
inode 387 offset 1400832 root 258
inode 387 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 266874880 /mnt/scratch
inode 387 offset 1847296 root 258
inode 387 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 278503424 /mnt/scratch
inode 387 offset 1916928 root 258
inode 387 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/fa2
387
# /bin/btrfs inspect-internal logical-resolve -P 287817728 /mnt/scratch
inode 442 offset 1404928 root 258
inode 387 offset 2990080 root 258
inode 442 offset 1404928 root 5
inode 387 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 387 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/fa2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f15c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f15c is 152602 (38 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      23:      70783..     70783:      1:         23: last,unwritten,shared
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f15c: 1 extent found
after filter: 289927168#4096#94208#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f15c
510
# /bin/btrfs inspect-internal logical-resolve -P 289927168 /mnt/scratch
inode 514 offset 65536 root 5
inode 510 offset 94208 root 5
inode 363 offset 233472 root 5
inode 363 offset 610304 root 5
inode 363 offset 610304 root 5
inode 365 offset 1421312 root 5
inode 492 offset 344064 root 5
inode 492 offset 786432 root 5
inode 492 offset 786432 root 5
inode 483 offset 978944 root 5
inode 483 offset 712704 root 5
inode 483 offset 978944 root 5
inode 350 offset 880640 root 5
inode 339 offset 339968 root 5
inode 391 offset 573440 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 388 offset 94208 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 391 offset 73728 root 5
inode 391 offset 573440 root 5
inode 266 offset 491520 root 258
inode 263 offset 1277952 root 258
inode 263 offset 700416 root 258
inode 263 offset 1277952 root 258
inode 266 offset 491520 root 5
inode 263 offset 1277952 root 5
inode 263 offset 700416 root 5
inode 263 offset 1277952 root 5
inode 278 offset 6115328 root 5
inode 278 offset 5394432 root 5
inode 278 offset 6115328 root 5
inode 404 offset 491520 root 5
inode 399 offset 614400 root 5
inode 383 offset 2875392 root 5
inode 386 offset 757760 root 5
inode 475 offset 98304 root 5
inode 301 offset 331776 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 301 offset 331776 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 309 offset 491520 root 258
inode 309 offset 491520 root 5
inode 356 offset 2543616 root 5
inode 356 offset 2961408 root 5
inode 356 offset 2961408 root 5
inode 288 offset 114688 root 5
inode 269 offset 1900544 root 5
inode 336 offset 524288 root 5
inode 371 offset 335872 root 5
inode 378 offset 696320 root 5
inode 496 offset 462848 root 5
inode 496 offset 462848 root 5
inode 435 offset 1146880 root 5
inode 310 offset 1937408 root 5
inode 421 offset 430080 root 5
inode 356 offset 2543616 root 258
inode 356 offset 2961408 root 258
inode 356 offset 2961408 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 301 offset 331776 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 301 offset 331776 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 288 offset 114688 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 391 offset 573440 root 258
inode 388 offset 94208 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 391 offset 73728 root 258
inode 391 offset 573440 root 258
inode 278 offset 5394432 root 258
inode 278 offset 6115328 root 258
inode 278 offset 6115328 root 258
inode 475 offset 98304 root 258
inode 492 offset 786432 root 258
inode 492 offset 344064 root 258
inode 492 offset 786432 root 258
inode 399 offset 614400 root 258
inode 404 offset 491520 root 258
inode 365 offset 1421312 root 258
inode 363 offset 610304 root 258
inode 363 offset 233472 root 258
inode 363 offset 610304 root 258
inode 269 offset 1900544 root 258
inode 336 offset 524288 root 258
inode 386 offset 757760 root 258
inode 383 offset 2875392 root 258
inode 371 offset 335872 root 258
inode 378 offset 696320 root 258
inode 496 offset 462848 root 258
inode 496 offset 462848 root 258
inode 339 offset 339968 root 258
inode 350 offset 880640 root 258
inode 435 offset 1146880 root 258
inode 510 offset 94208 root 258
inode 514 offset 65536 root 258
inode 310 offset 1937408 root 258
inode 483 offset 712704 root 258
inode 483 offset 978944 root 258
inode 483 offset 978944 root 258
inode 421 offset 430080 root 258
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f15c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c is 3563898 (871 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      56:      67923..     67925:      3:         54: unwritten,shared
   1:       94..     122:      66005..     66033:     29:      67963: shared
   2:      235..     248:      64612..     64625:     14:      66146: shared
   3:      249..     249:      67184..     67184:      1:      64626: shared
   4:      263..     291:      66643..     66671:     29:      67198: shared
   5:      339..     418:      64083..     64162:     80:      66719: unwritten,shared
   6:      419..     429:      64163..     64173:     11:             shared
   7:      430..     442:      64174..     64186:     13:             unwritten,shared
   8:      446..     466:      64190..     64210:     21:             unwritten,shared
   9:      595..     595:      71356..     71356:      1:      64339: shared
  10:      689..     708:      70770..     70789:     20:      71450: unwritten,shared
  11:      749..     751:      71159..     71161:      3:      70830: shared
  12:      848..     870:      74471..     74493:     23:      71258: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c: 10 extents found
after filter: 278212608#12288#221184#unwritten,shared 270356480#118784#385024#shared 264650752#57344#962560#shared 275185664#4096#1019904#shared 272969728#118784#1077248#shared 262483968#327680#1388544#unwritten,shared 262811648#45056#1716224#shared 262856704#53248#1761280#unwritten,shared 262922240#86016#1826816#unwritten,shared 292274176#4096#2437120#shared 289873920#81920#2822144#unwritten,shared 291467264#12288#3067904#shared 305033216#94208#3473408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 278212608 /mnt/scratch
inode 383 offset 221184 root 258
inode 383 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 270356480 /mnt/scratch
inode 383 offset 385024 root 258
inode 383 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 264650752 /mnt/scratch
inode 383 offset 962560 root 258
inode 383 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 275185664 /mnt/scratch
inode 383 offset 1019904 root 258
inode 383 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 272969728 /mnt/scratch
inode 383 offset 1077248 root 258
inode 383 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 262483968 /mnt/scratch
inode 383 offset 1388544 root 258
inode 383 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 262811648 /mnt/scratch
inode 383 offset 1716224 root 258
inode 383 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 262856704 /mnt/scratch
inode 383 offset 1761280 root 258
inode 383 offset 1761280 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 262922240 /mnt/scratch
inode 383 offset 1826816 root 258
inode 383 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 292274176 /mnt/scratch
inode 383 offset 2437120 root 258
inode 383 offset 2437120 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
seed = 1517558236
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 291467264 /mnt/scratch
inode 383 offset 3067904 root 258
inode 383 offset 3067904 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
383
# /bin/btrfs inspect-internal logical-resolve -P 305033216 /mnt/scratch
inode 383 offset 3473408 root 258
inode 383 offset 3473408 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/fc9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/fc9 is 120627 (30 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       24..      25:      66854..     66855:      2:         24: unwritten,shared
   1:       26..      28:      65934..     65936:      3:      66856: shared
   2:       29..      29:      73731..     73731:      1:      65937: shared,eof
   3:       30..     240:      66856..     67066:    211:      73732: unwritten,shared,eof
   4:      284..     321:      73222..     73259:     38:      67110: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/fc9: 5 extents found
after filter: 273833984#8192#98304#unwritten,shared 270065664#12288#106496#shared 302002176#4096#118784#shared,eof 273842176#864256#122880#unwritten,shared,eof 299917312#155648#1163264#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fc9
419
# /bin/btrfs inspect-internal logical-resolve -P 273833984 /mnt/scratch
inode 419 offset 98304 root 258
inode 419 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fc9
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fc9
419
# /bin/btrfs inspect-internal logical-resolve -P 270065664 /mnt/scratch
inode 419 offset 106496 root 258
inode 419 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fc9
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fc9
419
# /bin/btrfs inspect-internal logical-resolve -P 302002176 /mnt/scratch
inode 419 offset 118784 root 258
inode 419 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fc9
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fc9
419
# /bin/btrfs inspect-internal logical-resolve -P 273842176 /mnt/scratch
inode 419 offset 122880 root 258
inode 419 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fc9
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fc9
419
# /bin/btrfs inspect-internal logical-resolve -P 299917312 /mnt/scratch
inode 419 offset 1163264 root 258
inode 419 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fc9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d1bf/f144 is 3563898 (871 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      56:      67923..     67925:      3:         54: unwritten,shared
   1:       94..     122:      66005..     66033:     29:      67963: shared
   2:      235..     248:      64612..     64625:     14:      66146: shared
   3:      249..     249:      67184..     67184:      1:      64626: shared
   4:      263..     291:      66643..     66671:     29:      67198: shared
   5:      339..     418:      64083..     64162:     80:      66719: unwritten,shared
   6:      419..     429:      64163..     64173:     11:             shared
   7:      430..     442:      64174..     64186:     13:             unwritten,shared
   8:      446..     466:      64190..     64210:     21:             unwritten,shared
   9:      595..     595:      71356..     71356:      1:      64339: shared
  10:      689..     708:      70770..     70789:     20:      71450: unwritten,shared
  11:      749..     751:      71159..     71161:      3:      70830: shared
  12:      848..     870:      74471..     74493:     23:      71258: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144: 10 extents found
after filter: 278212608#12288#221184#unwritten,shared 270356480#118784#385024#shared 264650752#57344#962560#shared 275185664#4096#1019904#shared 272969728#118784#1077248#shared 262483968#327680#1388544#unwritten,shared 262811648#45056#1716224#shared 262856704#53248#1761280#unwritten,shared 262922240#86016#1826816#unwritten,shared 292274176#4096#2437120#shared 289873920#81920#2822144#unwritten,shared 291467264#12288#3067904#shared 305033216#94208#3473408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 278212608 /mnt/scratch
inode 383 offset 221184 root 258
inode 383 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 270356480 /mnt/scratch
inode 383 offset 385024 root 258
inode 383 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 264650752 /mnt/scratch
inode 383 offset 962560 root 258
inode 383 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 275185664 /mnt/scratch
inode 383 offset 1019904 root 258
inode 383 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 272969728 /mnt/scratch
inode 383 offset 1077248 root 258
inode 383 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 262483968 /mnt/scratch
inode 383 offset 1388544 root 258
inode 383 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 262811648 /mnt/scratch
inode 383 offset 1716224 root 258
inode 383 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 262856704 /mnt/scratch
inode 383 offset 1761280 root 258
inode 383 offset 1761280 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 262922240 /mnt/scratch
inode 383 offset 1826816 root 258
inode 383 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 292274176 /mnt/scratch
inode 383 offset 2437120 root 258
inode 383 offset 2437120 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 291467264 /mnt/scratch
inode 383 offset 3067904 root 258
inode 383 offset 3067904 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f144
383
# /bin/btrfs inspect-internal logical-resolve -P 305033216 /mnt/scratch
inode 383 offset 3473408 root 258
inode 383 offset 3473408 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f144
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f19c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a is 947669 (232 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       52..      59:      70329..     70336:      8:         52: shared
   1:       60..      82:      69381..     69403:     23:      70337: shared
   2:       83..      83:      70337..     70337:      1:      69404: shared
   3:      200..     200:      73474..     73474:      1:      70454: shared
   4:      227..     231:      73475..     73479:      5:             last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a: 4 extents found
after filter: 288067584#32768#212992#shared 284184576#94208#245760#shared 288100352#4096#339968#shared 300949504#4096#819200#shared 300953600#20480#929792#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
505
# /bin/btrfs inspect-internal logical-resolve -P 288067584 /mnt/scratch
inode 505 offset 212992 root 258
inode 505 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
505
# /bin/btrfs inspect-internal logical-resolve -P 284184576 /mnt/scratch
inode 505 offset 245760 root 258
inode 505 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
505
# /bin/btrfs inspect-internal logical-resolve -P 288100352 /mnt/scratch
inode 505 offset 339968 root 258
inode 505 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
505
# /bin/btrfs inspect-internal logical-resolve -P 300949504 /mnt/scratch
inode 505 offset 819200 root 258
inode 505 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
505
# /bin/btrfs inspect-internal logical-resolve -P 300953600 /mnt/scratch
inode 505 offset 929792 root 258
inode 505 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 505 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/f1b1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/f1b1 is 1056768 (258 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      242..     257:      72551..     72566:     16:        242: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/f1b1: 1 extent found
after filter: 297168896#65536#991232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/f1b1
509
# /bin/btrfs inspect-internal logical-resolve -P 297168896 /mnt/scratch
inode 509 offset 991232 root 258
inode 509 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/f1b1
/mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/f1bd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/f1bd is 1060864 (259 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/df/d4e/d63/f1bd: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/f2d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/f2d is 6791168 (1658 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       9:       3465..      3470:      6:          4: shared
   1:       21..      41:       3987..      4007:     21:       3482: shared
   2:       43..      70:       4943..      4970:     28:       4009: shared
   3:       71..      80:      64709..     64718:     10:       4971: shared
   4:       81..      83:       3877..      3879:      3:      64719: shared
   5:      111..     141:      59504..     59534:     31:       3907: shared
   6:      160..     160:       4074..      4074:      1:      59553: shared
   7:      161..     184:       3932..      3955:     24:       4075: shared
   8:      185..     185:       3540..      3540:      1:       3956: shared
   9:      211..     228:      69714..     69731:     18:       3566: shared
  10:      267..     273:       4197..      4203:      7:      69770: unwritten,shared
  11:      283..     293:      59389..     59399:     11:       4213: unwritten,shared
  12:      345..     357:      63430..     63442:     13:      59451: shared
  13:      369..     375:      59535..     59541:      7:      63454: shared
  14:      376..     376:      59968..     59968:      1:      59542: shared
  15:      413..     419:      61613..     61619:      7:      60005: shared
  16:      431..     454:      59762..     59785:     24:      61631: shared
  17:      455..     455:      59969..     59969:      1:      59786: shared
  18:      520..     547:      59970..     59997:     28:             shared
  19:      548..     548:      63443..     63443:      1:      59998: shared
  20:      687..     703:      74213..     74229:     17:      63582: shared
  21:      704..     718:      65782..     65796:     15:      74230: shared
  22:      719..     733:      65311..     65325:     15:      65797: shared
  23:      766..     782:      61256..     61272:     17:      65358: unwritten,shared
  24:      783..     798:      61273..     61288:     16:             shared
  25:      799..     799:      64456..     64456:      1:      61289: shared
  26:      800..     811:      61290..     61301:     12:      64457: unwritten,shared
  27:      822..     855:      61312..     61345:     34:             unwritten,shared
  28:      856..     863:      69771..     69778:      8:      61346: unwritten,shared
  29:      864..     864:      61354..     61354:      1:      69779: unwritten,shared
  30:      869..     893:      69779..     69803:     25:      61359: unwritten,shared
  31:      894..     903:      63223..     63232:     10:      69804: unwritten,shared
  32:      904..    1079:      69804..     69979:    176:      63233: unwritten,shared
  33:     1150..    1161:      69030..     69041:     12:      70050: shared
  34:     1274..    1288:      70313..     70327:     15:      69154: shared
  35:     1304..    1323:      70770..     70789:     20:      70343: unwritten,shared
  36:     1371..    1389:      69042..     69060:     19:      70837: shared
  37:     1390..    1390:      70328..     70328:      1:      69061: shared
  38:     1426..    1435:      69304..     69313:     10:      70364: shared
  39:     1480..    1499:      70770..     70789:     20:      69358: unwritten,shared
  40:     1632..    1657:      71500..     71525:     26:      70922: last,shared,eof
/mnt/scratch/snap1/p0/df/f2d: 38 extents found
after filter: 14192640#24576#16384#shared 16330752#86016#86016#shared 20246528#114688#176128#shared 265048064#40960#290816#shared 15880192#12288#331776#shared 243728384#126976#454656#shared 16687104#4096#655360#shared 16105472#98304#659456#shared 14499840#4096#757760#shared 285548544#73728#864256#shared 17190912#28672#1093632#unwritten,shared 243257344#45056#1159168#unwritten,shared 259809280#53248#1413120#shared 243855360#28672#1511424#shared 245628928#4096#1540096#shared 252366848#28672#1691648#shared 244785152#98304#1765376#shared 245633024#4096#1863680#shared 245637120#114688#2129920#shared 259862528#4096#2244608#shared 303976448#69632#2813952#shared 269443072#61440#2883584#shared 267513856#61440#2945024#shared 250904576#69632#3137536#unwritten,shared 250974208#65536#3207168#shared 264011776#4096#3272704#shared 251043840#49152#3276800#unwritten,shared 251133952#139264#3366912#unwritten,shared 285782016#32768#3506176#unwritten,shared 251305984#4096#3538944#unwritten,shared 285814784#102400#3559424#unwritten,shared 258961408#40960#3661824#unwritten,shared 285917184#720896#3702784#unwritten,shared 282746880#49152#4710400#shared 288002048#61440#5218304#shared 289873920#81920#5341184#unwritten,shared 282796032#77824#5615616#shared 288063488#4096#5693440#shared 283869184#40960#5840896#shared 289873920#81920#6062080#unwritten,shared 292864000#106496#6684672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 14192640 /mnt/scratch
inode 278 offset 16384 root 258
inode 278 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 16330752 /mnt/scratch
inode 278 offset 86016 root 258
inode 278 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 20246528 /mnt/scratch
inode 278 offset 176128 root 258
inode 278 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 265048064 /mnt/scratch
inode 278 offset 290816 root 258
inode 278 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 15880192 /mnt/scratch
inode 278 offset 331776 root 258
inode 278 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 243728384 /mnt/scratch
inode 278 offset 454656 root 258
inode 278 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 16687104 /mnt/scratch
inode 278 offset 655360 root 258
inode 278 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 16105472 /mnt/scratch
inode 278 offset 659456 root 258
inode 278 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 14499840 /mnt/scratch
inode 278 offset 757760 root 258
inode 278 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 285548544 /mnt/scratch
inode 278 offset 864256 root 258
inode 278 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 17190912 /mnt/scratch
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 301 offset 208896 root 5
inode 278 offset 1093632 root 5
inode 278 offset 1093632 root 258
inode 301 offset 208896 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 243257344 /mnt/scratch
inode 278 offset 1159168 root 258
inode 388 offset 524288 root 258
inode 278 offset 1159168 root 5
inode 388 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 259809280 /mnt/scratch
inode 278 offset 1413120 root 258
inode 278 offset 1413120 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517318373
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 243855360 /mnt/scratch
inode 278 offset 1511424 root 258
inode 278 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 245628928 /mnt/scratch
inode 278 offset 1540096 root 258
inode 278 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 252366848 /mnt/scratch
inode 301 offset 1142784 root 258
inode 278 offset 1691648 root 258
inode 301 offset 1142784 root 5
inode 278 offset 1691648 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 244785152 /mnt/scratch
inode 278 offset 1765376 root 258
inode 278 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 245633024 /mnt/scratch
inode 278 offset 1863680 root 258
inode 278 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 245637120 /mnt/scratch
inode 278 offset 2129920 root 258
inode 278 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 259862528 /mnt/scratch
inode 278 offset 2244608 root 258
inode 278 offset 2244608 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 303976448 /mnt/scratch
inode 278 offset 2813952 root 258
inode 278 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 269443072 /mnt/scratch
inode 278 offset 2883584 root 258
inode 278 offset 2883584 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 267513856 /mnt/scratch
inode 278 offset 2945024 root 258
inode 278 offset 2945024 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 250904576 /mnt/scratch
inode 278 offset 3137536 root 258
inode 278 offset 3137536 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 250974208 /mnt/scratch
inode 278 offset 3207168 root 258
inode 278 offset 3207168 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 264011776 /mnt/scratch
inode 278 offset 3272704 root 258
inode 278 offset 3272704 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 251043840 /mnt/scratch
inode 278 offset 3276800 root 258
inode 278 offset 3276800 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 251133952 /mnt/scratch
inode 278 offset 3366912 root 258
inode 278 offset 3366912 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 285782016 /mnt/scratch
inode 278 offset 3506176 root 258
inode 278 offset 3506176 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 251305984 /mnt/scratch
inode 278 offset 3538944 root 258
inode 278 offset 3538944 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 285814784 /mnt/scratch
inode 278 offset 3559424 root 258
inode 278 offset 3559424 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 258961408 /mnt/scratch
inode 278 offset 3661824 root 258
inode 278 offset 3661824 root 5
inode 359 offset 860160 root 258
inode 359 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 285917184 /mnt/scratch
inode 278 offset 3702784 root 258
inode 278 offset 3702784 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 282746880 /mnt/scratch
inode 278 offset 4710400 root 258
inode 278 offset 4710400 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 288002048 /mnt/scratch
inode 278 offset 5218304 root 258
inode 278 offset 5218304 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 282796032 /mnt/scratch
inode 278 offset 5615616 root 258
inode 278 offset 5615616 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 288063488 /mnt/scratch
inode 278 offset 5693440 root 258
inode 278 offset 5693440 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 283869184 /mnt/scratch
inode 278 offset 5840896 root 258
inode 278 offset 5840896 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
278
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f2d
background rm
278
# /bin/btrfs inspect-internal logical-resolve -P 292864000 /mnt/scratch
inode 278 offset 6684672 root 258
inode 278 offset 6684672 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517650795
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76 is 1536902 (376 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      22:      65957..     65957:      1:         22: shared
   1:      114..     124:      65958..     65968:     11:             shared
   2:      125..     125:      70586..     70586:      1:      65969: shared
   3:      370..     375:      70587..     70592:      6:             last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76: 2 extents found
after filter: 270159872#4096#90112#shared 270163968#45056#466944#shared 289120256#4096#512000#shared 289124352#24576#1515520#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
349
# /bin/btrfs inspect-internal logical-resolve -P 270159872 /mnt/scratch
inode 349 offset 90112 root 258
inode 349 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
349
# /bin/btrfs inspect-internal logical-resolve -P 270163968 /mnt/scratch
inode 349 offset 466944 root 258
inode 349 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
349
# /bin/btrfs inspect-internal logical-resolve -P 289120256 /mnt/scratch
inode 349 offset 512000 root 258
inode 349 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
349
# /bin/btrfs inspect-internal logical-resolve -P 289124352 /mnt/scratch
inode 349 offset 1515520 root 258
inode 349 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f76
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148 is 1212687 (297 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      22:      70770..     70789:     20:          3: unwritten,shared
   1:      134..     137:      70692..     70695:      4:      70901: last,shared
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148: 2 extents found
after filter: 289873920#81920#12288#unwritten,shared 289554432#16384#548864#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148
514
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148
514
# /bin/btrfs inspect-internal logical-resolve -P 289554432 /mnt/scratch
inode 514 offset 548864 root 258
inode 514 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1a2/d1cb/d124/d132/f148
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/f104
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/f104 is 1912832 (467 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      31:      70338..     70346:      9:         23: shared
   1:       43..      69:      69244..     69270:     27:      70358: shared
   2:       70..      70:      72293..     72293:      1:      69271: shared
   3:      464..     466:      72966..     72968:      3:      72687: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/f104: 4 extents found
after filter: 288104448#36864#94208#shared 283623424#110592#176128#shared 296112128#4096#286720#shared 298868736#12288#1900544#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f104
457
# /bin/btrfs inspect-internal logical-resolve -P 288104448 /mnt/scratch
inode 457 offset 94208 root 258
inode 457 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f104
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f104
457
# /bin/btrfs inspect-internal logical-resolve -P 283623424 /mnt/scratch
inode 457 offset 176128 root 258
inode 457 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f104
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f104
457
# /bin/btrfs inspect-internal logical-resolve -P 296112128 /mnt/scratch
inode 457 offset 286720 root 258
inode 457 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f104
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/f104
457
# /bin/btrfs inspect-internal logical-resolve -P 298868736 /mnt/scratch
inode 457 offset 1900544 root 258
inode 457 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/f104
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/f154
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/f154 is 880640 (215 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      190..     191:      72809..     72810:      2:        190: last,shared
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f154: 1 extent found
after filter: 298225664#8192#778240#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/f154
523
# /bin/btrfs inspect-internal logical-resolve -P 298225664 /mnt/scratch
inode 545 offset 28672 root 258
inode 523 offset 778240 root 258
inode 545 offset 28672 root 5
inode 523 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 523 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/f154
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f is 1507328 (368 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      23:      68998..     69021:     24:             shared
   1:       69..      88:      70770..     70789:     20:      69067: unwritten,shared
   2:      222..     228:      65730..     65736:      7:      70923: shared
   3:      229..     229:      69022..     69022:      1:      65737: shared
   4:      246..     261:      72276..     72291:     16:      69039: shared
   5:      364..     367:      68092..     68095:      4:      72394: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f: 6 extents found
after filter: 282615808#98304#0#shared 289873920#81920#282624#unwritten,shared 269230080#28672#909312#shared 282714112#4096#937984#shared 296042496#65536#1007616#shared 278904832#16384#1490944#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 282615808 /mnt/scratch
inode 371 offset 0 root 258
inode 371 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 269230080 /mnt/scratch
inode 371 offset 909312 root 258
inode 371 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 282714112 /mnt/scratch
inode 371 offset 937984 root 258
inode 371 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 296042496 /mnt/scratch
inode 371 offset 1007616 root 258
inode 371 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
371
# /bin/btrfs inspect-internal logical-resolve -P 278904832 /mnt/scratch
inode 371 offset 1490944 root 258
inode 371 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 371 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f8f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/f87
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/f87 is 1003520 (245 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      63:      70770..     70789:     20:         44: unwritten,shared
   1:       74..     112:      70187..     70225:     39:      70800: unwritten,shared
   2:      129..     135:      70242..     70248:      7:             unwritten,shared
   3:      136..     155:      70770..     70789:     20:      70249: unwritten,shared
   4:      156..     157:      68208..     68209:      2:      70790: unwritten,shared
   5:      158..     158:      70258..     70258:      1:      68210: unwritten,shared
   6:      159..     163:      68211..     68215:      5:      70259: unwritten,shared
   7:      179..     203:      68231..     68255:     25:             unwritten,shared
   8:      204..     209:      66319..     66324:      6:      68256: shared
   9:      210..     214:      70175..     70179:      5:      66325: shared
  10:      215..     225:      66330..     66340:     11:      70180: shared
  11:      226..     232:      70180..     70186:      7:      66341: shared
  12:      233..     234:      68256..     68257:      2:      70187: unwritten,shared
  13:      235..     244:      67258..     67267:     10:      68258: shared,eof
  14:      245..     301:      68258..     68314:     57:      67268: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/f87: 13 extents found
after filter: 289873920#81920#180224#unwritten,shared 287485952#159744#303104#unwritten,shared 287711232#28672#528384#unwritten,shared 289873920#81920#557056#unwritten,shared 279379968#8192#638976#unwritten,shared 287776768#4096#647168#unwritten,shared 279392256#20480#651264#unwritten,shared 279474176#102400#733184#unwritten,shared 271642624#24576#835584#shared 287436800#20480#860160#shared 271687680#45056#880640#shared 287457280#28672#925696#shared 279576576#8192#954368#unwritten,shared 275488768#40960#962560#shared,eof 279584768#233472#1003520#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 287485952 /mnt/scratch
inode 363 offset 303104 root 258
inode 363 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 287711232 /mnt/scratch
inode 363 offset 528384 root 258
inode 363 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 279379968 /mnt/scratch
inode 363 offset 638976 root 258
inode 363 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 287776768 /mnt/scratch
inode 363 offset 647168 root 258
inode 363 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 279392256 /mnt/scratch
inode 363 offset 651264 root 258
inode 363 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 279474176 /mnt/scratch
inode 363 offset 733184 root 258
inode 288 offset 1486848 root 258
inode 363 offset 733184 root 5
inode 288 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 271642624 /mnt/scratch
inode 363 offset 835584 root 258
inode 363 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 287436800 /mnt/scratch
background rm
inode 363 offset 860160 root 258
inode 363 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
seed = 1517848633
363
# /bin/btrfs inspect-internal logical-resolve -P 271687680 /mnt/scratch
inode 363 offset 880640 root 258
inode 363 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 287457280 /mnt/scratch
inode 363 offset 925696 root 258
inode 363 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 279576576 /mnt/scratch
inode 363 offset 954368 root 258
inode 363 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 275488768 /mnt/scratch
inode 363 offset 962560 root 258
inode 363 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f87
363
# /bin/btrfs inspect-internal logical-resolve -P 279584768 /mnt/scratch
inode 363 offset 1003520 root 258
inode 363 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f87
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/fee is 3928064 (959 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..       9:      64457..     64457:      1:          9: shared
   1:      109..     122:      67074..     67087:     14:      64557: shared
   2:      123..     133:      66281..     66291:     11:      67088: shared
   3:      167..     171:      63180..     63184:      5:      66325: unwritten,shared
   4:      172..     184:      66292..     66304:     13:      63185: shared
   5:      185..     187:      68978..     68980:      3:      66305: shared
   6:      188..     198:      66308..     66318:     11:      68981: shared
   7:      199..     201:      63632..     63634:      3:      66319: shared
   8:      202..     215:      63215..     63228:     14:      63635: unwritten,shared
   9:      236..     247:      63249..     63260:     12:             unwritten,shared
  10:      259..     260:      63272..     63273:      2:             unwritten,shared
  11:      261..     268:      66034..     66041:      8:      63274: shared
  12:      269..     282:      63282..     63295:     14:      66042: unwritten,shared
  13:      284..     292:      63297..     63305:      9:             unwritten,shared
  14:      293..     293:      67088..     67088:      1:      63306: shared
  15:      294..     310:      63307..     63323:     17:      67089: unwritten,shared
  16:      343..     351:      68545..     68553:      9:      63356: unwritten,shared
  17:      370..     386:      62166..     62182:     17:      68572: unwritten,shared
  18:      388..     388:      62184..     62184:      1:             unwritten,shared
  19:      389..     398:      61948..     61957:     10:      62185: shared
  20:      407..     422:      72969..     72984:     16:      61966: shared
  21:      486..     505:      60927..     60946:     20:      73048: shared
  22:      558..     571:      73836..     73849:     14:      60999: shared
  23:      598..     619:      72985..     73006:     22:      73876: unwritten,shared
  24:      639..     640:      70788..     70789:      2:      73026: unwritten,shared
  25:      693..     693:      72292..     72292:      1:      70842: shared
  26:      939..     958:      72005..     72024:     20:      72538: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee: 23 extents found
after filter: 264015872#4096#36864#shared 274735104#57344#446464#shared 271486976#45056#503808#shared 258785280#20480#684032#unwritten,shared 271532032#53248#704512#shared 282533888#12288#757760#shared 271597568#45056#770048#shared 260636672#12288#815104#shared 258928640#57344#827392#unwritten,shared 259067904#49152#966656#unwritten,shared 259162112#8192#1060864#unwritten,shared 270475264#32768#1069056#shared 259203072#57344#1101824#unwritten,shared 259264512#36864#1163264#unwritten,shared 274792448#4096#1200128#shared 259305472#69632#1204224#unwritten,shared 280760320#36864#1404928#unwritten,shared 254631936#69632#1515520#unwritten,shared 254705664#4096#1589248#unwritten,shared 253739008#40960#1593344#shared 298881024#65536#1667072#shared 249556992#81920#1990656#shared 302432256#57344#2285568#shared 298946560#90112#2449408#unwritten,shared 289947648#8192#2617344#unwritten,shared 296108032#4096#2838528#shared 294932480#81920#3846144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 264015872 /mnt/scratch
inode 359 offset 36864 root 258
inode 359 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 274735104 /mnt/scratch
inode 359 offset 446464 root 258
inode 359 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 271486976 /mnt/scratch
inode 359 offset 503808 root 258
inode 359 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 258785280 /mnt/scratch
inode 359 offset 684032 root 258
inode 359 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 271532032 /mnt/scratch
inode 359 offset 704512 root 258
inode 359 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 282533888 /mnt/scratch
inode 359 offset 757760 root 258
inode 359 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 271597568 /mnt/scratch
inode 359 offset 770048 root 258
inode 359 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 260636672 /mnt/scratch
inode 359 offset 815104 root 258
inode 359 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 258928640 /mnt/scratch
inode 359 offset 827392 root 258
inode 359 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 259067904 /mnt/scratch
inode 359 offset 966656 root 258
inode 359 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 259162112 /mnt/scratch
inode 359 offset 1060864 root 258
inode 359 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 270475264 /mnt/scratch
inode 359 offset 1069056 root 258
inode 359 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 259203072 /mnt/scratch
inode 359 offset 1101824 root 258
inode 359 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 259264512 /mnt/scratch
inode 359 offset 1163264 root 258
inode 359 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 274792448 /mnt/scratch
inode 359 offset 1200128 root 258
inode 359 offset 1200128 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 259305472 /mnt/scratch
inode 359 offset 1204224 root 258
inode 359 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 280760320 /mnt/scratch
inode 359 offset 1404928 root 258
inode 359 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 254631936 /mnt/scratch
inode 348 offset 1372160 root 258
inode 359 offset 1515520 root 258
inode 359 offset 1515520 root 5
inode 348 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 254705664 /mnt/scratch
inode 348 offset 1445888 root 258
inode 359 offset 1589248 root 258
inode 359 offset 1589248 root 5
inode 348 offset 1445888 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 253739008 /mnt/scratch
inode 348 offset 1449984 root 258
inode 348 offset 1449984 root 5
inode 359 offset 1593344 root 258
inode 359 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 298881024 /mnt/scratch
inode 359 offset 1667072 root 258
inode 359 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 249556992 /mnt/scratch
inode 272 offset 364544 root 258
inode 272 offset 364544 root 5
inode 359 offset 1990656 root 258
inode 359 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 302432256 /mnt/scratch
inode 359 offset 2285568 root 258
inode 359 offset 2285568 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 298946560 /mnt/scratch
inode 359 offset 2449408 root 258
inode 359 offset 2449408 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 289947648 /mnt/scratch
inode 514 offset 86016 root 5
inode 479 offset 102400 root 5
inode 483 offset 999424 root 5
inode 479 offset 102400 root 5
inode 483 offset 733184 root 5
inode 483 offset 999424 root 5
inode 361 offset 876544 root 258
inode 359 offset 2617344 root 258
inode 361 offset 876544 root 5
inode 359 offset 2617344 root 5
inode 363 offset 253952 root 5
inode 363 offset 630784 root 5
inode 363 offset 630784 root 5
inode 365 offset 1441792 root 5
inode 492 offset 364544 root 5
inode 492 offset 806912 root 5
inode 492 offset 806912 root 5
inode 350 offset 901120 root 5
inode 339 offset 360448 root 5
inode 391 offset 593920 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 388 offset 114688 root 5
inode 388 offset 364544 root 5
inode 388 offset 393216 root 5
inode 391 offset 94208 root 5
inode 391 offset 593920 root 5
inode 266 offset 512000 root 258
inode 263 offset 1298432 root 258
inode 263 offset 720896 root 258
inode 263 offset 1298432 root 258
inode 266 offset 512000 root 5
inode 263 offset 1298432 root 5
inode 263 offset 720896 root 5
inode 263 offset 1298432 root 5
inode 278 offset 6135808 root 5
inode 278 offset 5414912 root 5
inode 278 offset 6135808 root 5
inode 404 offset 512000 root 5
inode 399 offset 634880 root 5
inode 408 offset 241664 root 5
inode 383 offset 2895872 root 5
inode 386 offset 778240 root 5
inode 475 offset 118784 root 5
inode 301 offset 352256 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 301 offset 352256 root 5
inode 301 offset 520192 root 5
inode 301 offset 610304 root 5
inode 309 offset 512000 root 258
inode 309 offset 512000 root 5
inode 356 offset 2564096 root 5
inode 356 offset 2981888 root 5
inode 356 offset 2981888 root 5
inode 288 offset 135168 root 5
inode 269 offset 1921024 root 5
inode 336 offset 544768 root 5
inode 371 offset 356352 root 5
inode 378 offset 716800 root 5
inode 496 offset 483328 root 5
inode 496 offset 483328 root 5
inode 435 offset 1167360 root 5
inode 310 offset 1957888 root 5
inode 439 offset 139264 root 5
inode 421 offset 450560 root 5
inode 356 offset 2564096 root 258
inode 356 offset 2981888 root 258
inode 356 offset 2981888 root 258
inode 408 offset 241664 root 258
inode 399 offset 634880 root 258
inode 404 offset 512000 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 301 offset 352256 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 301 offset 352256 root 258
inode 301 offset 520192 root 258
inode 301 offset 610304 root 258
inode 288 offset 135168 root 258
inode 479 offset 102400 root 258
inode 479 offset 102400 root 258
inode 483 offset 733184 root 258
inode 483 offset 999424 root 258
inode 483 offset 999424 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 391 offset 593920 root 258
inode 388 offset 114688 root 258
inode 388 offset 364544 root 258
inode 388 offset 393216 root 258
inode 391 offset 94208 root 258
inode 391 offset 593920 root 258
inode 278 offset 5414912 root 258
inode 278 offset 6135808 root 258
inode 278 offset 6135808 root 258
inode 475 offset 118784 root 258
inode 492 offset 806912 root 258
inode 492 offset 364544 root 258
inode 492 offset 806912 root 258
inode 365 offset 1441792 root 258
inode 363 offset 630784 root 258
inode 363 offset 253952 root 258
inode 363 offset 630784 root 258
inode 269 offset 1921024 root 258
inode 336 offset 544768 root 258
inode 386 offset 778240 root 258
inode 383 offset 2895872 root 258
inode 371 offset 356352 root 258
inode 378 offset 716800 root 258
inode 496 offset 483328 root 258
inode 496 offset 483328 root 258
inode 339 offset 360448 root 258
inode 350 offset 901120 root 258
inode 435 offset 1167360 root 258
inode 310 offset 1957888 root 258
inode 439 offset 139264 root 258
inode 421 offset 450560 root 258
inode 514 offset 86016 root 258
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 296108032 /mnt/scratch
inode 359 offset 2838528 root 258
inode 359 offset 2838528 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/fee
359
# /bin/btrfs inspect-internal logical-resolve -P 294932480 /mnt/scratch
inode 359 offset 3846144 root 258
inode 359 offset 3846144 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/fee
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f83
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/d160/f1af
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/d160/f1af is 806912 (197 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      185..     196:      73810..     73821:     12:        185: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/d160/f1af: 1 extent found
after filter: 302325760#49152#757760#last,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/d160/f1af
592
# /bin/btrfs inspect-internal logical-resolve -P 302325760 /mnt/scratch
inode 592 offset 757760 root 258
inode 592 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 592 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/d160/f1af
seed = 1517300884
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0 is 1197788 (293 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      18:      66844..     66850:      7:         12: unwritten,shared
   1:      104..     118:      67976..     67990:     15:      66936: shared
   2:      243..     250:      63753..     63760:      8:      68115: shared
   3:      252..     257:      72210..     72215:      6:      63762: shared
   4:      267..     286:      70770..     70789:     20:      72225: last,unwritten,shared
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0: 5 extents found
after filter: 273793024#28672#49152#unwritten,shared 278429696#61440#425984#shared 261132288#32768#995328#shared 295772160#24576#1032192#shared 289873920#81920#1093632#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
435
# /bin/btrfs inspect-internal logical-resolve -P 273793024 /mnt/scratch
inode 435 offset 49152 root 258
inode 435 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
435
# /bin/btrfs inspect-internal logical-resolve -P 278429696 /mnt/scratch
inode 435 offset 425984 root 258
inode 435 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
435
# /bin/btrfs inspect-internal logical-resolve -P 261132288 /mnt/scratch
inode 435 offset 995328 root 258
inode 263 offset 2584576 root 258
inode 263 offset 2584576 root 5
inode 435 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
435
# /bin/btrfs inspect-internal logical-resolve -P 295772160 /mnt/scratch
inode 435 offset 1032192 root 258
inode 435 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
435
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/fe0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c is 2641920 (645 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       76..      94:      73506..     73524:     19:         76: shared
   1:      111..     130:      70394..     70413:     20:      73541: shared
   2:      153..     158:      67749..     67754:      6:      70436: shared
   3:      159..     159:      70414..     70414:      1:      67755: shared
   4:      407..     428:      70415..     70436:     22:             shared
   5:      429..     429:      71186..     71186:      1:      70437: shared
   6:      623..     644:      70887..     70908:     22:      71380: last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c: 6 extents found
after filter: 301080576#77824#311296#shared 288333824#81920#454656#shared 277499904#24576#626688#shared 288415744#4096#651264#shared 288419840#90112#1667072#shared 291577856#4096#1757184#shared 290353152#90112#2551808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 301080576 /mnt/scratch
inode 426 offset 311296 root 258
inode 426 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 288333824 /mnt/scratch
inode 426 offset 454656 root 258
inode 426 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 277499904 /mnt/scratch
inode 426 offset 626688 root 258
inode 426 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 288415744 /mnt/scratch
inode 426 offset 651264 root 258
inode 426 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 288419840 /mnt/scratch
inode 426 offset 1667072 root 258
inode 426 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 291577856 /mnt/scratch
inode 426 offset 1757184 root 258
inode 426 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
426
# /bin/btrfs inspect-internal logical-resolve -P 290353152 /mnt/scratch
inode 426 offset 2551808 root 258
inode 426 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/f1b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/f1b is 6791168 (1658 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       9:       3465..      3470:      6:          4: shared
   1:       21..      41:       3987..      4007:     21:       3482: shared
   2:       43..      70:       4943..      4970:     28:       4009: shared
   3:       71..      80:      64709..     64718:     10:       4971: shared
   4:       81..      83:       3877..      3879:      3:      64719: shared
   5:      111..     141:      59504..     59534:     31:       3907: shared
   6:      160..     160:       4074..      4074:      1:      59553: shared
   7:      161..     184:       3932..      3955:     24:       4075: shared
   8:      185..     185:       3540..      3540:      1:       3956: shared
   9:      211..     228:      69714..     69731:     18:       3566: shared
  10:      267..     273:       4197..      4203:      7:      69770: unwritten,shared
  11:      283..     293:      59389..     59399:     11:       4213: unwritten,shared
  12:      345..     357:      63430..     63442:     13:      59451: shared
  13:      369..     375:      59535..     59541:      7:      63454: shared
  14:      376..     376:      59968..     59968:      1:      59542: shared
  15:      413..     419:      61613..     61619:      7:      60005: shared
  16:      431..     454:      59762..     59785:     24:      61631: shared
  17:      455..     455:      59969..     59969:      1:      59786: shared
  18:      520..     547:      59970..     59997:     28:             shared
  19:      548..     548:      63443..     63443:      1:      59998: shared
  20:      687..     703:      74213..     74229:     17:      63582: shared
  21:      704..     718:      65782..     65796:     15:      74230: shared
  22:      719..     733:      65311..     65325:     15:      65797: shared
  23:      766..     782:      61256..     61272:     17:      65358: unwritten,shared
  24:      783..     798:      61273..     61288:     16:             shared
  25:      799..     799:      64456..     64456:      1:      61289: shared
  26:      800..     811:      61290..     61301:     12:      64457: unwritten,shared
  27:      822..     855:      61312..     61345:     34:             unwritten,shared
  28:      856..     863:      69771..     69778:      8:      61346: unwritten,shared
  29:      864..     864:      61354..     61354:      1:      69779: unwritten,shared
  30:      869..     893:      69779..     69803:     25:      61359: unwritten,shared
  31:      894..     903:      63223..     63232:     10:      69804: unwritten,shared
  32:      904..    1079:      69804..     69979:    176:      63233: unwritten,shared
  33:     1150..    1161:      69030..     69041:     12:      70050: shared
  34:     1274..    1288:      70313..     70327:     15:      69154: shared
  35:     1304..    1323:      70770..     70789:     20:      70343: unwritten,shared
  36:     1371..    1389:      69042..     69060:     19:      70837: shared
  37:     1390..    1390:      70328..     70328:      1:      69061: shared
  38:     1426..    1435:      69304..     69313:     10:      70364: shared
  39:     1480..    1499:      70770..     70789:     20:      69358: unwritten,shared
  40:     1632..    1657:      71500..     71525:     26:      70922: last,shared,eof
/mnt/scratch/snap1/p0/df/f1b: 38 extents found
after filter: 14192640#24576#16384#shared 16330752#86016#86016#shared 20246528#114688#176128#shared 265048064#40960#290816#shared 15880192#12288#331776#shared 243728384#126976#454656#shared 16687104#4096#655360#shared 16105472#98304#659456#shared 14499840#4096#757760#shared 285548544#73728#864256#shared 17190912#28672#1093632#unwritten,shared 243257344#45056#1159168#unwritten,shared 259809280#53248#1413120#shared 243855360#28672#1511424#shared 245628928#4096#1540096#shared 252366848#28672#1691648#shared 244785152#98304#1765376#shared 245633024#4096#1863680#shared 245637120#114688#2129920#shared 259862528#4096#2244608#shared 303976448#69632#2813952#shared 269443072#61440#2883584#shared 267513856#61440#2945024#shared 250904576#69632#3137536#unwritten,shared 250974208#65536#3207168#shared 264011776#4096#3272704#shared 251043840#49152#3276800#unwritten,shared 251133952#139264#3366912#unwritten,shared 285782016#32768#3506176#unwritten,shared 251305984#4096#3538944#unwritten,shared 285814784#102400#3559424#unwritten,shared 258961408#40960#3661824#unwritten,shared 285917184#720896#3702784#unwritten,shared 282746880#49152#4710400#shared 288002048#61440#5218304#shared 289873920#81920#5341184#unwritten,shared 282796032#77824#5615616#shared 288063488#4096#5693440#shared 283869184#40960#5840896#shared 289873920#81920#6062080#unwritten,shared 292864000#106496#6684672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 14192640 /mnt/scratch
inode 278 offset 16384 root 258
inode 278 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 16330752 /mnt/scratch
inode 278 offset 86016 root 258
inode 278 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 20246528 /mnt/scratch
inode 278 offset 176128 root 258
inode 278 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 265048064 /mnt/scratch
inode 278 offset 290816 root 258
inode 278 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 15880192 /mnt/scratch
inode 278 offset 331776 root 258
inode 278 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 243728384 /mnt/scratch
inode 278 offset 454656 root 258
inode 278 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 16687104 /mnt/scratch
inode 278 offset 655360 root 258
inode 278 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 16105472 /mnt/scratch
inode 278 offset 659456 root 258
inode 278 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 14499840 /mnt/scratch
inode 278 offset 757760 root 258
inode 278 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 285548544 /mnt/scratch
inode 278 offset 864256 root 258
inode 278 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 17190912 /mnt/scratch
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 3293184 root 258
inode 286 offset 3342336 root 258
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 425984 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 286 offset 3293184 root 5
inode 286 offset 3342336 root 5
inode 301 offset 208896 root 5
inode 278 offset 1093632 root 5
inode 278 offset 1093632 root 258
inode 301 offset 208896 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 243257344 /mnt/scratch
inode 278 offset 1159168 root 258
inode 388 offset 524288 root 258
inode 278 offset 1159168 root 5
inode 388 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 259809280 /mnt/scratch
inode 278 offset 1413120 root 258
inode 278 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 243855360 /mnt/scratch
inode 278 offset 1511424 root 258
inode 278 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 245628928 /mnt/scratch
inode 278 offset 1540096 root 258
inode 278 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 252366848 /mnt/scratch
inode 301 offset 1142784 root 258
inode 278 offset 1691648 root 258
inode 301 offset 1142784 root 5
inode 278 offset 1691648 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 244785152 /mnt/scratch
inode 278 offset 1765376 root 258
inode 278 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 245633024 /mnt/scratch
inode 278 offset 1863680 root 258
inode 278 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 245637120 /mnt/scratch
inode 278 offset 2129920 root 258
inode 278 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 259862528 /mnt/scratch
background rm
inode 278 offset 2244608 root 258
inode 278 offset 2244608 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517728806
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 303976448 /mnt/scratch
inode 278 offset 2813952 root 258
inode 278 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 269443072 /mnt/scratch
inode 278 offset 2883584 root 258
inode 278 offset 2883584 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 267513856 /mnt/scratch
inode 278 offset 2945024 root 258
inode 278 offset 2945024 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 250904576 /mnt/scratch
inode 278 offset 3137536 root 258
inode 278 offset 3137536 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 250974208 /mnt/scratch
inode 278 offset 3207168 root 258
inode 278 offset 3207168 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 264011776 /mnt/scratch
inode 278 offset 3272704 root 258
inode 278 offset 3272704 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 251043840 /mnt/scratch
inode 278 offset 3276800 root 258
inode 278 offset 3276800 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 251133952 /mnt/scratch
inode 278 offset 3366912 root 258
inode 278 offset 3366912 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 285782016 /mnt/scratch
inode 278 offset 3506176 root 258
inode 278 offset 3506176 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 251305984 /mnt/scratch
inode 278 offset 3538944 root 258
inode 278 offset 3538944 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 285814784 /mnt/scratch
inode 278 offset 3559424 root 258
inode 278 offset 3559424 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 258961408 /mnt/scratch
inode 278 offset 3661824 root 258
inode 278 offset 3661824 root 5
inode 359 offset 860160 root 258
inode 359 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 285917184 /mnt/scratch
inode 278 offset 3702784 root 258
inode 278 offset 3702784 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 282746880 /mnt/scratch
inode 278 offset 4710400 root 258
inode 278 offset 4710400 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 288002048 /mnt/scratch
inode 278 offset 5218304 root 258
inode 278 offset 5218304 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 282796032 /mnt/scratch
inode 278 offset 5615616 root 258
inode 278 offset 5615616 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 288063488 /mnt/scratch
inode 278 offset 5693440 root 258
inode 278 offset 5693440 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 283869184 /mnt/scratch
inode 278 offset 5840896 root 258
inode 278 offset 5840896 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# stat -c %i /mnt/scratch/snap1/p0/df/f1b
278
# /bin/btrfs inspect-internal logical-resolve -P 292864000 /mnt/scratch
inode 278 offset 6684672 root 258
inode 278 offset 6684672 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/f1b
/mnt/scratch/snap1/p0/df/f2d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f13c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f13c is 222437 (55 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      54:      71775..     71801:     27:         28: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f13c: 1 extent found
after filter: 293990400#110592#114688#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f13c
507
# /bin/btrfs inspect-internal logical-resolve -P 293990400 /mnt/scratch
inode 507 offset 114688 root 258
inode 507 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f13c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/f77 is 2658304 (649 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      129..     157:      63547..     63575:     29:        129: shared
   1:      158..     158:      64627..     64627:      1:      63576: shared
   2:      202..     221:      70770..     70789:     20:      64671: unwritten,shared
   3:      291..     301:      65263..     65273:     11:      70859: shared
   4:      352..     377:      64057..     64082:     26:      65324: shared
   5:      440..     443:      66116..     66119:      4:      64145: shared
   6:      625..     648:      71233..     71256:     24:      66301: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77: 7 extents found
after filter: 260288512#118784#528384#shared 264712192#4096#647168#shared 289873920#81920#827392#unwritten,shared 267317248#45056#1191936#shared 262377472#106496#1441792#shared 270811136#16384#1802240#shared 291770368#98304#2560000#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 260288512 /mnt/scratch
inode 491 offset 143360 root 258
inode 350 offset 528384 root 258
inode 491 offset 143360 root 5
inode 350 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 264712192 /mnt/scratch
inode 350 offset 647168 root 258
inode 350 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517847286
350
# /bin/btrfs inspect-internal logical-resolve -P 267317248 /mnt/scratch
inode 350 offset 1191936 root 258
inode 350 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 262377472 /mnt/scratch
inode 350 offset 1441792 root 258
inode 350 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 270811136 /mnt/scratch
inode 350 offset 1802240 root 258
inode 350 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/f77
350
# /bin/btrfs inspect-internal logical-resolve -P 291770368 /mnt/scratch
inode 350 offset 2560000 root 258
inode 350 offset 2560000 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d20/f77
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196 is 606208 (148 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       89..      96:      70770..     70777:      8:         89: unwritten,shared
   1:       97..     104:      73260..     73267:      8:      70778: shared
   2:      109..     119:      70779..     70789:     11:      73272: last,unwritten,shared
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196: 3 extents found
after filter: 289873920#32768#364544#unwritten,shared 300072960#32768#397312#shared 289910784#45056#446464#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
496
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
496
# /bin/btrfs inspect-internal logical-resolve -P 300072960 /mnt/scratch
inode 496 offset 397312 root 258
inode 496 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
496
# /bin/btrfs inspect-internal logical-resolve -P 289910784 /mnt/scratch
inode 514 offset 49152 root 5
inode 479 offset 233472 root 5
inode 483 offset 962560 root 5
inode 479 offset 233472 root 5
inode 483 offset 696320 root 5
inode 483 offset 962560 root 5
inode 363 offset 217088 root 5
inode 363 offset 593920 root 5
inode 363 offset 593920 root 5
inode 365 offset 1404928 root 5
inode 492 offset 770048 root 5
inode 492 offset 770048 root 5
inode 431 offset 524288 root 5
inode 435 offset 1130496 root 5
inode 350 offset 864256 root 5
inode 339 offset 323584 root 5
inode 391 offset 557056 root 5
inode 388 offset 327680 root 5
inode 388 offset 327680 root 5
inode 388 offset 77824 root 5
inode 388 offset 327680 root 5
inode 391 offset 57344 root 5
inode 391 offset 557056 root 5
inode 266 offset 475136 root 258
inode 263 offset 1261568 root 258
inode 263 offset 684032 root 258
inode 263 offset 1261568 root 258
inode 266 offset 475136 root 5
inode 263 offset 1261568 root 5
inode 263 offset 684032 root 5
inode 263 offset 1261568 root 5
inode 278 offset 6098944 root 5
inode 278 offset 5378048 root 5
inode 278 offset 6098944 root 5
inode 404 offset 475136 root 5
inode 399 offset 598016 root 5
inode 383 offset 2859008 root 5
inode 386 offset 741376 root 5
inode 475 offset 81920 root 5
inode 301 offset 315392 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 301 offset 315392 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 309 offset 475136 root 258
inode 309 offset 475136 root 5
inode 356 offset 2527232 root 5
inode 356 offset 2945024 root 5
inode 356 offset 2945024 root 5
inode 288 offset 98304 root 5
inode 290 offset 1257472 root 5
inode 269 offset 1884160 root 5
inode 336 offset 507904 root 5
inode 371 offset 319488 root 5
inode 378 offset 679936 root 5
inode 496 offset 446464 root 5
inode 496 offset 446464 root 5
inode 310 offset 1921024 root 5
inode 421 offset 413696 root 5
inode 356 offset 2527232 root 258
inode 356 offset 2945024 root 258
inode 356 offset 2945024 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 301 offset 315392 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 301 offset 315392 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 288 offset 98304 root 258
inode 290 offset 1257472 root 258
inode 479 offset 233472 root 258
inode 479 offset 233472 root 258
inode 483 offset 696320 root 258
inode 483 offset 962560 root 258
inode 483 offset 962560 root 258
inode 388 offset 327680 root 258
inode 388 offset 327680 root 258
inode 391 offset 557056 root 258
inode 388 offset 77824 root 258
inode 388 offset 327680 root 258
inode 391 offset 57344 root 258
inode 391 offset 557056 root 258
inode 278 offset 5378048 root 258
inode 278 offset 6098944 root 258
inode 278 offset 6098944 root 258
inode 475 offset 81920 root 258
inode 492 offset 770048 root 258
inode 492 offset 770048 root 258
inode 399 offset 598016 root 258
inode 404 offset 475136 root 258
inode 365 offset 1404928 root 258
inode 363 offset 593920 root 258
inode 363 offset 217088 root 258
inode 363 offset 593920 root 258
inode 269 offset 1884160 root 258
inode 336 offset 507904 root 258
inode 386 offset 741376 root 258
inode 383 offset 2859008 root 258
inode 371 offset 319488 root 258
inode 378 offset 679936 root 258
inode 496 offset 446464 root 258
inode 496 offset 446464 root 258
inode 339 offset 323584 root 258
inode 350 offset 864256 root 258
inode 435 offset 1130496 root 258
inode 431 offset 524288 root 258
inode 310 offset 1921024 root 258
inode 421 offset 413696 root 258
inode 514 offset 49152 root 258
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/fd7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/fd7 is 2641920 (645 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       76..      94:      73506..     73524:     19:         76: shared
   1:      111..     130:      70394..     70413:     20:      73541: shared
   2:      153..     158:      67749..     67754:      6:      70436: shared
   3:      159..     159:      70414..     70414:      1:      67755: shared
   4:      407..     428:      70415..     70436:     22:             shared
   5:      429..     429:      71186..     71186:      1:      70437: shared
   6:      623..     644:      70887..     70908:     22:      71380: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/fd7: 6 extents found
after filter: 301080576#77824#311296#shared 288333824#81920#454656#shared 277499904#24576#626688#shared 288415744#4096#651264#shared 288419840#90112#1667072#shared 291577856#4096#1757184#shared 290353152#90112#2551808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 301080576 /mnt/scratch
inode 426 offset 311296 root 258
inode 426 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 288333824 /mnt/scratch
inode 426 offset 454656 root 258
inode 426 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 277499904 /mnt/scratch
inode 426 offset 626688 root 258
inode 426 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 288415744 /mnt/scratch
inode 426 offset 651264 root 258
inode 426 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 288419840 /mnt/scratch
inode 426 offset 1667072 root 258
inode 426 offset 1667072 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 291577856 /mnt/scratch
inode 426 offset 1757184 root 258
inode 426 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/fd7
426
# /bin/btrfs inspect-internal logical-resolve -P 290353152 /mnt/scratch
inode 426 offset 2551808 root 258
inode 426 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/fd7
/mnt/scratch/snap1/p0/df/d1e/d2e/df3/d158/f16c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4 is 436146 (107 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       5:      72620..     72622:      3:          3: unwritten,shared
   1:       23..      29:      72640..     72646:      7:             unwritten,shared
   2:       30..      35:      70784..     70789:      6:      72647: unwritten,shared
   3:       36..      53:      70347..     70364:     18:      70790: shared
   4:       54..      54:      72619..     72619:      1:      70365: shared
   5:       55..      64:      72647..     72656:     10:      72620: unwritten,shared
   6:      103..     106:      72695..     72698:      4:             unwritten,shared,eof
   7:      218..     265:      72145..     72192:     48:      72810: unwritten,shared,eof
   8:      266..     514:      71526..     71774:    249:      72193: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4: 7 extents found
after filter: 297451520#12288#12288#unwritten,shared 297533440#28672#94208#unwritten,shared 289931264#24576#122880#unwritten,shared 288141312#73728#147456#shared 297447424#4096#221184#shared 297562112#40960#225280#unwritten,shared 297758720#16384#421888#unwritten,shared,eof 295505920#196608#892928#unwritten,shared,eof 292970496#1019904#1089536#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 297451520 /mnt/scratch
inode 439 offset 12288 root 258
inode 439 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 297533440 /mnt/scratch
inode 439 offset 94208 root 258
inode 439 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 289931264 /mnt/scratch
inode 514 offset 69632 root 5
inode 361 offset 860160 root 258
inode 361 offset 860160 root 5
inode 363 offset 237568 root 5
inode 363 offset 614400 root 5
inode 363 offset 614400 root 5
inode 365 offset 1425408 root 5
inode 492 offset 348160 root 5
inode 492 offset 790528 root 5
inode 492 offset 790528 root 5
inode 483 offset 983040 root 5
inode 483 offset 716800 root 5
inode 483 offset 983040 root 5
inode 350 offset 884736 root 5
inode 339 offset 344064 root 5
inode 391 offset 577536 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 388 offset 98304 root 5
inode 388 offset 348160 root 5
inode 388 offset 376832 root 5
inode 391 offset 77824 root 5
inode 391 offset 577536 root 5
inode 266 offset 495616 root 258
inode 263 offset 1282048 root 258
inode 263 offset 704512 root 258
inode 263 offset 1282048 root 258
inode 266 offset 495616 root 5
inode 263 offset 1282048 root 5
inode 263 offset 704512 root 5
inode 263 offset 1282048 root 5
inode 278 offset 6119424 root 5
inode 278 offset 5398528 root 5
inode 278 offset 6119424 root 5
inode 404 offset 495616 root 5
inode 399 offset 618496 root 5
inode 408 offset 225280 root 5
inode 383 offset 2879488 root 5
inode 386 offset 761856 root 5
inode 475 offset 102400 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 301 offset 335872 root 5
inode 301 offset 503808 root 5
inode 301 offset 593920 root 5
inode 309 offset 495616 root 258
inode 309 offset 495616 root 5
inode 356 offset 2547712 root 5
inode 356 offset 2965504 root 5
inode 356 offset 2965504 root 5
inode 288 offset 118784 root 5
inode 269 offset 1904640 root 5
inode 336 offset 528384 root 5
inode 371 offset 339968 root 5
inode 378 offset 700416 root 5
inode 496 offset 466944 root 5
inode 496 offset 466944 root 5
inode 435 offset 1150976 root 5
inode 310 offset 1941504 root 5
inode 439 offset 122880 root 5
inode 421 offset 434176 root 5
inode 356 offset 2547712 root 258
inode 356 offset 2965504 root 258
inode 356 offset 2965504 root 258
inode 408 offset 225280 root 258
inode 399 offset 618496 root 258
inode 404 offset 495616 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 301 offset 335872 root 258
inode 301 offset 503808 root 258
inode 301 offset 593920 root 258
inode 288 offset 118784 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 577536 root 258
inode 388 offset 98304 root 258
inode 388 offset 348160 root 258
inode 388 offset 376832 root 258
inode 391 offset 77824 root 258
inode 391 offset 577536 root 258
inode 278 offset 5398528 root 258
inode 278 offset 6119424 root 258
inode 278 offset 6119424 root 258
inode 475 offset 102400 root 258
inode 492 offset 790528 root 258
inode 492 offset 348160 root 258
inode 492 offset 790528 root 258
inode 365 offset 1425408 root 258
inode 363 offset 614400 root 258
inode 363 offset 237568 root 258
inode 363 offset 614400 root 258
inode 269 offset 1904640 root 258
inode 336 offset 528384 root 258
inode 386 offset 761856 root 258
inode 383 offset 2879488 root 258
inode 371 offset 339968 root 258
inode 378 offset 700416 root 258
inode 496 offset 466944 root 258
inode 496 offset 466944 root 258
inode 339 offset 344064 root 258
inode 350 offset 884736 root 258
inode 435 offset 1150976 root 258
inode 310 offset 1941504 root 258
inode 483 offset 716800 root 258
inode 483 offset 983040 root 258
inode 483 offset 983040 root 258
inode 439 offset 122880 root 258
inode 421 offset 434176 root 258
inode 514 offset 69632 root 258
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 288141312 /mnt/scratch
inode 439 offset 147456 root 258
inode 439 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 297447424 /mnt/scratch
inode 439 offset 221184 root 258
inode 439 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 297562112 /mnt/scratch
inode 439 offset 225280 root 258
inode 439 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 297758720 /mnt/scratch
inode 439 offset 421888 root 258
inode 439 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 295505920 /mnt/scratch
inode 439 offset 892928 root 258
inode 439 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
439
# /bin/btrfs inspect-internal logical-resolve -P 292970496 /mnt/scratch
inode 439 offset 1089536 root 258
inode 439 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/fe4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f1a1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f1a1 is 1032900 (253 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/d107/d126/f1a1: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60 is 2977691 (727 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      32:      69147..     69166:     20:         13: shared
   1:       39..      69:      62396..     62426:     31:      69173: shared
   2:      148..     172:      60595..     60619:     25:      62505: shared
   3:      212..     239:      67691..     67718:     28:      60659: shared
   4:      240..     264:      74144..     74168:     25:      67719: shared
   5:      284..     311:      69455..     69482:     28:      74188: shared
   6:      352..     380:      65868..     65896:     29:      69523: shared
   7:      456..     468:      62839..     62851:     13:      65972: unwritten,shared
   8:      469..     469:      62852..     62852:      1:             shared
   9:      723..     726:      71352..     71355:      4:      63106: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60: 9 extents found
after filter: 283226112#81920#53248#shared 255574016#126976#159744#shared 248197120#102400#606208#shared 277262336#114688#868352#shared 303693824#102400#983040#shared 284487680#114688#1163264#shared 269795328#118784#1441792#shared 257388544#53248#1867776#unwritten,shared 257441792#4096#1921024#shared 292257792#16384#2961408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 283226112 /mnt/scratch
inode 330 offset 53248 root 258
inode 330 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 255574016 /mnt/scratch
inode 330 offset 159744 root 258
inode 330 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 248197120 /mnt/scratch
inode 330 offset 606208 root 258
inode 330 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 277262336 /mnt/scratch
inode 330 offset 868352 root 258
inode 330 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 303693824 /mnt/scratch
inode 330 offset 983040 root 258
inode 330 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 284487680 /mnt/scratch
inode 330 offset 1163264 root 258
inode 330 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 269795328 /mnt/scratch
inode 330 offset 1441792 root 258
inode 330 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 257388544 /mnt/scratch
inode 330 offset 1867776 root 258
inode 330 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 257441792 /mnt/scratch
inode 330 offset 1921024 root 258
inode 330 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
330
# /bin/btrfs inspect-internal logical-resolve -P 292257792 /mnt/scratch
inode 330 offset 2961408 root 258
inode 330 offset 2961408 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517334038
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/f60
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d94/fae
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d94/fae is 1822720 (445 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..      56:      70514..     70519:      6:         51: shared
   1:      111..     122:      69759..     69770:     12:      70574: shared
   2:      431..     444:      73208..     73221:     14:      70079: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d94/fae: 3 extents found
after filter: 288825344#24576#208896#shared 285732864#49152#454656#shared 299859968#57344#1765376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d94/fae
397
# /bin/btrfs inspect-internal logical-resolve -P 288825344 /mnt/scratch
inode 397 offset 208896 root 258
inode 397 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d94/fae
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d94/fae
397
# /bin/btrfs inspect-internal logical-resolve -P 285732864 /mnt/scratch
inode 397 offset 454656 root 258
inode 397 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d94/fae
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d94/fae
397
# /bin/btrfs inspect-internal logical-resolve -P 299859968 /mnt/scratch
inode 397 offset 1765376 root 258
inode 397 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d94/fae
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d59/f5c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d59/f5c is 2093056 (511 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       52..      71:      61928..     61947:     20:         52: shared
   1:      131..     138:      71090..     71097:      8:      62007: shared
   2:      139..     171:      66465..     66497:     33:      71098: unwritten,shared
   3:      183..     199:      66509..     66525:     17:             unwritten,shared
   4:      207..     209:      66533..     66535:      3:             unwritten,shared
   5:      280..     293:      66606..     66619:     14:             unwritten,shared
   6:      303..     306:      66629..     66632:      4:             unwritten,shared
   7:      314..     316:      66640..     66642:      3:             unwritten,shared
   8:      321..     321:      71328..     71328:      1:      66647: shared
   9:      509..     510:      70918..     70919:      2:      71516: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d59/f5c: 5 extents found
after filter: 253657088#81920#212992#shared 291184640#32768#536576#shared 272240640#135168#569344#unwritten,shared 272420864#69632#749568#unwritten,shared 272519168#12288#847872#unwritten,shared 272818176#57344#1146880#unwritten,shared 272912384#16384#1241088#unwritten,shared 272957440#12288#1286144#unwritten,shared 292159488#4096#1314816#shared 290480128#8192#2084864#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 253657088 /mnt/scratch
inode 326 offset 212992 root 258
inode 326 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 291184640 /mnt/scratch
inode 326 offset 536576 root 258
inode 326 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272240640 /mnt/scratch
inode 326 offset 569344 root 258
inode 326 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272420864 /mnt/scratch
inode 326 offset 749568 root 258
inode 326 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272519168 /mnt/scratch
inode 326 offset 847872 root 258
inode 326 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272818176 /mnt/scratch
inode 326 offset 1146880 root 258
inode 326 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272912384 /mnt/scratch
inode 326 offset 1241088 root 258
inode 326 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 272957440 /mnt/scratch
inode 326 offset 1286144 root 258
inode 326 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 292159488 /mnt/scratch
inode 326 offset 1314816 root 258
inode 326 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d59/f5c
326
# /bin/btrfs inspect-internal logical-resolve -P 290480128 /mnt/scratch
inode 326 offset 2084864 root 258
inode 326 offset 2084864 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d59/f5c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d15d/f179
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d15d/f179 is 2581916 (631 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      424..     429:      73480..     73485:      6:        424: last,shared
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d15d/f179: 1 extent found
after filter: 300974080#24576#1736704#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d15d/f179
551
# /bin/btrfs inspect-internal logical-resolve -P 300974080 /mnt/scratch
inode 551 offset 1736704 root 258
inode 551 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d15d/f179
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/f31
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/f31 is 1859366 (454 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      25:      60142..     60166:     25:          1: shared
   1:       26..      32:       3939..      3945:      7:      60167: shared
   2:       33..      56:      64526..     64549:     24:       3946: shared
   3:       62..      62:       4075..      4075:      1:      64555: shared
   4:       63..      67:      59638..     59642:      5:       4076: shared
   5:       76..      78:       4089..      4091:      3:      59651: shared
   6:       97..     118:      59568..     59589:     22:       4110: shared
   7:      119..     122:       4222..      4225:      4:      59590: unwritten,shared
   8:      225..     248:      63392..     63415:     24:       4328: shared
   9:      258..     272:      59604..     59618:     15:      63425: shared
  10:      273..     273:      60034..     60034:      1:      59619: shared
  11:      321..     329:      64550..     64558:      9:      60082: shared
  12:      330..     352:      67995..     68017:     23:      64559: shared
  13:      353..     357:      61587..     61591:      5:      68018: shared
  14:      368..     368:      71365..     71365:      1:      61602: shared
  15:      443..     453:      71366..     71376:     11:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/f31: 15 extents found
after filter: 246341632#102400#4096#shared 16134144#28672#106496#shared 264298496#98304#135168#shared 16691200#4096#253952#shared 244277248#20480#258048#shared 16748544#12288#311296#shared 243990528#90112#397312#shared 17293312#16384#487424#unwritten,shared 259653632#98304#921600#shared 244137984#61440#1056768#shared 245899264#4096#1118208#shared 264396800#36864#1314816#shared 278507520#94208#1351680#shared 252260352#20480#1445888#shared 292311040#4096#1507328#shared 292315136#45056#1814528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 246341632 /mnt/scratch
inode 260 offset 4096 root 258
inode 260 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 16134144 /mnt/scratch
inode 260 offset 106496 root 258
inode 278 offset 688128 root 258
inode 260 offset 106496 root 5
inode 361 offset 237568 root 258
inode 361 offset 237568 root 5
inode 278 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 264298496 /mnt/scratch
inode 260 offset 135168 root 258
inode 260 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 16691200 /mnt/scratch
inode 260 offset 253952 root 258
inode 260 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 244277248 /mnt/scratch
inode 260 offset 258048 root 258
inode 267 offset 1863680 root 258
inode 267 offset 1863680 root 5
inode 260 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 16748544 /mnt/scratch
inode 260 offset 311296 root 258
inode 260 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 243990528 /mnt/scratch
inode 260 offset 397312 root 258
inode 260 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 17293312 /mnt/scratch
inode 260 offset 487424 root 5
inode 260 offset 487424 root 258
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 259653632 /mnt/scratch
inode 260 offset 921600 root 258
inode 260 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 244137984 /mnt/scratch
inode 260 offset 1056768 root 258
inode 260 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 245899264 /mnt/scratch
inode 260 offset 1118208 root 258
inode 260 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 264396800 /mnt/scratch
inode 260 offset 1314816 root 258
inode 260 offset 1314816 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 278507520 /mnt/scratch
inode 260 offset 1351680 root 258
inode 260 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 252260352 /mnt/scratch
inode 260 offset 1445888 root 258
inode 260 offset 1445888 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 292311040 /mnt/scratch
inode 260 offset 1507328 root 258
inode 260 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d13/f31
260
# /bin/btrfs inspect-internal logical-resolve -P 292315136 /mnt/scratch
inode 260 offset 1814528 root 258
inode 260 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f31
/mnt/scratch/snap1/p0/df/d13/d17/d20/f50
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517705242
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f15e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f15e is 655360 (160 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      154..     159:      72139..     72144:      6:        154: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f15e: 1 extent found
after filter: 295481344#24576#630784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f15e
529
# /bin/btrfs inspect-internal logical-resolve -P 295481344 /mnt/scratch
inode 529 offset 630784 root 258
inode 529 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 529 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f15e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f is 1056768 (258 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      242..     257:      72551..     72566:     16:        242: last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f: 1 extent found
after filter: 297168896#65536#991232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f
509
# /bin/btrfs inspect-internal logical-resolve -P 297168896 /mnt/scratch
inode 509 offset 991232 root 258
inode 509 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/f1b1
/mnt/scratch/snap1/p0/df/d1e/ded/d12d/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc is 2818048 (688 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       7:       5242..      5249:      8:             shared
   1:      124..     152:      69999..     70027:     29:       5366: shared
   2:      192..     218:      73561..     73587:     27:      70067: shared
   3:      219..     230:      72909..     72920:     12:      73588: shared
   4:      233..     264:      71377..     71408:     32:      72923: shared
   5:      316..     316:      71409..     71409:      1:             shared
   6:      451..     470:      70770..     70789:     20:      71544: unwritten,shared
   7:      554..     559:      71410..     71415:      6:      70873: shared
   8:      560..     560:      73850..     73850:      1:      71416: shared
   9:      676..     687:      73798..     73809:     12:      73966: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc: 9 extents found
after filter: 21471232#32768#0#shared 286715904#118784#507904#shared 301305856#110592#786432#shared 298635264#49152#897024#shared 292360192#131072#954368#shared 292491264#4096#1294336#shared 289873920#81920#1847296#unwritten,shared 292495360#24576#2269184#shared 302489600#4096#2293760#shared 302276608#49152#2768896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 21471232 /mnt/scratch
inode 269 offset 0 root 258
inode 269 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 286715904 /mnt/scratch
inode 269 offset 507904 root 258
inode 269 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 301305856 /mnt/scratch
inode 269 offset 786432 root 258
inode 269 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 298635264 /mnt/scratch
inode 269 offset 897024 root 258
inode 269 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 292360192 /mnt/scratch
inode 269 offset 954368 root 258
inode 269 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 292491264 /mnt/scratch
inode 269 offset 1294336 root 258
inode 269 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 292495360 /mnt/scratch
inode 269 offset 2269184 root 258
inode 269 offset 2269184 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 302489600 /mnt/scratch
inode 269 offset 2293760 root 258
inode 269 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
269
# /bin/btrfs inspect-internal logical-resolve -P 302276608 /mnt/scratch
inode 269 offset 2768896 root 258
inode 269 offset 2768896 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f16
/mnt/scratch/snap1/p0/df/d4e/d63/db1/ffc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75 is 3067904 (749 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       8:      63444..     63450:      7:          2: shared
   1:      139..     149:      63451..     63461:     11:             shared
   2:      150..     170:      61981..     62001:     21:      63462: unwritten,shared
   3:      171..     183:      70520..     70532:     13:      62002: shared
   4:      199..     210:      62030..     62041:     12:      70548: unwritten,shared
   5:      211..     226:      65580..     65595:     16:      62042: shared
   6:      227..     277:      62058..     62108:     51:      65596: unwritten,shared
   7:      278..     306:      64582..     64610:     29:      62109: shared
   8:      307..     353:      62138..     62184:     47:      64611: unwritten,shared
   9:      354..     384:      61948..     61978:     31:      62185: shared
  10:      385..     396:      62185..     62196:     12:      61979: unwritten,shared
  11:      440..     517:      62435..     62512:     78:      62240: unwritten,shared
  12:      518..     523:      62513..     62518:      6:             shared
  13:      524..     524:      67764..     67764:      1:      62519: shared
  14:      525..     528:      62520..     62523:      4:      67765: unwritten,shared
  15:      543..     558:      67765..     67780:     16:      62538: shared
  16:      559..     559:      72239..     72239:      1:      67781: shared
  17:      747..     748:      71982..     71983:      2:      72427: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75: 16 extents found
after filter: 259866624#28672#8192#shared 259895296#45056#569344#shared 253874176#86016#614400#unwritten,shared 288849920#53248#700416#shared 254074880#49152#815104#unwritten,shared 268615680#65536#864256#shared 254189568#208896#929792#unwritten,shared 264527872#118784#1138688#shared 254517248#192512#1257472#unwritten,shared 253739008#126976#1449984#shared 254709760#49152#1576960#unwritten,shared 255733760#319488#1802240#unwritten,shared 256053248#24576#2121728#shared 277561344#4096#2146304#shared 256081920#16384#2150400#unwritten,shared 277565440#65536#2224128#shared 295890944#4096#2289664#shared 294838272#8192#3059712#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 259866624 /mnt/scratch
inode 348 offset 8192 root 258
inode 348 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 259895296 /mnt/scratch
inode 348 offset 569344 root 258
inode 348 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 253874176 /mnt/scratch
inode 348 offset 614400 root 258
inode 348 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 288849920 /mnt/scratch
inode 348 offset 700416 root 258
inode 348 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 254074880 /mnt/scratch
inode 277 offset 266240 root 258
inode 348 offset 815104 root 258
inode 277 offset 266240 root 5
inode 348 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 268615680 /mnt/scratch
inode 348 offset 864256 root 258
inode 348 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 254189568 /mnt/scratch
inode 348 offset 929792 root 258
inode 348 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 264527872 /mnt/scratch
inode 348 offset 1138688 root 258
inode 348 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 254517248 /mnt/scratch
inode 348 offset 1257472 root 258
inode 348 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 253739008 /mnt/scratch
inode 348 offset 1449984 root 258
inode 348 offset 1449984 root 5
inode 359 offset 1593344 root 258
inode 359 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 254709760 /mnt/scratch
inode 348 offset 1576960 root 258
inode 348 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 255733760 /mnt/scratch
inode 348 offset 1802240 root 258
inode 348 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 256053248 /mnt/scratch
inode 348 offset 2121728 root 258
inode 348 offset 2121728 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 277561344 /mnt/scratch
inode 348 offset 2146304 root 258
inode 348 offset 2146304 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 256081920 /mnt/scratch
inode 348 offset 2150400 root 258
inode 348 offset 2150400 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 277565440 /mnt/scratch
inode 348 offset 2224128 root 258
inode 348 offset 2224128 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 295890944 /mnt/scratch
inode 348 offset 2289664 root 258
inode 348 offset 2289664 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
348
# /bin/btrfs inspect-internal logical-resolve -P 294838272 /mnt/scratch
inode 348 offset 3059712 root 258
inode 348 offset 3059712 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/f75
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b is 876544 (214 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..      58:      71874..     71881:      8:         51: shared
   1:      199..     213:      72951..     72965:     15:      72022: last,shared,eof
/mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b: 2 extents found
after filter: 294395904#32768#208896#shared 298807296#61440#815104#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b
seed = 1518204791
506
# /bin/btrfs inspect-internal logical-resolve -P 294395904 /mnt/scratch
inode 506 offset 208896 root 258
inode 506 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b
506
# /bin/btrfs inspect-internal logical-resolve -P 298807296 /mnt/scratch
inode 506 offset 815104 root 258
inode 506 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/dac/f13b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98 is 978348 (239 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      47:      65558..     65579:     22:         26: shared
   1:       86..     113:      67156..     67183:     28:      65618: shared
   2:      117..     128:      65351..     65362:     12:      67187: shared
   3:      129..     137:      70909..     70917:      9:      65363: shared
   4:      138..     147:      65372..     65381:     10:      70918: shared
   5:      157..     176:      70770..     70789:     20:      65391: unwritten,shared
   6:      210..     235:      73732..     73757:     26:      70823: shared
   7:      236..     237:      63544..     63545:      2:      73758: shared
   8:      238..     238:      64628..     64628:      1:      63546: shared,eof
   9:      491..     663:      64278..     64450:    173:      64881: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98: 10 extents found
after filter: 268525568#90112#106496#shared 275070976#114688#352256#shared 267677696#49152#479232#shared 290443264#36864#528384#shared 267763712#40960#565248#shared 289873920#81920#643072#unwritten,shared 302006272#106496#860160#shared 260276224#8192#966656#shared 264716288#4096#974848#shared,eof 263282688#708608#2011136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 268525568 /mnt/scratch
inode 378 offset 106496 root 258
inode 378 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 275070976 /mnt/scratch
inode 378 offset 352256 root 258
inode 378 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 267677696 /mnt/scratch
inode 378 offset 479232 root 258
inode 378 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 290443264 /mnt/scratch
inode 378 offset 528384 root 258
inode 378 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 267763712 /mnt/scratch
inode 378 offset 565248 root 258
inode 378 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 302006272 /mnt/scratch
inode 378 offset 860160 root 258
inode 378 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 260276224 /mnt/scratch
inode 378 offset 966656 root 258
inode 378 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 264716288 /mnt/scratch
inode 378 offset 974848 root 258
inode 378 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
378
# /bin/btrfs inspect-internal logical-resolve -P 263282688 /mnt/scratch
inode 378 offset 2011136 root 258
inode 378 offset 2011136 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/f166
/mnt/scratch/snap1/p0/df/d4e/d63/d5a/d93/f98
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b is 1150145 (281 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       6:      70770..     70773:      4:          3: unwritten,shared
   1:       22..      22:      70789..     70789:      1:             unwritten,shared
   2:       23..      26:      70786..     70789:      4:      70790: unwritten,shared
   3:       48..      57:      70770..     70779:     10:      70811: unwritten,shared
   4:       88..      88:      70789..     70789:      1:      70810: unwritten,shared
   5:       92..      96:      71976..     71980:      5:      70793: shared
   6:       97..     127:      73601..     73631:     31:      71981: shared
   7:      190..     215:      70281..     70306:     26:      73694: shared
   8:      249..     249:      71288..     71288:      1:      70340: shared
   9:      250..     265:      71257..     71272:     16:      71289: shared
  10:      268..     279:      71275..     71286:     12:             shared
  11:      280..     280:      72375..     72375:      1:      71287: shared,eof
  12:      490..     592:      72036..     72138:    103:      72585: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b: 11 extents found
after filter: 289873920#16384#12288#unwritten,shared 289951744#4096#90112#unwritten,shared 289939456#16384#94208#unwritten,shared 289873920#40960#196608#unwritten,shared 289951744#4096#360448#unwritten,shared 294813696#20480#376832#shared 301469696#126976#397312#shared 287870976#106496#778240#shared 291995648#4096#1019904#shared 291868672#65536#1024000#shared 291942400#49152#1097728#shared 296448000#4096#1146880#shared,eof 295059456#421888#2007040#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 289951744 /mnt/scratch
inode 514 offset 90112 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 1003520 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 737280 root 5
inode 483 offset 1003520 root 5
inode 361 offset 880640 root 258
inode 359 offset 2621440 root 258
inode 361 offset 880640 root 5
inode 359 offset 2621440 root 5
inode 363 offset 258048 root 5
inode 363 offset 634880 root 5
inode 363 offset 634880 root 5
inode 365 offset 1445888 root 5
inode 492 offset 368640 root 5
inode 492 offset 811008 root 5
inode 492 offset 811008 root 5
inode 350 offset 905216 root 5
inode 339 offset 364544 root 5
inode 391 offset 598016 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 118784 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 391 offset 98304 root 5
inode 391 offset 598016 root 5
inode 266 offset 516096 root 258
inode 263 offset 1302528 root 258
inode 263 offset 724992 root 258
inode 263 offset 1302528 root 258
inode 266 offset 516096 root 5
inode 263 offset 1302528 root 5
inode 263 offset 724992 root 5
inode 263 offset 1302528 root 5
inode 278 offset 6139904 root 5
inode 278 offset 5419008 root 5
inode 278 offset 6139904 root 5
inode 404 offset 516096 root 5
inode 399 offset 638976 root 5
inode 408 offset 245760 root 5
inode 383 offset 2899968 root 5
inode 386 offset 782336 root 5
inode 475 offset 122880 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 309 offset 516096 root 258
inode 309 offset 516096 root 5
inode 356 offset 2568192 root 5
inode 356 offset 2985984 root 5
inode 356 offset 2985984 root 5
inode 288 offset 139264 root 5
inode 269 offset 1925120 root 5
inode 336 offset 548864 root 5
inode 371 offset 360448 root 5
inode 378 offset 720896 root 5
inode 496 offset 487424 root 5
inode 496 offset 487424 root 5
inode 435 offset 1171456 root 5
inode 310 offset 1961984 root 5
inode 439 offset 143360 root 5
inode 421 offset 454656 root 5
inode 356 offset 2568192 root 258
inode 356 offset 2985984 root 258
inode 356 offset 2985984 root 258
inode 408 offset 245760 root 258
inode 399 offset 638976 root 258
inode 404 offset 516096 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 288 offset 139264 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 483 offset 737280 root 258
inode 483 offset 1003520 root 258
inode 483 offset 1003520 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 598016 root 258
inode 388 offset 118784 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 98304 root 258
inode 391 offset 598016 root 258
inode 278 offset 5419008 root 258
inode 278 offset 6139904 root 258
inode 278 offset 6139904 root 258
inode 475 offset 122880 root 258
inode 492 offset 811008 root 258
inode 492 offset 368640 root 258
inode 492 offset 811008 root 258
inode 365 offset 1445888 root 258
inode 363 offset 634880 root 258
inode 363 offset 258048 root 258
inode 363 offset 634880 root 258
inode 269 offset 1925120 root 258
inode 336 offset 548864 root 258
inode 386 offset 782336 root 258
inode 383 offset 2899968 root 258
inode 371 offset 360448 root 258
inode 378 offset 720896 root 258
inode 496 offset 487424 root 258
inode 496 offset 487424 root 258
inode 339 offset 364544 root 258
inode 350 offset 905216 root 258
inode 435 offset 1171456 root 258
inode 310 offset 1961984 root 258
inode 439 offset 143360 root 258
inode 421 offset 454656 root 258
inode 514 offset 90112 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 289939456 /mnt/scratch
inode 514 offset 77824 root 5
inode 479 offset 94208 root 5
inode 483 offset 991232 root 5
inode 479 offset 94208 root 5
inode 483 offset 724992 root 5
inode 483 offset 991232 root 5
inode 361 offset 868352 root 258
inode 361 offset 868352 root 5
inode 363 offset 245760 root 5
inode 363 offset 622592 root 5
inode 363 offset 622592 root 5
inode 365 offset 1433600 root 5
inode 492 offset 356352 root 5
inode 492 offset 798720 root 5
inode 492 offset 798720 root 5
inode 350 offset 892928 root 5
inode 339 offset 352256 root 5
inode 391 offset 585728 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 388 offset 106496 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 391 offset 86016 root 5
inode 391 offset 585728 root 5
inode 266 offset 503808 root 258
inode 263 offset 1290240 root 258
inode 263 offset 712704 root 258
inode 263 offset 1290240 root 258
inode 266 offset 503808 root 5
inode 263 offset 1290240 root 5
inode 263 offset 712704 root 5
inode 263 offset 1290240 root 5
inode 278 offset 6127616 root 5
inode 278 offset 5406720 root 5
inode 278 offset 6127616 root 5
inode 404 offset 503808 root 5
inode 399 offset 626688 root 5
inode 408 offset 233472 root 5
inode 383 offset 2887680 root 5
inode 386 offset 770048 root 5
inode 475 offset 110592 root 5
inode 301 offset 344064 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 301 offset 344064 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 309 offset 503808 root 258
inode 309 offset 503808 root 5
inode 356 offset 2555904 root 5
inode 356 offset 2973696 root 5
inode 356 offset 2973696 root 5
inode 288 offset 126976 root 5
inode 269 offset 1912832 root 5
inode 336 offset 536576 root 5
inode 371 offset 348160 root 5
inode 378 offset 708608 root 5
inode 496 offset 475136 root 5
inode 496 offset 475136 root 5
inode 435 offset 1159168 root 5
inode 310 offset 1949696 root 5
inode 439 offset 131072 root 5
inode 421 offset 442368 root 5
inode 356 offset 2555904 root 258
inode 356 offset 2973696 root 258
inode 356 offset 2973696 root 258
inode 408 offset 233472 root 258
inode 399 offset 626688 root 258
inode 404 offset 503808 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 301 offset 344064 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 301 offset 344064 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 288 offset 126976 root 258
inode 479 offset 94208 root 258
inode 479 offset 94208 root 258
inode 483 offset 724992 root 258
inode 483 offset 991232 root 258
inode 483 offset 991232 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 391 offset 585728 root 258
inode 388 offset 106496 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 391 offset 86016 root 258
inode 391 offset 585728 root 258
inode 278 offset 5406720 root 258
inode 278 offset 6127616 root 258
inode 278 offset 6127616 root 258
inode 475 offset 110592 root 258
inode 492 offset 798720 root 258
inode 492 offset 356352 root 258
inode 492 offset 798720 root 258
inode 365 offset 1433600 root 258
inode 363 offset 622592 root 258
inode 363 offset 245760 root 258
inode 363 offset 622592 root 258
inode 269 offset 1912832 root 258
inode 336 offset 536576 root 258
inode 386 offset 770048 root 258
inode 383 offset 2887680 root 258
inode 371 offset 348160 root 258
inode 378 offset 708608 root 258
inode 496 offset 475136 root 258
inode 496 offset 475136 root 258
inode 339 offset 352256 root 258
inode 350 offset 892928 root 258
inode 435 offset 1159168 root 258
inode 310 offset 1949696 root 258
inode 439 offset 131072 root 258
inode 421 offset 442368 root 258
inode 514 offset 77824 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 289951744 /mnt/scratch
inode 514 offset 90112 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 1003520 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 737280 root 5
inode 483 offset 1003520 root 5
inode 361 offset 880640 root 258
inode 359 offset 2621440 root 258
inode 361 offset 880640 root 5
inode 359 offset 2621440 root 5
inode 363 offset 258048 root 5
inode 363 offset 634880 root 5
inode 363 offset 634880 root 5
inode 365 offset 1445888 root 5
inode 492 offset 368640 root 5
inode 492 offset 811008 root 5
inode 492 offset 811008 root 5
inode 350 offset 905216 root 5
inode 339 offset 364544 root 5
inode 391 offset 598016 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 118784 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 391 offset 98304 root 5
inode 391 offset 598016 root 5
inode 266 offset 516096 root 258
inode 263 offset 1302528 root 258
inode 263 offset 724992 root 258
inode 263 offset 1302528 root 258
inode 266 offset 516096 root 5
inode 263 offset 1302528 root 5
inode 263 offset 724992 root 5
inode 263 offset 1302528 root 5
inode 278 offset 6139904 root 5
inode 278 offset 5419008 root 5
inode 278 offset 6139904 root 5
inode 404 offset 516096 root 5
inode 399 offset 638976 root 5
inode 408 offset 245760 root 5
inode 383 offset 2899968 root 5
inode 386 offset 782336 root 5
inode 475 offset 122880 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 309 offset 516096 root 258
inode 309 offset 516096 root 5
inode 356 offset 2568192 root 5
inode 356 offset 2985984 root 5
inode 356 offset 2985984 root 5
inode 288 offset 139264 root 5
inode 269 offset 1925120 root 5
inode 336 offset 548864 root 5
inode 371 offset 360448 root 5
inode 378 offset 720896 root 5
inode 496 offset 487424 root 5
inode 496 offset 487424 root 5
inode 435 offset 1171456 root 5
inode 310 offset 1961984 root 5
inode 439 offset 143360 root 5
inode 421 offset 454656 root 5
inode 356 offset 2568192 root 258
inode 356 offset 2985984 root 258
inode 356 offset 2985984 root 258
inode 408 offset 245760 root 258
inode 399 offset 638976 root 258
inode 404 offset 516096 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 288 offset 139264 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 483 offset 737280 root 258
inode 483 offset 1003520 root 258
inode 483 offset 1003520 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 598016 root 258
inode 388 offset 118784 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 98304 root 258
inode 391 offset 598016 root 258
inode 278 offset 5419008 root 258
inode 278 offset 6139904 root 258
inode 278 offset 6139904 root 258
inode 475 offset 122880 root 258
inode 492 offset 811008 root 258
inode 492 offset 368640 root 258
inode 492 offset 811008 root 258
inode 365 offset 1445888 root 258
inode 363 offset 634880 root 258
inode 363 offset 258048 root 258
inode 363 offset 634880 root 258
inode 269 offset 1925120 root 258
inode 336 offset 548864 root 258
inode 386 offset 782336 root 258
inode 383 offset 2899968 root 258
inode 371 offset 360448 root 258
inode 378 offset 720896 root 258
inode 496 offset 487424 root 258
inode 496 offset 487424 root 258
inode 339 offset 364544 root 258
inode 350 offset 905216 root 258
inode 435 offset 1171456 root 258
inode 310 offset 1961984 root 258
inode 439 offset 143360 root 258
inode 421 offset 454656 root 258
inode 514 offset 90112 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 294813696 /mnt/scratch
inode 479 offset 376832 root 258
inode 479 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 301469696 /mnt/scratch
inode 479 offset 397312 root 258
inode 479 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 287870976 /mnt/scratch
inode 462 offset 196608 root 258
inode 479 offset 778240 root 258
inode 462 offset 196608 root 5
inode 479 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 291995648 /mnt/scratch
inode 479 offset 1019904 root 258
inode 479 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 291868672 /mnt/scratch
inode 479 offset 1024000 root 258
inode 479 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 291942400 /mnt/scratch
inode 479 offset 1097728 root 258
inode 479 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 296448000 /mnt/scratch
inode 479 offset 1146880 root 258
inode 479 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
479
# /bin/btrfs inspect-internal logical-resolve -P 295059456 /mnt/scratch
inode 479 offset 2007040 root 258
inode 479 offset 2007040 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137 is 2961162 (723 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      77:      61122..     61145:     24:         54: shared
   1:       81..      82:      59303..     59304:      2:      61149: unwritten,shared
   2:       84..     116:      70627..     70659:     33:      59306: shared
   3:      174..     185:      59396..     59407:     12:      70717: unwritten,shared
   4:      186..     211:      59210..     59235:     26:      59408: shared
   5:      212..     212:      59302..     59302:      1:      59236: shared
   6:      213..     226:      59408..     59421:     14:      59303: unwritten,shared
   7:      227..     227:      59422..     59422:      1:             shared
   8:      228..     230:      59802..     59804:      3:      59423: shared
   9:      231..     259:      59425..     59453:     29:      59805: unwritten,shared
  10:      285..     290:      59479..     59484:      6:             unwritten,shared
  11:      309..     309:      59503..     59503:      1:             unwritten,shared
  12:      372..     397:      69210..     69235:     26:      59566: shared
  13:      398..     398:      72321..     72321:      1:      69236: shared
  14:      526..     547:      72322..     72343:     22:             shared
  15:      548..     548:      73495..     73495:      1:      72344: shared
  16:      592..     601:      73496..     73505:     10:             shared
  17:      650..     711:      70941..     71002:     62:      73554: unwritten,shared
  18:      712..     722:      71003..     71013:     11:             shared,eof
  19:      723..     768:      71014..     71059:     46:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137: 13 extents found
after filter: 250355712#98304#221184#shared 242905088#8192#331776#unwritten,shared 289288192#135168#344064#shared 243286016#49152#712704#unwritten,shared 242524160#106496#761856#shared 242900992#4096#868352#shared 243335168#57344#872448#unwritten,shared 243392512#4096#929792#shared 244948992#12288#933888#shared 243404800#118784#946176#unwritten,shared 243625984#24576#1167360#unwritten,shared 243724288#4096#1265664#unwritten,shared 283484160#106496#1523712#shared 296226816#4096#1630208#shared 296230912#90112#2154496#shared 301035520#4096#2244608#shared 301039616#40960#2424832#shared 290574336#253952#2662400#unwritten,shared 290828288#45056#2916352#shared,eof 290873344#188416#2961408#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 250355712 /mnt/scratch
inode 300 offset 221184 root 258
inode 300 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 242905088 /mnt/scratch
inode 300 offset 331776 root 258
inode 300 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 289288192 /mnt/scratch
inode 300 offset 344064 root 258
inode 300 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243286016 /mnt/scratch
inode 300 offset 712704 root 258
inode 278 offset 1187840 root 258
inode 300 offset 712704 root 5
inode 278 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 242524160 /mnt/scratch
inode 300 offset 761856 root 258
inode 300 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 242900992 /mnt/scratch
inode 300 offset 868352 root 258
inode 300 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243335168 /mnt/scratch
inode 300 offset 872448 root 258
inode 300 offset 872448 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243392512 /mnt/scratch
inode 300 offset 929792 root 258
inode 300 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517632796
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 244948992 /mnt/scratch
inode 300 offset 933888 root 258
inode 300 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243404800 /mnt/scratch
inode 300 offset 946176 root 258
inode 300 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243625984 /mnt/scratch
inode 300 offset 1167360 root 258
inode 300 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 243724288 /mnt/scratch
inode 300 offset 1265664 root 258
inode 300 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 283484160 /mnt/scratch
inode 300 offset 1523712 root 258
inode 300 offset 1523712 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 296226816 /mnt/scratch
inode 300 offset 1630208 root 258
inode 300 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 296230912 /mnt/scratch
inode 300 offset 2154496 root 258
inode 300 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 301035520 /mnt/scratch
inode 300 offset 2244608 root 258
inode 300 offset 2244608 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 301039616 /mnt/scratch
inode 300 offset 2424832 root 258
inode 300 offset 2424832 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 290574336 /mnt/scratch
inode 300 offset 2662400 root 258
inode 300 offset 2662400 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 290828288 /mnt/scratch
inode 300 offset 2916352 root 258
inode 300 offset 2916352 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
300
# /bin/btrfs inspect-internal logical-resolve -P 290873344 /mnt/scratch
inode 300 offset 2961408 root 258
inode 300 offset 2961408 root 5
# /bin/btrfs inspect-internal inode-resolve 300 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f137
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c is 786432 (192 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      149..     170:      73525..     73546:     22:        149: shared
   1:      186..     187:      65610..     65611:      2:      73562: last,unwritten,shared
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c: 2 extents found
after filter: 301158400#90112#610304#shared 268738560#8192#761856#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c
480
# /bin/btrfs inspect-internal logical-resolve -P 301158400 /mnt/scratch
inode 480 offset 610304 root 258
inode 480 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c
480
# /bin/btrfs inspect-internal logical-resolve -P 268738560 /mnt/scratch
inode 480 offset 761856 root 258
inode 480 offset 761856 root 5
inode 261 offset 2187264 root 258
inode 261 offset 2187264 root 5
inode 266 offset 323584 root 258
inode 266 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/d1c6/dde/f11c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc is 1046903 (256 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      13:      71358..     71364:      7:          7: shared
   1:      119..     128:      70770..     70779:     10:      71470: unwritten,shared
   2:      191..     191:      72567..     72567:      1:      70842: shared
   3:      223..     240:      72568..     72585:     18:             shared
   4:      241..     241:      73488..     73488:      1:      72586: shared
   5:      250..     255:      73489..     73494:      6:             last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc: 4 extents found
after filter: 292282368#28672#28672#shared 289873920#40960#487424#unwritten,shared 297234432#4096#782336#shared 297238528#73728#913408#shared 301006848#4096#987136#shared 301010944#24576#1024000#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 292282368 /mnt/scratch
inode 431 offset 28672 root 258
inode 431 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 297234432 /mnt/scratch
inode 431 offset 782336 root 258
inode 431 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 297238528 /mnt/scratch
inode 431 offset 913408 root 258
inode 431 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 301006848 /mnt/scratch
inode 431 offset 987136 root 258
inode 431 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
431
# /bin/btrfs inspect-internal logical-resolve -P 301010944 /mnt/scratch
inode 431 offset 1024000 root 258
inode 431 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/fdc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d1e/d2e/f150
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d1e/d2e/f150 is 2133426 (521 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       30..      30:      68964..     68964:      1:         30: unwritten,shared
   1:       35..      42:      68969..     68976:      8:             unwritten,shared
   2:       43..      43:      68977..     68977:      1:             shared
   3:       83..      90:      70782..     70789:      8:      69017: unwritten,shared
   4:      146..     155:      70481..     70490:     10:      70845: shared
   5:      179..     198:      70770..     70789:     20:      70514: unwritten,shared
   6:      223..     238:      70491..     70506:     16:      70814: shared
   7:      239..     239:      71917..     71917:      1:      70507: shared
   8:      457..     483:      71847..     71873:     27:      72135: last,shared
/mnt/scratch/snap1/p0/df/d1e/d2e/f150: 7 extents found
after filter: 282476544#4096#122880#unwritten,shared 282497024#32768#143360#unwritten,shared 282529792#4096#176128#shared 289923072#32768#339968#unwritten,shared 288690176#40960#598016#shared 289873920#81920#733184#unwritten,shared 288731136#65536#913408#shared 294572032#4096#978944#shared 294285312#110592#1871872#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 282476544 /mnt/scratch
inode 492 offset 122880 root 258
inode 492 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 282497024 /mnt/scratch
inode 492 offset 143360 root 258
inode 492 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 282529792 /mnt/scratch
inode 492 offset 176128 root 258
inode 492 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 289923072 /mnt/scratch
inode 514 offset 61440 root 5
inode 363 offset 229376 root 5
inode 363 offset 606208 root 5
inode 363 offset 606208 root 5
inode 365 offset 1417216 root 5
inode 492 offset 339968 root 5
inode 492 offset 782336 root 5
inode 492 offset 782336 root 5
inode 483 offset 974848 root 5
inode 483 offset 708608 root 5
inode 483 offset 974848 root 5
inode 350 offset 876544 root 5
inode 339 offset 335872 root 5
inode 391 offset 569344 root 5
inode 388 offset 339968 root 5
inode 388 offset 339968 root 5
inode 388 offset 90112 root 5
inode 388 offset 339968 root 5
inode 391 offset 69632 root 5
inode 391 offset 569344 root 5
inode 266 offset 487424 root 258
inode 263 offset 1273856 root 258
inode 263 offset 696320 root 258
inode 263 offset 1273856 root 258
inode 266 offset 487424 root 5
inode 263 offset 1273856 root 5
inode 263 offset 696320 root 5
inode 263 offset 1273856 root 5
inode 278 offset 6111232 root 5
inode 278 offset 5390336 root 5
inode 278 offset 6111232 root 5
inode 404 offset 487424 root 5
inode 399 offset 610304 root 5
inode 383 offset 2871296 root 5
inode 386 offset 753664 root 5
inode 475 offset 94208 root 5
inode 301 offset 327680 root 5
inode 301 offset 495616 root 5
inode 301 offset 585728 root 5
inode 301 offset 495616 root 5
inode 301 offset 585728 root 5
inode 301 offset 327680 root 5
inode 301 offset 495616 root 5
inode 301 offset 585728 root 5
inode 309 offset 487424 root 258
inode 309 offset 487424 root 5
inode 356 offset 2539520 root 5
inode 356 offset 2957312 root 5
inode 356 offset 2957312 root 5
inode 288 offset 110592 root 5
inode 269 offset 1896448 root 5
inode 336 offset 520192 root 5
inode 371 offset 331776 root 5
inode 378 offset 692224 root 5
inode 496 offset 458752 root 5
inode 496 offset 458752 root 5
inode 435 offset 1142784 root 5
inode 310 offset 1933312 root 5
inode 421 offset 425984 root 5
inode 356 offset 2539520 root 258
inode 356 offset 2957312 root 258
inode 356 offset 2957312 root 258
inode 301 offset 495616 root 258
inode 301 offset 585728 root 258
inode 301 offset 327680 root 258
inode 301 offset 495616 root 258
inode 301 offset 585728 root 258
inode 301 offset 327680 root 258
inode 301 offset 495616 root 258
inode 301 offset 585728 root 258
inode 288 offset 110592 root 258
inode 388 offset 339968 root 258
inode 388 offset 339968 root 258
inode 391 offset 569344 root 258
inode 388 offset 90112 root 258
inode 388 offset 339968 root 258
inode 391 offset 69632 root 258
inode 391 offset 569344 root 258
inode 278 offset 5390336 root 258
inode 278 offset 6111232 root 258
inode 278 offset 6111232 root 258
inode 475 offset 94208 root 258
inode 492 offset 782336 root 258
inode 492 offset 339968 root 258
inode 492 offset 782336 root 258
inode 399 offset 610304 root 258
inode 404 offset 487424 root 258
inode 365 offset 1417216 root 258
inode 363 offset 606208 root 258
inode 363 offset 229376 root 258
inode 363 offset 606208 root 258
inode 269 offset 1896448 root 258
inode 336 offset 520192 root 258
inode 386 offset 753664 root 258
inode 383 offset 2871296 root 258
inode 371 offset 331776 root 258
inode 378 offset 692224 root 258
inode 496 offset 458752 root 258
inode 496 offset 458752 root 258
inode 339 offset 335872 root 258
inode 350 offset 876544 root 258
inode 435 offset 1142784 root 258
inode 310 offset 1933312 root 258
inode 483 offset 708608 root 258
inode 483 offset 974848 root 258
inode 483 offset 974848 root 258
inode 421 offset 425984 root 258
inode 514 offset 61440 root 258
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 288690176 /mnt/scratch
inode 492 offset 598016 root 258
inode 492 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 288731136 /mnt/scratch
inode 492 offset 913408 root 258
inode 492 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 294572032 /mnt/scratch
inode 492 offset 978944 root 258
inode 492 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# stat -c %i /mnt/scratch/snap1/p0/df/d1e/d2e/f150
492
# /bin/btrfs inspect-internal logical-resolve -P 294285312 /mnt/scratch
inode 492 offset 1871872 root 258
inode 492 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 492 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d1e/d2e/f150
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d1bf/f12c is 606208 (148 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       89..      96:      70770..     70777:      8:         89: unwritten,shared
   1:       97..     104:      73260..     73267:      8:      70778: shared
   2:      109..     119:      70779..     70789:     11:      73272: last,unwritten,shared
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c: 3 extents found
after filter: 289873920#32768#364544#unwritten,shared 300072960#32768#397312#shared 289910784#45056#446464#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
496
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
496
# /bin/btrfs inspect-internal logical-resolve -P 300072960 /mnt/scratch
inode 496 offset 397312 root 258
inode 496 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
background rm
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
496
# /bin/btrfs inspect-internal logical-resolve -P 289910784 /mnt/scratch
inode 514 offset 49152 root 5
inode 479 offset 233472 root 5
inode 483 offset 962560 root 5
inode 479 offset 233472 root 5
inode 483 offset 696320 root 5
inode 483 offset 962560 root 5
inode 363 offset 217088 root 5
inode 363 offset 593920 root 5
inode 363 offset 593920 root 5
inode 365 offset 1404928 root 5
inode 492 offset 770048 root 5
inode 492 offset 770048 root 5
inode 431 offset 524288 root 5
inode 435 offset 1130496 root 5
inode 350 offset 864256 root 5
inode 339 offset 323584 root 5
inode 391 offset 557056 root 5
inode 388 offset 327680 root 5
inode 388 offset 327680 root 5
inode 388 offset 77824 root 5
inode 388 offset 327680 root 5
inode 391 offset 57344 root 5
inode 391 offset 557056 root 5
inode 266 offset 475136 root 258
inode 263 offset 1261568 root 258
inode 263 offset 684032 root 258
inode 263 offset 1261568 root 258
inode 266 offset 475136 root 5
inode 263 offset 1261568 root 5
inode 263 offset 684032 root 5
inode 263 offset 1261568 root 5
inode 278 offset 6098944 root 5
inode 278 offset 5378048 root 5
inode 278 offset 6098944 root 5
inode 404 offset 475136 root 5
inode 399 offset 598016 root 5
inode 383 offset 2859008 root 5
inode 386 offset 741376 root 5
inode 475 offset 81920 root 5
inode 301 offset 315392 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 301 offset 315392 root 5
inode 301 offset 483328 root 5
inode 301 offset 573440 root 5
inode 309 offset 475136 root 258
inode 309 offset 475136 root 5
inode 356 offset 2527232 root 5
inode 356 offset 2945024 root 5
inode 356 offset 2945024 root 5
inode 288 offset 98304 root 5
inode 290 offset 1257472 root 5
inode 269 offset 1884160 root 5
inode 336 offset 507904 root 5
inode 371 offset 319488 root 5
inode 378 offset 679936 root 5
inode 496 offset 446464 root 5
inode 496 offset 446464 root 5
inode 310 offset 1921024 root 5
inode 421 offset 413696 root 5
inode 356 offset 2527232 root 258
inode 356 offset 2945024 root 258
inode 356 offset 2945024 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 301 offset 315392 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 301 offset 315392 root 258
inode 301 offset 483328 root 258
inode 301 offset 573440 root 258
inode 288 offset 98304 root 258
inode 290 offset 1257472 root 258
inode 479 offset 233472 root 258
inode 479 offset 233472 root 258
inode 483 offset 696320 root 258
inode 483 offset 962560 root 258
inode 483 offset 962560 root 258
inode 388 offset 327680 root 258
inode 388 offset 327680 root 258
inode 391 offset 557056 root 258
inode 388 offset 77824 root 258
inode 388 offset 327680 root 258
inode 391 offset 57344 root 258
inode 391 offset 557056 root 258
inode 278 offset 5378048 root 258
inode 278 offset 6098944 root 258
inode 278 offset 6098944 root 258
inode 475 offset 81920 root 258
inode 492 offset 770048 root 258
inode 492 offset 770048 root 258
inode 399 offset 598016 root 258
inode 404 offset 475136 root 258
inode 365 offset 1404928 root 258
inode 363 offset 593920 root 258
inode 363 offset 217088 root 258
inode 363 offset 593920 root 258
inode 269 offset 1884160 root 258
inode 336 offset 507904 root 258
inode 386 offset 741376 root 258
inode 383 offset 2859008 root 258
inode 371 offset 319488 root 258
inode 378 offset 679936 root 258
inode 496 offset 446464 root 258
inode 496 offset 446464 root 258
inode 339 offset 323584 root 258
inode 350 offset 864256 root 258
inode 435 offset 1130496 root 258
inode 431 offset 524288 root 258
inode 310 offset 1921024 root 258
inode 421 offset 413696 root 258
inode 514 offset 49152 root 258
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d1bf/f12c
/mnt/scratch/snap1/p0/df/d4e/d63/db1/dbb/de6/d152/dc5/f196
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518050926
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/fa3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/fa3 is 1763772 (431 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      29:      70770..     70789:     20:         10: unwritten,shared
   1:       71..      90:      70770..     70789:     20:      70831: unwritten,shared
   2:       91..      97:      70783..     70789:      7:      70790: unwritten,shared
   3:      128..     133:      59389..     59394:      6:      70820: unwritten,shared
   4:      164..     181:      66132..     66149:     18:      59425: unwritten,shared
   5:      182..     204:      66150..     66172:     23:             shared
   6:      205..     228:      66173..     66196:     24:             unwritten,shared
   7:      232..     233:      66200..     66201:      2:             last,unwritten,shared
/mnt/scratch/snap1/p0/df/d13/d17/fa3: 5 extents found
after filter: 289873920#81920#40960#unwritten,shared 289873920#81920#290816#unwritten,shared 289927168#28672#372736#unwritten,shared 243257344#24576#524288#unwritten,shared 270876672#73728#671744#unwritten,shared 270950400#94208#745472#shared 271044608#98304#839680#unwritten,shared 271155200#8192#950272#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 289927168 /mnt/scratch
inode 514 offset 65536 root 5
inode 510 offset 94208 root 5
inode 363 offset 233472 root 5
inode 363 offset 610304 root 5
inode 363 offset 610304 root 5
inode 365 offset 1421312 root 5
inode 492 offset 344064 root 5
inode 492 offset 786432 root 5
inode 492 offset 786432 root 5
inode 483 offset 978944 root 5
inode 483 offset 712704 root 5
inode 483 offset 978944 root 5
inode 350 offset 880640 root 5
inode 339 offset 339968 root 5
inode 391 offset 573440 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 388 offset 94208 root 5
inode 388 offset 344064 root 5
inode 388 offset 372736 root 5
inode 391 offset 73728 root 5
inode 391 offset 573440 root 5
inode 266 offset 491520 root 258
inode 263 offset 1277952 root 258
inode 263 offset 700416 root 258
inode 263 offset 1277952 root 258
inode 266 offset 491520 root 5
inode 263 offset 1277952 root 5
inode 263 offset 700416 root 5
inode 263 offset 1277952 root 5
inode 278 offset 6115328 root 5
inode 278 offset 5394432 root 5
inode 278 offset 6115328 root 5
inode 404 offset 491520 root 5
inode 399 offset 614400 root 5
inode 383 offset 2875392 root 5
inode 386 offset 757760 root 5
inode 475 offset 98304 root 5
inode 301 offset 331776 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 301 offset 331776 root 5
inode 301 offset 499712 root 5
inode 301 offset 589824 root 5
inode 309 offset 491520 root 258
inode 309 offset 491520 root 5
inode 356 offset 2543616 root 5
inode 356 offset 2961408 root 5
inode 356 offset 2961408 root 5
inode 288 offset 114688 root 5
inode 269 offset 1900544 root 5
inode 336 offset 524288 root 5
inode 371 offset 335872 root 5
inode 378 offset 696320 root 5
inode 496 offset 462848 root 5
inode 496 offset 462848 root 5
inode 435 offset 1146880 root 5
inode 310 offset 1937408 root 5
inode 421 offset 430080 root 5
inode 356 offset 2543616 root 258
inode 356 offset 2961408 root 258
inode 356 offset 2961408 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 301 offset 331776 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 301 offset 331776 root 258
inode 301 offset 499712 root 258
inode 301 offset 589824 root 258
inode 288 offset 114688 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 391 offset 573440 root 258
inode 388 offset 94208 root 258
inode 388 offset 344064 root 258
inode 388 offset 372736 root 258
inode 391 offset 73728 root 258
inode 391 offset 573440 root 258
inode 278 offset 5394432 root 258
inode 278 offset 6115328 root 258
inode 278 offset 6115328 root 258
inode 475 offset 98304 root 258
inode 492 offset 786432 root 258
inode 492 offset 344064 root 258
inode 492 offset 786432 root 258
inode 399 offset 614400 root 258
inode 404 offset 491520 root 258
inode 365 offset 1421312 root 258
inode 363 offset 610304 root 258
inode 363 offset 233472 root 258
inode 363 offset 610304 root 258
inode 269 offset 1900544 root 258
inode 336 offset 524288 root 258
inode 386 offset 757760 root 258
inode 383 offset 2875392 root 258
inode 371 offset 335872 root 258
inode 378 offset 696320 root 258
inode 496 offset 462848 root 258
inode 496 offset 462848 root 258
inode 339 offset 339968 root 258
inode 350 offset 880640 root 258
inode 435 offset 1146880 root 258
inode 510 offset 94208 root 258
inode 514 offset 65536 root 258
inode 310 offset 1937408 root 258
inode 483 offset 712704 root 258
inode 483 offset 978944 root 258
inode 483 offset 978944 root 258
inode 421 offset 430080 root 258
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 243257344 /mnt/scratch
inode 278 offset 1159168 root 258
inode 388 offset 524288 root 258
inode 278 offset 1159168 root 5
inode 388 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 270876672 /mnt/scratch
inode 388 offset 671744 root 258
inode 388 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 270950400 /mnt/scratch
inode 388 offset 745472 root 258
inode 388 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 271044608 /mnt/scratch
inode 388 offset 839680 root 258
inode 388 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 271155200 /mnt/scratch
inode 388 offset 950272 root 258
inode 388 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/fa3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138 is 3305488 (808 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      11:      63657..     63667:     11:          1: shared
   1:       24..      26:      63668..     63670:      3:             shared
   2:       27..      27:      71995..     71995:      1:      63671: shared
   3:       28..      31:      63672..     63675:      4:      71996: shared
   4:       32..      32:      66042..     66042:      1:      63676: shared
   5:      115..     134:      70770..     70789:     20:      66125: unwritten,shared
   6:      144..     155:      67124..     67135:     12:      70799: shared
   7:      156..     167:      60620..     60631:     12:      67136: shared
   8:      168..     191:      60632..     60655:     24:             unwritten,shared
   9:      195..     209:      60659..     60673:     15:             unwritten,shared
  10:      244..     274:      69167..     69197:     31:      60708: shared
  11:      529..     552:      70696..     70719:     24:      69452: shared
  12:      776..     807:      73851..     73882:     32:      70943: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138: 10 extents found
after filter: 260739072#45056#4096#shared 260784128#12288#98304#shared 294891520#4096#110592#shared 260800512#16384#114688#shared 270508032#4096#131072#shared 289873920#81920#471040#unwritten,shared 274939904#49152#589824#shared 248299520#49152#638976#shared 248348672#98304#688128#unwritten,shared 248459264#61440#798720#unwritten,shared 283308032#126976#999424#shared 289570816#98304#2166784#shared 302493696#131072#3178496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 260739072 /mnt/scratch
inode 336 offset 4096 root 258
inode 336 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 260784128 /mnt/scratch
inode 336 offset 98304 root 258
inode 336 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 294891520 /mnt/scratch
inode 336 offset 110592 root 258
inode 336 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 260800512 /mnt/scratch
inode 336 offset 114688 root 258
inode 336 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 270508032 /mnt/scratch
inode 336 offset 131072 root 258
inode 336 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 274939904 /mnt/scratch
inode 336 offset 589824 root 258
inode 336 offset 589824 root 5
inode 263 offset 733184 root 258
inode 263 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 248299520 /mnt/scratch
inode 336 offset 638976 root 258
inode 263 offset 782336 root 258
inode 263 offset 782336 root 5
inode 336 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 248348672 /mnt/scratch
inode 336 offset 688128 root 258
inode 336 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 248459264 /mnt/scratch
inode 336 offset 798720 root 258
inode 336 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 283308032 /mnt/scratch
inode 336 offset 999424 root 258
inode 336 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 289570816 /mnt/scratch
inode 336 offset 2166784 root 258
inode 336 offset 2166784 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
336
# /bin/btrfs inspect-internal logical-resolve -P 302493696 /mnt/scratch
inode 336 offset 3178496 root 258
inode 336 offset 3178496 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/db1/d193/f68
/mnt/scratch/snap1/p0/df/d13/d17/d20/dd4/d12f/f138
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109 is 903710 (221 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       48..      78:      70281..     70311:     31:         48: shared
   1:       93..     107:      69732..     69746:     15:      70326: shared
   2:      201..     208:      70456..     70463:      8:      69840: shared
   3:      214..     220:      70469..     70475:      7:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/d5b/f109: 3 extents found
after filter: 287870976#126976#196608#shared 285622272#61440#380928#shared 288587776#32768#823296#shared 288641024#28672#876544#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
462
# /bin/btrfs inspect-internal logical-resolve -P 287870976 /mnt/scratch
inode 462 offset 196608 root 258
inode 479 offset 778240 root 258
inode 462 offset 196608 root 5
inode 479 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
462
# /bin/btrfs inspect-internal logical-resolve -P 285622272 /mnt/scratch
inode 462 offset 380928 root 258
inode 462 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
462
# /bin/btrfs inspect-internal logical-resolve -P 288587776 /mnt/scratch
inode 462 offset 823296 root 258
inode 462 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
462
# /bin/btrfs inspect-internal logical-resolve -P 288641024 /mnt/scratch
inode 462 offset 876544 root 258
inode 462 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 462 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/db8/d5b/f109
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/db8/de3/f175 is 1150145 (281 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       6:      70770..     70773:      4:          3: unwritten,shared
   1:       22..      22:      70789..     70789:      1:             unwritten,shared
   2:       23..      26:      70786..     70789:      4:      70790: unwritten,shared
   3:       48..      57:      70770..     70779:     10:      70811: unwritten,shared
   4:       88..      88:      70789..     70789:      1:      70810: unwritten,shared
   5:       92..      96:      71976..     71980:      5:      70793: shared
   6:       97..     127:      73601..     73631:     31:      71981: shared
   7:      190..     215:      70281..     70306:     26:      73694: shared
   8:      249..     249:      71288..     71288:      1:      70340: shared
   9:      250..     265:      71257..     71272:     16:      71289: shared
  10:      268..     279:      71275..     71286:     12:             shared
  11:      280..     280:      72375..     72375:      1:      71287: shared,eof
  12:      490..     592:      72036..     72138:    103:      72585: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175: 11 extents found
after filter: 289873920#16384#12288#unwritten,shared 289951744#4096#90112#unwritten,shared 289939456#16384#94208#unwritten,shared 289873920#40960#196608#unwritten,shared 289951744#4096#360448#unwritten,shared 294813696#20480#376832#shared 301469696#126976#397312#shared 287870976#106496#778240#shared 291995648#4096#1019904#shared 291868672#65536#1024000#shared 291942400#49152#1097728#shared 296448000#4096#1146880#shared,eof 295059456#421888#2007040#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 289951744 /mnt/scratch
inode 514 offset 90112 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 1003520 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 737280 root 5
inode 483 offset 1003520 root 5
inode 361 offset 880640 root 258
inode 359 offset 2621440 root 258
inode 361 offset 880640 root 5
inode 359 offset 2621440 root 5
inode 363 offset 258048 root 5
inode 363 offset 634880 root 5
inode 363 offset 634880 root 5
inode 365 offset 1445888 root 5
inode 492 offset 368640 root 5
inode 492 offset 811008 root 5
inode 492 offset 811008 root 5
inode 350 offset 905216 root 5
inode 339 offset 364544 root 5
inode 391 offset 598016 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 118784 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 391 offset 98304 root 5
inode 391 offset 598016 root 5
inode 266 offset 516096 root 258
inode 263 offset 1302528 root 258
inode 263 offset 724992 root 258
inode 263 offset 1302528 root 258
inode 266 offset 516096 root 5
inode 263 offset 1302528 root 5
inode 263 offset 724992 root 5
inode 263 offset 1302528 root 5
inode 278 offset 6139904 root 5
inode 278 offset 5419008 root 5
inode 278 offset 6139904 root 5
inode 404 offset 516096 root 5
inode 399 offset 638976 root 5
inode 408 offset 245760 root 5
inode 383 offset 2899968 root 5
inode 386 offset 782336 root 5
inode 475 offset 122880 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 309 offset 516096 root 258
inode 309 offset 516096 root 5
inode 356 offset 2568192 root 5
inode 356 offset 2985984 root 5
inode 356 offset 2985984 root 5
inode 288 offset 139264 root 5
inode 269 offset 1925120 root 5
inode 336 offset 548864 root 5
inode 371 offset 360448 root 5
inode 378 offset 720896 root 5
inode 496 offset 487424 root 5
inode 496 offset 487424 root 5
inode 435 offset 1171456 root 5
inode 310 offset 1961984 root 5
inode 439 offset 143360 root 5
inode 421 offset 454656 root 5
inode 356 offset 2568192 root 258
inode 356 offset 2985984 root 258
inode 356 offset 2985984 root 258
inode 408 offset 245760 root 258
inode 399 offset 638976 root 258
inode 404 offset 516096 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 288 offset 139264 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 483 offset 737280 root 258
inode 483 offset 1003520 root 258
inode 483 offset 1003520 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 598016 root 258
inode 388 offset 118784 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 98304 root 258
inode 391 offset 598016 root 258
inode 278 offset 5419008 root 258
inode 278 offset 6139904 root 258
inode 278 offset 6139904 root 258
inode 475 offset 122880 root 258
inode 492 offset 811008 root 258
inode 492 offset 368640 root 258
inode 492 offset 811008 root 258
inode 365 offset 1445888 root 258
inode 363 offset 634880 root 258
inode 363 offset 258048 root 258
inode 363 offset 634880 root 258
inode 269 offset 1925120 root 258
inode 336 offset 548864 root 258
inode 386 offset 782336 root 258
inode 383 offset 2899968 root 258
inode 371 offset 360448 root 258
inode 378 offset 720896 root 258
inode 496 offset 487424 root 258
inode 496 offset 487424 root 258
inode 339 offset 364544 root 258
inode 350 offset 905216 root 258
inode 435 offset 1171456 root 258
inode 310 offset 1961984 root 258
inode 439 offset 143360 root 258
inode 421 offset 454656 root 258
inode 514 offset 90112 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 289939456 /mnt/scratch
inode 514 offset 77824 root 5
inode 479 offset 94208 root 5
inode 483 offset 991232 root 5
inode 479 offset 94208 root 5
inode 483 offset 724992 root 5
inode 483 offset 991232 root 5
inode 361 offset 868352 root 258
inode 361 offset 868352 root 5
inode 363 offset 245760 root 5
inode 363 offset 622592 root 5
inode 363 offset 622592 root 5
inode 365 offset 1433600 root 5
inode 492 offset 356352 root 5
inode 492 offset 798720 root 5
inode 492 offset 798720 root 5
inode 350 offset 892928 root 5
inode 339 offset 352256 root 5
inode 391 offset 585728 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 388 offset 106496 root 5
inode 388 offset 356352 root 5
inode 388 offset 385024 root 5
inode 391 offset 86016 root 5
inode 391 offset 585728 root 5
inode 266 offset 503808 root 258
inode 263 offset 1290240 root 258
inode 263 offset 712704 root 258
inode 263 offset 1290240 root 258
inode 266 offset 503808 root 5
inode 263 offset 1290240 root 5
inode 263 offset 712704 root 5
inode 263 offset 1290240 root 5
inode 278 offset 6127616 root 5
inode 278 offset 5406720 root 5
inode 278 offset 6127616 root 5
inode 404 offset 503808 root 5
inode 399 offset 626688 root 5
inode 408 offset 233472 root 5
inode 383 offset 2887680 root 5
inode 386 offset 770048 root 5
inode 475 offset 110592 root 5
inode 301 offset 344064 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 301 offset 344064 root 5
inode 301 offset 512000 root 5
inode 301 offset 602112 root 5
inode 309 offset 503808 root 258
inode 309 offset 503808 root 5
inode 356 offset 2555904 root 5
inode 356 offset 2973696 root 5
inode 356 offset 2973696 root 5
inode 288 offset 126976 root 5
inode 269 offset 1912832 root 5
inode 336 offset 536576 root 5
inode 371 offset 348160 root 5
inode 378 offset 708608 root 5
inode 496 offset 475136 root 5
inode 496 offset 475136 root 5
inode 435 offset 1159168 root 5
inode 310 offset 1949696 root 5
inode 439 offset 131072 root 5
inode 421 offset 442368 root 5
inode 356 offset 2555904 root 258
inode 356 offset 2973696 root 258
inode 356 offset 2973696 root 258
inode 408 offset 233472 root 258
inode 399 offset 626688 root 258
inode 404 offset 503808 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 301 offset 344064 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 301 offset 344064 root 258
inode 301 offset 512000 root 258
inode 301 offset 602112 root 258
inode 288 offset 126976 root 258
inode 479 offset 94208 root 258
inode 479 offset 94208 root 258
inode 483 offset 724992 root 258
inode 483 offset 991232 root 258
inode 483 offset 991232 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 391 offset 585728 root 258
inode 388 offset 106496 root 258
inode 388 offset 356352 root 258
inode 388 offset 385024 root 258
inode 391 offset 86016 root 258
inode 391 offset 585728 root 258
inode 278 offset 5406720 root 258
inode 278 offset 6127616 root 258
inode 278 offset 6127616 root 258
inode 475 offset 110592 root 258
inode 492 offset 798720 root 258
inode 492 offset 356352 root 258
inode 492 offset 798720 root 258
inode 365 offset 1433600 root 258
inode 363 offset 622592 root 258
inode 363 offset 245760 root 258
inode 363 offset 622592 root 258
inode 269 offset 1912832 root 258
inode 336 offset 536576 root 258
inode 386 offset 770048 root 258
inode 383 offset 2887680 root 258
inode 371 offset 348160 root 258
inode 378 offset 708608 root 258
inode 496 offset 475136 root 258
inode 496 offset 475136 root 258
inode 339 offset 352256 root 258
inode 350 offset 892928 root 258
inode 435 offset 1159168 root 258
inode 310 offset 1949696 root 258
inode 439 offset 131072 root 258
inode 421 offset 442368 root 258
inode 514 offset 77824 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 289951744 /mnt/scratch
inode 514 offset 90112 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 1003520 root 5
inode 479 offset 90112 root 5
inode 479 offset 106496 root 5
inode 479 offset 360448 root 5
inode 483 offset 737280 root 5
inode 483 offset 1003520 root 5
inode 361 offset 880640 root 258
inode 359 offset 2621440 root 258
inode 361 offset 880640 root 5
inode 359 offset 2621440 root 5
inode 363 offset 258048 root 5
inode 363 offset 634880 root 5
inode 363 offset 634880 root 5
inode 365 offset 1445888 root 5
inode 492 offset 368640 root 5
inode 492 offset 811008 root 5
inode 492 offset 811008 root 5
inode 350 offset 905216 root 5
inode 339 offset 364544 root 5
inode 391 offset 598016 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 388 offset 118784 root 5
inode 388 offset 368640 root 5
inode 388 offset 397312 root 5
inode 391 offset 98304 root 5
inode 391 offset 598016 root 5
inode 266 offset 516096 root 258
inode 263 offset 1302528 root 258
inode 263 offset 724992 root 258
inode 263 offset 1302528 root 258
inode 266 offset 516096 root 5
inode 263 offset 1302528 root 5
inode 263 offset 724992 root 5
inode 263 offset 1302528 root 5
inode 278 offset 6139904 root 5
inode 278 offset 5419008 root 5
inode 278 offset 6139904 root 5
inode 404 offset 516096 root 5
inode 399 offset 638976 root 5
inode 408 offset 245760 root 5
inode 383 offset 2899968 root 5
inode 386 offset 782336 root 5
inode 475 offset 122880 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 301 offset 356352 root 5
inode 301 offset 524288 root 5
inode 301 offset 614400 root 5
inode 309 offset 516096 root 258
inode 309 offset 516096 root 5
inode 356 offset 2568192 root 5
inode 356 offset 2985984 root 5
inode 356 offset 2985984 root 5
inode 288 offset 139264 root 5
inode 269 offset 1925120 root 5
inode 336 offset 548864 root 5
inode 371 offset 360448 root 5
inode 378 offset 720896 root 5
inode 496 offset 487424 root 5
inode 496 offset 487424 root 5
inode 435 offset 1171456 root 5
inode 310 offset 1961984 root 5
inode 439 offset 143360 root 5
inode 421 offset 454656 root 5
inode 356 offset 2568192 root 258
inode 356 offset 2985984 root 258
inode 356 offset 2985984 root 258
inode 408 offset 245760 root 258
inode 399 offset 638976 root 258
inode 404 offset 516096 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 301 offset 356352 root 258
inode 301 offset 524288 root 258
inode 301 offset 614400 root 258
inode 288 offset 139264 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 479 offset 90112 root 258
inode 479 offset 106496 root 258
inode 479 offset 360448 root 258
inode 483 offset 737280 root 258
inode 483 offset 1003520 root 258
inode 483 offset 1003520 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 598016 root 258
inode 388 offset 118784 root 258
inode 388 offset 368640 root 258
inode 388 offset 397312 root 258
inode 391 offset 98304 root 258
inode 391 offset 598016 root 258
inode 278 offset 5419008 root 258
inode 278 offset 6139904 root 258
inode 278 offset 6139904 root 258
inode 475 offset 122880 root 258
inode 492 offset 811008 root 258
inode 492 offset 368640 root 258
inode 492 offset 811008 root 258
inode 365 offset 1445888 root 258
inode 363 offset 634880 root 258
inode 363 offset 258048 root 258
inode 363 offset 634880 root 258
inode 269 offset 1925120 root 258
inode 336 offset 548864 root 258
inode 386 offset 782336 root 258
inode 383 offset 2899968 root 258
inode 371 offset 360448 root 258
inode 378 offset 720896 root 258
inode 496 offset 487424 root 258
inode 496 offset 487424 root 258
inode 339 offset 364544 root 258
inode 350 offset 905216 root 258
inode 435 offset 1171456 root 258
inode 310 offset 1961984 root 258
inode 439 offset 143360 root 258
inode 421 offset 454656 root 258
inode 514 offset 90112 root 258
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 294813696 /mnt/scratch
inode 479 offset 376832 root 258
inode 479 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 301469696 /mnt/scratch
inode 479 offset 397312 root 258
inode 479 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 287870976 /mnt/scratch
inode 462 offset 196608 root 258
inode 479 offset 778240 root 258
inode 462 offset 196608 root 5
inode 479 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
background rm
479
# /bin/btrfs inspect-internal logical-resolve -P 291995648 /mnt/scratch
inode 479 offset 1019904 root 258
inode 479 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517640510
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 291868672 /mnt/scratch
inode 479 offset 1024000 root 258
inode 479 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 291942400 /mnt/scratch
inode 479 offset 1097728 root 258
inode 479 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 296448000 /mnt/scratch
inode 479 offset 1146880 root 258
inode 479 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# stat -c %i /mnt/scratch/snap1/p0/df/d13/db8/de3/f175
479
# /bin/btrfs inspect-internal logical-resolve -P 295059456 /mnt/scratch
inode 479 offset 2007040 root 258
inode 479 offset 2007040 root 5
# /bin/btrfs inspect-internal inode-resolve 479 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/d188/f11b
/mnt/scratch/snap1/p0/df/d13/db8/de3/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d is 2721704 (665 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      73:      66798..     66842:     45:         29: unwritten,shared
   1:       75..      76:      62197..     62198:      2:      66844: shared
   2:       77..      84:      61235..     61242:      8:      62199: shared
   3:       85..      85:      63126..     63126:      1:      61243: shared
   4:      316..     318:      62666..     62668:      3:      63357: unwritten,shared
   5:      323..     327:      62673..     62677:      5:             unwritten,shared
   6:      336..     395:      62686..     62745:     60:             unwritten,shared
   7:      399..     403:      62749..     62753:      5:             unwritten,shared
   8:      405..     409:      62755..     62759:      5:             unwritten,shared
   9:      417..     459:      62767..     62809:     43:             unwritten,shared
  10:      460..     479:      70770..     70789:     20:      62810: unwritten,shared
  11:      624..     654:      65797..     65827:     31:      70934: shared
  12:      655..     655:      67731..     67731:      1:      65828: last,shared
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d: 8 extents found
after filter: 273604608#184320#118784#unwritten,shared 254758912#8192#307200#shared 250818560#32768#315392#shared 258564096#4096#348160#shared 256679936#12288#1294336#unwritten,shared 256708608#20480#1323008#unwritten,shared 256761856#245760#1376256#unwritten,shared 257019904#20480#1634304#unwritten,shared 257044480#20480#1658880#unwritten,shared 257093632#176128#1708032#unwritten,shared 289873920#81920#1884160#unwritten,shared 269504512#126976#2555904#shared 277426176#4096#2682880#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 273604608 /mnt/scratch
inode 310 offset 118784 root 258
inode 310 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 254758912 /mnt/scratch
inode 310 offset 307200 root 258
inode 310 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 250818560 /mnt/scratch
inode 310 offset 315392 root 258
inode 310 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 258564096 /mnt/scratch
inode 310 offset 348160 root 258
inode 310 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 256679936 /mnt/scratch
inode 310 offset 1294336 root 258
inode 310 offset 1294336 root 258
inode 310 offset 1294336 root 5
inode 310 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 256708608 /mnt/scratch
inode 310 offset 1323008 root 258
inode 310 offset 1323008 root 258
inode 310 offset 1323008 root 5
inode 310 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 256761856 /mnt/scratch
inode 310 offset 1376256 root 258
inode 310 offset 1376256 root 258
inode 310 offset 1376256 root 5
inode 310 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 257019904 /mnt/scratch
inode 310 offset 1634304 root 258
inode 310 offset 1634304 root 258
inode 310 offset 1634304 root 5
inode 310 offset 1634304 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 257044480 /mnt/scratch
inode 310 offset 1658880 root 258
inode 310 offset 1658880 root 258
inode 310 offset 1658880 root 5
inode 310 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 257093632 /mnt/scratch
inode 310 offset 1708032 root 258
inode 310 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 514 offset 12288 root 5
inode 479 offset 12288 root 5
inode 479 offset 196608 root 5
inode 479 offset 196608 root 5
inode 483 offset 659456 root 5
inode 363 offset 180224 root 5
inode 363 offset 557056 root 5
inode 363 offset 557056 root 5
inode 365 offset 1368064 root 5
inode 492 offset 733184 root 5
inode 492 offset 733184 root 5
inode 431 offset 487424 root 5
inode 435 offset 1093632 root 5
inode 350 offset 827392 root 5
inode 339 offset 286720 root 5
inode 391 offset 520192 root 5
inode 388 offset 290816 root 5
inode 388 offset 290816 root 5
inode 388 offset 40960 root 5
inode 388 offset 290816 root 5
inode 391 offset 20480 root 5
inode 391 offset 520192 root 5
inode 459 offset 106496 root 5
inode 453 offset 0 root 5
inode 266 offset 438272 root 258
inode 263 offset 1224704 root 258
inode 263 offset 647168 root 258
inode 263 offset 1224704 root 258
inode 266 offset 438272 root 5
inode 263 offset 1224704 root 5
inode 263 offset 647168 root 5
inode 263 offset 1224704 root 5
inode 278 offset 6062080 root 5
inode 278 offset 5341184 root 5
inode 278 offset 6062080 root 5
inode 404 offset 438272 root 5
inode 399 offset 561152 root 5
inode 383 offset 2822144 root 5
inode 475 offset 45056 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 301 offset 278528 root 5
inode 301 offset 446464 root 5
inode 301 offset 536576 root 5
inode 309 offset 438272 root 258
inode 309 offset 438272 root 5
inode 356 offset 2490368 root 5
inode 288 offset 61440 root 5
inode 269 offset 1847296 root 5
inode 336 offset 471040 root 5
inode 371 offset 282624 root 5
inode 378 offset 643072 root 5
inode 496 offset 364544 root 5
inode 496 offset 364544 root 5
inode 310 offset 1884160 root 5
inode 421 offset 376832 root 5
inode 356 offset 2490368 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 301 offset 278528 root 258
inode 301 offset 446464 root 258
inode 301 offset 536576 root 258
inode 288 offset 61440 root 258
inode 479 offset 12288 root 258
inode 479 offset 196608 root 258
inode 479 offset 196608 root 258
inode 483 offset 659456 root 258
inode 388 offset 290816 root 258
inode 388 offset 290816 root 258
inode 391 offset 520192 root 258
inode 388 offset 40960 root 258
inode 388 offset 290816 root 258
inode 391 offset 20480 root 258
inode 391 offset 520192 root 258
inode 278 offset 5341184 root 258
inode 278 offset 6062080 root 258
inode 278 offset 6062080 root 258
inode 475 offset 45056 root 258
inode 492 offset 733184 root 258
inode 492 offset 733184 root 258
inode 399 offset 561152 root 258
inode 404 offset 438272 root 258
inode 365 offset 1368064 root 258
inode 363 offset 557056 root 258
inode 363 offset 180224 root 258
inode 363 offset 557056 root 258
inode 269 offset 1847296 root 258
inode 336 offset 471040 root 258
inode 383 offset 2822144 root 258
inode 371 offset 282624 root 258
inode 378 offset 643072 root 258
inode 496 offset 364544 root 258
inode 496 offset 364544 root 258
inode 339 offset 286720 root 258
inode 350 offset 827392 root 258
inode 459 offset 106496 root 258
inode 453 offset 0 root 258
inode 435 offset 1093632 root 258
inode 431 offset 487424 root 258
inode 310 offset 1884160 root 258
inode 421 offset 376832 root 258
inode 514 offset 12288 root 258
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 269504512 /mnt/scratch
inode 310 offset 2555904 root 258
inode 310 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
310
# /bin/btrfs inspect-internal logical-resolve -P 277426176 /mnt/scratch
inode 310 offset 2682880 root 258
inode 310 offset 2682880 root 5
# /bin/btrfs inspect-internal inode-resolve 310 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d61/f9d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/f18
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/f18 is 3284690 (802 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      54:      66374..     66378:      5:         50: shared
   1:       63..      77:      62028..     62042:     15:      66387: unwritten,shared
   2:       99..     115:      71215..     71231:     17:      62064: shared
   3:      216..     240:      65274..     65298:     25:      71332: shared
   4:      241..     242:      71316..     71317:      2:      65299: shared
   5:      243..     268:      71189..     71214:     26:      71318: shared
   6:      302..     336:      66711..     66745:     35:      71248: unwritten,shared
   7:      359..     396:      66760..     66797:     38:      66768: unwritten,shared
   8:      398..     413:       5156..      5171:     16:      66799: shared
   9:      451..     506:      67853..     67908:     56:       5209: unwritten,shared
  10:      507..     509:      59205..     59207:      3:      67909: shared
  11:      510..     510:      60897..     60897:      1:      59208: shared
  12:      511..     513:      67909..     67911:      3:      60898: unwritten,shared
  13:      664..     671:      60296..     60303:      8:      68062: unwritten,shared
  14:      702..     720:      60334..     60352:     19:             unwritten,shared
  15:      732..     743:      60364..     60375:     12:             unwritten,shared
  16:      773..     773:      68047..     68047:      1:      60405: shared
  17:      790..     801:      68048..     68059:     12:             last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/f18: 15 extents found
after filter: 271867904#20480#204800#shared 254066688#61440#258048#unwritten,shared 291696640#69632#405504#shared 267362304#102400#884736#shared 292110336#8192#987136#shared 291590144#106496#995328#shared 273248256#143360#1236992#unwritten,shared 273448960#155648#1470464#unwritten,shared 21118976#65536#1630208#shared 277925888#229376#1847296#unwritten,shared 242503680#12288#2076672#shared 249434112#4096#2088960#shared 278155264#12288#2093056#unwritten,shared 246972416#32768#2719744#unwritten,shared 247128064#77824#2875392#unwritten,shared 247250944#49152#2998272#unwritten,shared 278720512#4096#3166208#shared 278724608#49152#3235840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 271867904 /mnt/scratch
inode 277 offset 204800 root 258
inode 277 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 254066688 /mnt/scratch
inode 277 offset 258048 root 258
inode 277 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 291696640 /mnt/scratch
inode 277 offset 405504 root 258
inode 277 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 267362304 /mnt/scratch
inode 277 offset 884736 root 258
inode 277 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 292110336 /mnt/scratch
inode 277 offset 987136 root 258
inode 277 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 291590144 /mnt/scratch
inode 277 offset 995328 root 258
inode 277 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 273248256 /mnt/scratch
inode 277 offset 1236992 root 258
inode 277 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 273448960 /mnt/scratch
inode 277 offset 1470464 root 258
inode 277 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 21118976 /mnt/scratch
inode 277 offset 1630208 root 258
inode 277 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 277925888 /mnt/scratch
inode 277 offset 1847296 root 258
inode 277 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 242503680 /mnt/scratch
inode 277 offset 2076672 root 258
inode 277 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 249434112 /mnt/scratch
inode 277 offset 2088960 root 258
inode 277 offset 2088960 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 278155264 /mnt/scratch
inode 277 offset 2093056 root 258
inode 277 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 246972416 /mnt/scratch
inode 277 offset 2719744 root 258
inode 277 offset 2719744 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517919606
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 247128064 /mnt/scratch
inode 277 offset 2875392 root 258
inode 277 offset 2875392 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 247250944 /mnt/scratch
inode 277 offset 2998272 root 258
inode 277 offset 2998272 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 278720512 /mnt/scratch
inode 277 offset 3166208 root 258
inode 277 offset 3166208 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/f18
277
# /bin/btrfs inspect-internal logical-resolve -P 278724608 /mnt/scratch
inode 277 offset 3235840 root 258
inode 277 offset 3235840 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/f18
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/df8/f143
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/df8/f143 is 908021 (222 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       31..      55:      71951..     71975:     25:         31: shared
   1:      210..     221:      71802..     71813:     12:      72130: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/df8/f143: 2 extents found
after filter: 294711296#102400#126976#shared 294100992#49152#860160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/df8/f143
511
# /bin/btrfs inspect-internal logical-resolve -P 294711296 /mnt/scratch
inode 511 offset 126976 root 258
inode 511 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 511 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/df8/f143
# stat -c %i /mnt/scratch/snap1/p0/df/d13/df8/f143
511
# /bin/btrfs inspect-internal logical-resolve -P 294100992 /mnt/scratch
inode 511 offset 860160 root 258
inode 511 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 511 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/df8/f143
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d94/d111/f18f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d94/d111/f18f is 848111 (208 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/df/d13/d17/d94/d111/f18f: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f108
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f108 is 1077248 (263 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      237..     262:      72497..     72522:     26:        237: last,shared,eof
/mnt/scratch/snap1/p0/df/d4e/d63/d7f/f108: 1 extent found
after filter: 296947712#106496#970752#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d4e/d63/d7f/f108
461
# /bin/btrfs inspect-internal logical-resolve -P 296947712 /mnt/scratch
inode 461 offset 970752 root 258
inode 461 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d4e/d63/d7f/f108
# /sbin/filefrag -v /mnt/scratch/snap1/p0/df/d13/d17/d94/f183
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/df/d13/d17/d94/f183 is 491520 (120 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      119..     119:      71950..     71950:      1:        119: last,shared,eof
/mnt/scratch/snap1/p0/df/d13/d17/d94/f183: 1 extent found
after filter: 294707200#4096#487424#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/df/d13/d17/d94/f183
558
# /bin/btrfs inspect-internal logical-resolve -P 294707200 /mnt/scratch
inode 558 offset 487424 root 258
inode 558 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 558 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/df/d13/d17/d94/f183
background rm
