*** mkfs -dsize=2097152000

btrfs-progs v4.15
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               8a3d8a46-7a78-4118-9981-0ce23a8d32af
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1517861801
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1517501375
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1517734634
# _scratch_unmount
# _scratch_mount -o atime
background noise by 26403
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517839633
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/d76/f159
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/d76/f159 is 872508 (214 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      205..     213:      72535..     72543:      9:        205: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/f159: 1 extent found
after filter: 297103360#36864#839680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/f159
533
# /bin/btrfs inspect-internal logical-resolve -P 297103360 /mnt/scratch
inode 533 offset 839680 root 258
inode 533 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 533 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/f159
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/f16a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/f16a is 1826816 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      262..     298:      72125..     72161:     37:        262: unwritten,shared
   1:      374..     397:      72087..     72110:     24:      72237: shared
   2:      429..     445:      70815..     70831:     17:      72142: shared,eof
   3:      454..     508:      70393..     70447:     55:      70840: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a: 4 extents found
after filter: 295424000#151552#1073152#unwritten,shared 295268352#98304#1531904#shared 290058240#69632#1757184#shared,eof 288329728#225280#1859584#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f16a
417
# /bin/btrfs inspect-internal logical-resolve -P 295424000 /mnt/scratch
inode 417 offset 1073152 root 258
inode 417 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f16a
417
# /bin/btrfs inspect-internal logical-resolve -P 295268352 /mnt/scratch
inode 417 offset 1531904 root 258
inode 417 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f16a
417
# /bin/btrfs inspect-internal logical-resolve -P 290058240 /mnt/scratch
inode 417 offset 1757184 root 258
inode 417 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f16a
417
# /bin/btrfs inspect-internal logical-resolve -P 288329728 /mnt/scratch
inode 417 offset 1859584 root 258
inode 417 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f192
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f192 is 1269760 (310 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     192:      71165..     71183:     19:        174: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f192: 1 extent found
after filter: 291491840#77824#712704#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f192
455
# /bin/btrfs inspect-internal logical-resolve -P 291491840 /mnt/scratch
inode 455 offset 712704 root 258
inode 455 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f192
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d48/d91/fcf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d48/d91/fcf is 933888 (228 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      212..     227:      65113..     65128:     16:        212: last,shared,eof
/mnt/scratch/snap1/p0/d7/d48/d91/fcf: 1 extent found
after filter: 266702848#65536#868352#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/d91/fcf
419
# /bin/btrfs inspect-internal logical-resolve -P 266702848 /mnt/scratch
inode 419 offset 868352 root 258
inode 419 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 419 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/d91/fcf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/f55
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/f55 is 2043483 (499 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       0:      60440..     60440:      1:             shared
   1:      360..     377:      63140..     63157:     18:      60800: shared
   2:      383..     383:      71326..     71326:      1:      63163: shared
   3:      472..     498:      71327..     71353:     27:             last,shared,eof
/mnt/scratch/snap1/p0/d7/f55: 3 extents found
after filter: 247562240#4096#0#shared 258621440#73728#1474560#shared 292151296#4096#1568768#shared 292155392#110592#1933312#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/f55
325
# /bin/btrfs inspect-internal logical-resolve -P 247562240 /mnt/scratch
inode 325 offset 0 root 258
inode 325 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f55
# stat -c %i /mnt/scratch/snap1/p0/d7/f55
325
# /bin/btrfs inspect-internal logical-resolve -P 258621440 /mnt/scratch
inode 303 offset 741376 root 258
inode 325 offset 1474560 root 258
inode 303 offset 741376 root 5
inode 325 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f55
# stat -c %i /mnt/scratch/snap1/p0/d7/f55
325
# /bin/btrfs inspect-internal logical-resolve -P 292151296 /mnt/scratch
inode 325 offset 1568768 root 258
inode 325 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f55
# stat -c %i /mnt/scratch/snap1/p0/d7/f55
325
# /bin/btrfs inspect-internal logical-resolve -P 292155392 /mnt/scratch
inode 325 offset 1933312 root 258
inode 325 offset 1933312 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f55
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57 is 2637824 (644 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      108..     113:      58993..     58998:      6:        108: unwritten,shared
   1:      114..     119:      58999..     59004:      6:             shared
   2:      120..     138:      59005..     59023:     19:             unwritten,shared
   3:      157..     170:      60539..     60552:     14:      59042: shared
   4:      180..     180:      59065..     59065:      1:      60562: unwritten,shared
   5:      181..     185:      59066..     59070:      5:             shared
   6:      186..     208:      63992..     64014:     23:      59071: shared
   7:      209..     209:      59094..     59094:      1:      64015: shared
   8:      210..     218:      69172..     69180:      9:      59095: shared
   9:      219..     232:      59104..     59117:     14:      69181: shared
  10:      233..     233:      63006..     63006:      1:      59118: shared
  11:      234..     251:      69843..     69860:     18:      63007: shared
  12:      252..     254:      59138..     59140:      3:      69861: unwritten,shared
  13:      270..     282:      65459..     65471:     13:      59156: unwritten,shared
  14:      283..     314:      59169..     59200:     32:      65472: unwritten,shared
  15:      315..     315:      59201..     59201:      1:             shared
  16:      316..     322:      59202..     59208:      7:             unwritten,shared
  17:      329..     340:      65475..     65486:     12:      59215: unwritten,shared
  18:      341..     346:      59227..     59232:      6:      65487: unwritten,shared
  19:      347..     353:      59233..     59239:      7:             shared
  20:      354..     360:      59240..     59246:      7:             unwritten,shared
  21:      361..     370:      59247..     59256:     10:             shared
  22:      371..     371:      65458..     65458:      1:      59257: shared
  23:      372..     387:      59258..     59273:     16:      65459: unwritten,shared
  24:      403..     405:      71586..     71588:      3:      59289: shared
  25:      421..     448:      59307..     59334:     28:      71604: unwritten,shared
  26:      623..     643:      66125..     66145:     21:      59509: shared,eof
  27:      863..    1055:      70037..     70229:    193:      66365: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57: 20 extents found
after filter: 241635328#24576#442368#unwritten,shared 241659904#24576#466944#shared 241684480#77824#491520#unwritten,shared 247967744#57344#643072#shared 241930240#4096#737280#unwritten,shared 241934336#20480#741376#shared 262111232#94208#761856#shared 242049024#4096#856064#shared 283328512#36864#860160#shared 242089984#57344#897024#shared 258072576#4096#954368#shared 286076928#73728#958464#shared 242229248#12288#1032192#unwritten,shared 268120064#53248#1105920#unwritten,shared 242356224#131072#1159168#unwritten,shared 242487296#4096#1290240#shared 242491392#28672#1294336#unwritten,shared 268185600#49152#1347584#unwritten,shared 242593792#24576#1396736#unwritten,shared 242618368#28672#1421312#shared 242647040#28672#1449984#unwritten,shared 242675712#40960#1478656#shared 268115968#4096#1519616#shared 242720768#65536#1523712#unwritten,shared 293216256#12288#1650688#shared 242921472#114688#1724416#unwritten,shared 270848000#86016#2551808#shared,eof 286871552#790528#3534848#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 241635328 /mnt/scratch
inode 327 offset 442368 root 258
inode 327 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 241659904 /mnt/scratch
inode 327 offset 466944 root 258
inode 327 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 241684480 /mnt/scratch
inode 327 offset 491520 root 258
inode 327 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 247967744 /mnt/scratch
inode 327 offset 643072 root 258
inode 271 offset 2633728 root 258
inode 499 offset 442368 root 258
inode 327 offset 643072 root 5
inode 271 offset 2633728 root 5
inode 499 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 241930240 /mnt/scratch
inode 327 offset 737280 root 258
inode 327 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 241934336 /mnt/scratch
inode 327 offset 741376 root 258
inode 327 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 262111232 /mnt/scratch
inode 327 offset 761856 root 258
inode 327 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242049024 /mnt/scratch
inode 327 offset 856064 root 258
inode 327 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 283328512 /mnt/scratch
inode 327 offset 860160 root 258
inode 327 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242089984 /mnt/scratch
inode 327 offset 897024 root 258
inode 327 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 258072576 /mnt/scratch
inode 327 offset 954368 root 258
inode 327 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 286076928 /mnt/scratch
inode 327 offset 958464 root 258
inode 327 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242229248 /mnt/scratch
inode 327 offset 1032192 root 258
inode 327 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 268120064 /mnt/scratch
inode 327 offset 1105920 root 258
inode 327 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242356224 /mnt/scratch
inode 327 offset 1159168 root 258
inode 327 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242487296 /mnt/scratch
inode 327 offset 1290240 root 258
inode 327 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242491392 /mnt/scratch
inode 327 offset 1294336 root 258
inode 327 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 268185600 /mnt/scratch
inode 327 offset 1347584 root 258
inode 327 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242593792 /mnt/scratch
inode 327 offset 1396736 root 258
inode 327 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242618368 /mnt/scratch
inode 327 offset 1421312 root 258
inode 327 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242647040 /mnt/scratch
inode 327 offset 1449984 root 258
inode 327 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242675712 /mnt/scratch
inode 327 offset 1478656 root 258
inode 327 offset 1478656 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 268115968 /mnt/scratch
inode 327 offset 1519616 root 258
inode 327 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242720768 /mnt/scratch
inode 327 offset 1523712 root 258
inode 327 offset 1523712 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 293216256 /mnt/scratch
inode 327 offset 1650688 root 258
inode 327 offset 1650688 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 242921472 /mnt/scratch
inode 327 offset 1724416 root 258
inode 327 offset 1724416 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 270848000 /mnt/scratch
inode 327 offset 2551808 root 258
inode 327 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
327
# /bin/btrfs inspect-internal logical-resolve -P 286871552 /mnt/scratch
inode 327 offset 3534848 root 258
inode 327 offset 3534848 root 5
# /bin/btrfs inspect-internal inode-resolve 327 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f57
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d34/f40
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d34/f40 is 600759 (147 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      29:       4897..      4923:     27:          3: shared
   1:       45..      70:       3542..      3567:     26:       4939: unwritten,shared
   2:       84..     107:      67249..     67272:     24:       3581: shared
   3:      109..     112:      63665..     63668:      4:      67274: shared
   4:      123..     146:      61400..     61423:     24:      63679: last,shared,eof
/mnt/scratch/snap1/p0/d7/d14/d34/f40: 5 extents found
after filter: 20058112#110592#12288#shared 14508032#106496#184320#unwritten,shared 275451904#98304#344064#shared 260771840#16384#446464#shared 251494400#98304#503808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d34/f40
311
# /bin/btrfs inspect-internal logical-resolve -P 20058112 /mnt/scratch
inode 311 offset 12288 root 258
inode 311 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d34/f40
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d34/f40
311
# /bin/btrfs inspect-internal logical-resolve -P 14508032 /mnt/scratch
inode 303 offset 344064 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 311 offset 184320 root 258
inode 260 offset 1355776 root 258
inode 303 offset 344064 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 311 offset 184320 root 5
inode 260 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d34/f40
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d34/f40
311
# /bin/btrfs inspect-internal logical-resolve -P 275451904 /mnt/scratch
inode 311 offset 344064 root 258
inode 311 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d34/f40
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d34/f40
311
# /bin/btrfs inspect-internal logical-resolve -P 260771840 /mnt/scratch
inode 311 offset 446464 root 258
inode 336 offset 2617344 root 258
inode 311 offset 446464 root 5
inode 336 offset 2617344 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d34/f40
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d34/f40
311
# /bin/btrfs inspect-internal logical-resolve -P 251494400 /mnt/scratch
inode 311 offset 503808 root 258
inode 311 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 311 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d34/f40
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95 is 2785280 (680 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      114..     122:      68281..     68289:      9:        114: shared
   1:      233..     249:      62537..     62553:     17:      68400: shared
   2:      474..     474:      64557..     64557:      1:      62778: shared
   3:      580..     580:      67150..     67150:      1:      64663: shared
   4:      658..     679:      64486..     64507:     22:      67228: shared,eof
   5:      774..     779:      65365..     65370:      6:      64602: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95: 6 extents found
after filter: 279678976#36864#466944#shared 256151552#69632#954368#shared 264425472#4096#1941504#shared 275046400#4096#2375680#shared 264134656#90112#2695168#shared,eof 267735040#24576#3170304#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 279678976 /mnt/scratch
inode 372 offset 466944 root 258
inode 372 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 256151552 /mnt/scratch
inode 372 offset 954368 root 258
inode 372 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 264425472 /mnt/scratch
inode 372 offset 1941504 root 258
inode 372 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 275046400 /mnt/scratch
inode 372 offset 2375680 root 258
inode 372 offset 2375680 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 264134656 /mnt/scratch
inode 372 offset 2695168 root 258
inode 372 offset 2695168 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
372
# /bin/btrfs inspect-internal logical-resolve -P 267735040 /mnt/scratch
inode 372 offset 3170304 root 258
inode 372 offset 3170304 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f95
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f189
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f189 is 847122 (207 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     206:      71354..     71386:     33:        174: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f189: 1 extent found
after filter: 292265984#135168#712704#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f189
568
# /bin/btrfs inspect-internal logical-resolve -P 292265984 /mnt/scratch
inode 568 offset 712704 root 258
inode 568 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 568 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f189
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0 is 2281472 (557 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      43:      65166..     65186:     21:         23: shared
   1:      127..     136:      63865..     63874:     10:      65270: unwritten,shared
   2:      147..     163:      63885..     63901:     17:             unwritten,shared
   3:      185..     204:      63923..     63942:     20:             unwritten,shared
   4:      236..     242:      63974..     63980:      7:             unwritten,shared
   5:      243..     243:      63981..     63981:      1:             shared
   6:      333..     345:      65394..     65406:     13:      64071: shared
   7:      346..     346:      71217..     71217:      1:      65407: shared
   8:      477..     477:      71218..     71218:      1:             last,shared
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0: 4 extents found
after filter: 266919936#86016#94208#shared 261591040#40960#520192#unwritten,shared 261672960#69632#602112#unwritten,shared 261828608#81920#757760#unwritten,shared 262037504#28672#966656#unwritten,shared 262066176#4096#995328#shared 267853824#53248#1363968#shared 291704832#4096#1417216#shared 291708928#4096#1953792#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 266919936 /mnt/scratch
inode 407 offset 94208 root 258
inode 407 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 261591040 /mnt/scratch
inode 407 offset 520192 root 258
inode 407 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 261672960 /mnt/scratch
inode 407 offset 602112 root 258
inode 407 offset 602112 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517839222
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 261828608 /mnt/scratch
inode 407 offset 757760 root 258
inode 407 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 262037504 /mnt/scratch
inode 407 offset 966656 root 258
inode 407 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 262066176 /mnt/scratch
inode 407 offset 995328 root 258
inode 407 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 267853824 /mnt/scratch
inode 407 offset 1363968 root 258
inode 407 offset 1363968 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 291704832 /mnt/scratch
inode 407 offset 1417216 root 258
inode 407 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
407
# /bin/btrfs inspect-internal logical-resolve -P 291708928 /mnt/scratch
inode 407 offset 1953792 root 258
inode 407 offset 1953792 root 5
# /bin/btrfs inspect-internal inode-resolve 407 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fc0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f89
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f89 is 1242000 (304 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      189..     189:      66739..     66739:      1:        189: last,shared
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f89: 1 extent found
after filter: 273362944#4096#774144#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f89
364
# /bin/btrfs inspect-internal logical-resolve -P 273362944 /mnt/scratch
inode 364 offset 774144 root 258
inode 364 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 364 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f89
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/f68
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/f68 is 2299312 (562 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      59:      64592..     64615:     24:         36: shared
   1:       60..      60:      64928..     64928:      1:      64616: shared
   2:      174..     180:      65223..     65229:      7:      65042: shared
   3:      182..     183:      64592..     64593:      2:      65231: shared
   4:      184..     189:      64599..     64604:      6:      64594: shared
   5:      190..     199:      64600..     64609:     10:      64605: shared
   6:      295..     297:      72084..     72086:      3:      64705: shared
   7:      546..     561:      72377..     72392:     16:      72335: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d1b/f68: 8 extents found
after filter: 264568832#98304#147456#shared 265945088#4096#245760#shared 267153408#28672#712704#shared 264568832#8192#745472#shared 264597504#24576#753664#shared 264601600#40960#778240#shared 295256064#12288#1208320#shared 296456192#65536#2236416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 264568832 /mnt/scratch
inode 342 offset 745472 root 258
inode 342 offset 147456 root 258
inode 342 offset 745472 root 258
inode 342 offset 745472 root 258
inode 342 offset 745472 root 5
inode 342 offset 147456 root 5
inode 342 offset 745472 root 5
inode 342 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 265945088 /mnt/scratch
inode 342 offset 245760 root 258
inode 342 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 267153408 /mnt/scratch
inode 342 offset 712704 root 258
inode 342 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 264568832 /mnt/scratch
inode 342 offset 745472 root 258
inode 342 offset 147456 root 258
inode 342 offset 745472 root 258
inode 342 offset 745472 root 258
inode 342 offset 745472 root 5
inode 342 offset 147456 root 5
inode 342 offset 745472 root 5
inode 342 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 264597504 /mnt/scratch
inode 342 offset 753664 root 258
inode 342 offset 176128 root 258
inode 342 offset 753664 root 258
inode 342 offset 753664 root 258
inode 342 offset 753664 root 5
inode 342 offset 176128 root 5
inode 342 offset 753664 root 5
inode 342 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 264601600 /mnt/scratch
inode 342 offset 757760 root 258
inode 342 offset 778240 root 258
inode 342 offset 180224 root 258
inode 342 offset 757760 root 258
inode 342 offset 778240 root 258
inode 342 offset 757760 root 258
inode 342 offset 778240 root 258
inode 342 offset 757760 root 5
inode 342 offset 778240 root 5
inode 342 offset 180224 root 5
inode 342 offset 757760 root 5
inode 342 offset 778240 root 5
inode 342 offset 757760 root 5
inode 342 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 295256064 /mnt/scratch
inode 342 offset 1208320 root 258
inode 342 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f68
342
# /bin/btrfs inspect-internal logical-resolve -P 296456192 /mnt/scratch
inode 342 offset 2236416 root 258
inode 342 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 342 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f68
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/f79
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/f79 is 1818624 (444 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      155..     162:      65592..     65599:      8:        155: shared
   1:      215..     221:      72544..     72550:      7:      65652: shared
   2:      257..     281:      63257..     63281:     25:      72586: shared
   3:      282..     282:      66337..     66337:      1:      63282: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/f79: 4 extents found
after filter: 268664832#32768#634880#shared 297140224#28672#880640#shared 259100672#102400#1052672#shared 271716352#4096#1155072#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f79
352
# /bin/btrfs inspect-internal logical-resolve -P 268664832 /mnt/scratch
inode 352 offset 634880 root 258
inode 352 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f79
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f79
352
# /bin/btrfs inspect-internal logical-resolve -P 297140224 /mnt/scratch
inode 352 offset 880640 root 258
inode 352 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f79
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f79
352
# /bin/btrfs inspect-internal logical-resolve -P 259100672 /mnt/scratch
inode 352 offset 1052672 root 258
inode 352 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f79
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f79
352
# /bin/btrfs inspect-internal logical-resolve -P 271716352 /mnt/scratch
inode 352 offset 1155072 root 258
inode 352 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 352 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193 is 2518547 (615 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      26:      71209..     71213:      5:         22: shared
   1:       28..      43:      71716..     71731:     16:      71215: shared
   2:       46..      67:      66281..     66302:     22:      71734: shared
   3:       68..      68:      67107..     67107:      1:      66303: shared
   4:      265..     272:      68077..     68084:      8:      67304: shared
   5:      382..     394:      67566..     67578:     13:      68194: unwritten,shared
   6:      420..     428:      67604..     67612:      9:             unwritten,shared
   7:      429..     429:      67613..     67613:      1:             last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193: 6 extents found
after filter: 291672064#20480#90112#shared 293748736#65536#114688#shared 271486976#90112#188416#shared 274870272#4096#278528#shared 278843392#32768#1085440#shared 276750336#53248#1564672#unwritten,shared 276905984#36864#1720320#unwritten,shared 276942848#4096#1757184#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 291672064 /mnt/scratch
inode 402 offset 90112 root 258
inode 402 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 293748736 /mnt/scratch
inode 402 offset 114688 root 258
inode 402 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 271486976 /mnt/scratch
inode 402 offset 188416 root 258
inode 402 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 274870272 /mnt/scratch
inode 402 offset 278528 root 258
inode 402 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 278843392 /mnt/scratch
inode 402 offset 1085440 root 258
inode 402 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 276750336 /mnt/scratch
inode 402 offset 1564672 root 258
inode 402 offset 1564672 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 276905984 /mnt/scratch
inode 402 offset 1720320 root 258
inode 402 offset 1720320 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
402
# /bin/btrfs inspect-internal logical-resolve -P 276942848 /mnt/scratch
inode 402 offset 1757184 root 258
inode 402 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 402 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f193
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f175
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f175 is 118013 (29 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      28:      70556..     70567:     12:         17: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f175: 1 extent found
after filter: 288997376#49152#69632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f175
551
# /bin/btrfs inspect-internal logical-resolve -P 288997376 /mnt/scratch
inode 551 offset 69632 root 258
inode 551 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f175
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d181/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d181/f151 is 389120 (95 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       68..      94:      69420..     69446:     27:         68: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d181/f151: 1 extent found
after filter: 284344320#110592#278528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d181/f151
526
# /bin/btrfs inspect-internal logical-resolve -P 284344320 /mnt/scratch
inode 526 offset 278528 root 258
inode 526 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 526 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d181/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129 is 917866 (225 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      169..     191:      72551..     72573:     23:        169: shared
   1:      202..     207:      67062..     67067:      6:      72584: shared
   2:      208..     224:      66203..     66219:     17:      67068: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129: 3 extents found
after filter: 297168896#94208#692224#shared 274685952#24576#827392#shared 271167488#69632#851968#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
430
# /bin/btrfs inspect-internal logical-resolve -P 297168896 /mnt/scratch
inode 430 offset 692224 root 258
inode 430 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
430
# /bin/btrfs inspect-internal logical-resolve -P 274685952 /mnt/scratch
inode 430 offset 827392 root 258
inode 430 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
430
# /bin/btrfs inspect-internal logical-resolve -P 271167488 /mnt/scratch
inode 430 offset 851968 root 258
inode 430 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/d53/f129
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fc1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fc1 is 43169 (11 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fc1: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd is 735502 (180 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       62..      89:      71418..     71445:     28:         62: shared
   1:      170..     179:      64444..     64453:     10:      71526: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd: 2 extents found
after filter: 292528128#114688#253952#shared 263962624#40960#696320#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd
405
# /bin/btrfs inspect-internal logical-resolve -P 292528128 /mnt/scratch
inode 405 offset 253952 root 258
inode 405 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd
405
# /bin/btrfs inspect-internal logical-resolve -P 263962624 /mnt/scratch
inode 405 offset 696320 root 258
inode 405 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fbd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e is 1398853 (342 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      171..     197:      65086..     65112:     27:        171: shared
   1:      228..     238:      65211..     65221:     11:      65143: shared
   2:      239..     239:      65379..     65379:      1:      65222: shared
   3:      259..     266:      72363..     72370:      8:      65399: shared
   4:      339..     341:      65380..     65382:      3:      72443: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e: 5 extents found
after filter: 266592256#110592#700416#shared 267104256#45056#933888#shared 267792384#4096#978944#shared 296398848#32768#1060864#shared 267796480#12288#1388544#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
379
# /bin/btrfs inspect-internal logical-resolve -P 266592256 /mnt/scratch
inode 379 offset 700416 root 258
inode 379 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
379
# /bin/btrfs inspect-internal logical-resolve -P 267104256 /mnt/scratch
inode 379 offset 933888 root 258
inode 379 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
379
# /bin/btrfs inspect-internal logical-resolve -P 267792384 /mnt/scratch
inode 379 offset 978944 root 258
inode 379 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
379
# /bin/btrfs inspect-internal logical-resolve -P 296398848 /mnt/scratch
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
379
# /bin/btrfs inspect-internal logical-resolve -P 267796480 /mnt/scratch
inode 379 offset 1388544 root 258
inode 379 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/f9e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/feb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/feb is 1512221 (370 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      24:      70357..     70380:     24:          1: shared
   1:      186..     207:      66248..     66269:     22:      70542: shared
   2:      276..     305:      68480..     68509:     30:      66338: unwritten,shared
   3:      306..     327:      68510..     68531:     22:             shared
   4:      328..     358:      68532..     68562:     31:             unwritten,shared
   5:      359..     368:      66270..     66279:     10:      68563: shared
   6:      369..     369:      68462..     68462:      1:      66280: shared,eof
   7:      370..     502:      68563..     68695:    133:      68463: unwritten,shared,eof
   8:      598..     794:      67738..     67934:    197:      68791: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/feb: 7 extents found
after filter: 288182272#98304#4096#shared 271351808#90112#761856#shared 280494080#122880#1130496#unwritten,shared 280616960#90112#1253376#shared 280707072#126976#1343488#unwritten,shared 271441920#40960#1470464#shared 280420352#4096#1511424#shared,eof 280834048#544768#1515520#unwritten,shared,eof 277454848#806912#2449408#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 288182272 /mnt/scratch
inode 443 offset 4096 root 258
inode 443 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 271351808 /mnt/scratch
inode 443 offset 761856 root 258
inode 443 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 280494080 /mnt/scratch
inode 443 offset 1130496 root 258
inode 443 offset 1130496 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
seed = 1517440163
443
# /bin/btrfs inspect-internal logical-resolve -P 280616960 /mnt/scratch
inode 443 offset 1253376 root 258
inode 443 offset 1253376 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 280707072 /mnt/scratch
inode 443 offset 1343488 root 258
inode 443 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 271441920 /mnt/scratch
inode 443 offset 1470464 root 258
inode 443 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 280420352 /mnt/scratch
inode 443 offset 1511424 root 258
inode 443 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 280834048 /mnt/scratch
inode 443 offset 1515520 root 258
inode 443 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# stat -c %i /mnt/scratch/snap1/p0/d7/feb
443
# /bin/btrfs inspect-internal logical-resolve -P 277454848 /mnt/scratch
inode 443 offset 2449408 root 258
inode 443 offset 2449408 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/feb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98 is 2137375 (522 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      137..     142:      66646..     66651:      6:        137: shared
   1:      143..     149:      66401..     66407:      7:      66652: shared
   2:      192..     202:      63533..     63543:     11:      66450: shared
   3:      203..     205:      64223..     64225:      3:      63544: shared
   4:      206..     206:      69876..     69876:      1:      64226: shared
   5:      255..     268:      69877..     69890:     14:             shared
   6:      269..     269:      71387..     71387:      1:      69891: shared
   7:      507..     521:      71388..     71402:     15:             last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98: 6 extents found
after filter: 272982016#24576#561152#shared 271978496#28672#585728#shared 260231168#45056#786432#shared 263057408#12288#831488#shared 286212096#4096#843776#shared 286216192#57344#1044480#shared 292401152#4096#1101824#shared 292405248#61440#2076672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 272982016 /mnt/scratch
inode 375 offset 561152 root 258
inode 375 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 271978496 /mnt/scratch
inode 375 offset 585728 root 258
inode 375 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 260231168 /mnt/scratch
inode 375 offset 786432 root 258
inode 375 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 263057408 /mnt/scratch
inode 375 offset 831488 root 258
inode 375 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 286212096 /mnt/scratch
inode 375 offset 843776 root 258
inode 375 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 286216192 /mnt/scratch
inode 375 offset 1044480 root 258
inode 375 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 292401152 /mnt/scratch
inode 375 offset 1101824 root 258
inode 375 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
375
# /bin/btrfs inspect-internal logical-resolve -P 292405248 /mnt/scratch
inode 375 offset 2076672 root 258
inode 375 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/f98
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/f10c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/f10c is 2183168 (533 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      145..     158:      67235..     67248:     14:        145: shared
   1:      170..     170:      71279..     71279:      1:      67260: shared
   2:      314..     327:      71280..     71293:     14:             shared
   3:      328..     328:      72499..     72499:      1:      71294: shared
   4:      396..     410:      72500..     72514:     15:             last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/f10c: 3 extents found
after filter: 275394560#57344#593920#shared 291958784#4096#696320#shared 291962880#57344#1286144#shared 296955904#4096#1343488#shared 296960000#61440#1622016#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f10c
348
# /bin/btrfs inspect-internal logical-resolve -P 275394560 /mnt/scratch
inode 348 offset 593920 root 258
inode 348 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f10c
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f10c
348
# /bin/btrfs inspect-internal logical-resolve -P 291958784 /mnt/scratch
inode 348 offset 696320 root 258
inode 348 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f10c
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f10c
348
# /bin/btrfs inspect-internal logical-resolve -P 291962880 /mnt/scratch
inode 348 offset 1286144 root 258
inode 348 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f10c
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f10c
348
# /bin/btrfs inspect-internal logical-resolve -P 296955904 /mnt/scratch
inode 348 offset 1343488 root 258
inode 348 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f10c
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f10c
348
# /bin/btrfs inspect-internal logical-resolve -P 296960000 /mnt/scratch
inode 348 offset 1622016 root 258
inode 348 offset 1622016 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f10c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0 is 1552384 (379 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       62..     146:      70859..     70943:     85:         62: unwritten,shared
   1:      204..     204:      64093..     64093:      1:      71001: shared
   2:      280..     280:      69447..     69447:      1:      64169: unwritten,shared
   3:      320..     390:      69487..     69557:     71:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0: 3 extents found
after filter: 290238464#348160#253952#unwritten,shared 262524928#4096#835584#shared 284454912#4096#1146880#unwritten,shared 284618752#290816#1310720#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
394
# /bin/btrfs inspect-internal logical-resolve -P 290238464 /mnt/scratch
inode 394 offset 253952 root 258
inode 394 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
394
# /bin/btrfs inspect-internal logical-resolve -P 262524928 /mnt/scratch
inode 394 offset 835584 root 258
inode 394 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
394
# /bin/btrfs inspect-internal logical-resolve -P 284454912 /mnt/scratch
inode 394 offset 1146880 root 258
inode 394 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
394
# /bin/btrfs inspect-internal logical-resolve -P 284618752 /mnt/scratch
inode 394 offset 1310720 root 258
inode 394 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/fb0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef is 1729284 (423 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      192..     198:      68376..     68382:      7:        192: shared
   1:      205..     226:      69681..     69702:     22:      68389: shared
   2:      406..     422:      69098..     69114:     17:      69882: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef: 3 extents found
after filter: 280068096#28672#786432#shared 285413376#90112#839680#shared 283025408#69632#1662976#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
447
# /bin/btrfs inspect-internal logical-resolve -P 280068096 /mnt/scratch
inode 447 offset 786432 root 258
inode 447 offset 786432 root 5
inode 486 offset 139264 root 258
inode 486 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
447
# /bin/btrfs inspect-internal logical-resolve -P 285413376 /mnt/scratch
inode 447 offset 839680 root 258
inode 447 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
447
# /bin/btrfs inspect-internal logical-resolve -P 283025408 /mnt/scratch
inode 447 offset 1662976 root 258
inode 447 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fef
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43 is 1950946 (477 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      33:      71185..     71200:     16:         18: shared
   1:       34..      47:       4091..      4104:     14:      71201: shared
   2:      115..     122:       3559..      3566:      8:       4172: unwritten,shared
   3:      141..     150:       5040..      5049:     10:       3585: shared
   4:      151..     159:       4717..      4725:      9:       5050: shared
   5:      176..     180:      63425..     63429:      5:       4742: shared
   6:      181..     202:      66103..     66124:     22:      63430: shared
   7:      203..     207:      63452..     63456:      5:      66125: shared
   8:      208..     208:       4066..      4066:      1:      63457: shared
   9:      209..     209:       4292..      4292:      1:       4067: shared
  10:      248..     256:      63457..     63465:      9:       4331: shared
  11:      257..     266:       3542..      3551:     10:      63466: unwritten,shared
  12:      305..     306:       4632..      4633:      2:       3590: shared
  13:      307..     309:      60726..     60728:      3:       4634: shared
  14:      310..     328:       4637..      4655:     19:      60729: shared
  15:      347..     377:       4293..      4323:     31:       4674: shared
  16:      378..     387:       4226..      4235:     10:       4324: shared
  17:      409..     439:      64141..     64171:     31:       4257: last,shared
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43: 18 extents found
after filter: 291573760#65536#73728#shared 16756736#57344#139264#shared 14577664#32768#471040#unwritten,shared 20643840#40960#577536#shared 19320832#36864#618496#shared 259788800#20480#720896#shared 270757888#90112#741376#shared 259899392#20480#831488#shared 16654336#4096#851968#shared 17580032#4096#856064#shared 259919872#36864#1015808#shared 14508032#40960#1052672#unwritten,shared 18972672#8192#1249280#shared 248733696#12288#1257472#shared 18993152#77824#1269760#shared 17584128#126976#1421312#shared 17309696#40960#1548288#shared 262721536#126976#1675264#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 291573760 /mnt/scratch
inode 270 offset 73728 root 258
inode 270 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 16756736 /mnt/scratch
inode 270 offset 139264 root 258
inode 270 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 14577664 /mnt/scratch
inode 270 offset 471040 root 258
inode 311 offset 253952 root 258
inode 260 offset 1425408 root 258
inode 270 offset 471040 root 5
inode 311 offset 253952 root 5
inode 260 offset 1425408 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 20643840 /mnt/scratch
inode 270 offset 577536 root 258
inode 270 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 19320832 /mnt/scratch
inode 270 offset 618496 root 258
inode 270 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 259788800 /mnt/scratch
inode 270 offset 720896 root 258
inode 270 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 270757888 /mnt/scratch
inode 270 offset 741376 root 258
inode 270 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 259899392 /mnt/scratch
inode 270 offset 831488 root 258
inode 270 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 16654336 /mnt/scratch
inode 270 offset 851968 root 258
inode 270 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 17580032 /mnt/scratch
inode 270 offset 856064 root 258
inode 270 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 259919872 /mnt/scratch
inode 270 offset 1015808 root 258
inode 270 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 14508032 /mnt/scratch
inode 303 offset 344064 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 311 offset 184320 root 258
inode 260 offset 1355776 root 258
inode 303 offset 344064 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 311 offset 184320 root 5
inode 260 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 18972672 /mnt/scratch
inode 270 offset 1249280 root 258
inode 270 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 248733696 /mnt/scratch
inode 270 offset 1257472 root 258
inode 270 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 18993152 /mnt/scratch
inode 270 offset 1269760 root 258
inode 270 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 17584128 /mnt/scratch
inode 270 offset 1421312 root 258
inode 270 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 17309696 /mnt/scratch
inode 270 offset 1548288 root 258
inode 270 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
270
# /bin/btrfs inspect-internal logical-resolve -P 262721536 /mnt/scratch
inode 270 offset 1675264 root 258
inode 270 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/df4/f119
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/df4/f119 is 853449 (209 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      196..     208:      71785..     71797:     13:        196: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/df4/f119: 1 extent found
after filter: 294031360#53248#802816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/df4/f119
480
# /bin/btrfs inspect-internal logical-resolve -P 294031360 /mnt/scratch
inode 480 offset 802816 root 258
inode 480 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 480 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/df4/f119
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1 is 3820680 (933 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       2:      61065..     61065:      1:          2: shared
   1:        3..       3:      61056..     61056:      1:      61066: shared
   2:        4..      11:      62070..     62077:      8:      61057: shared
   3:       49..      65:      63618..     63634:     17:      62115: shared
   4:      328..     341:      64658..     64671:     14:      63897: shared
   5:      345..     345:      63015..     63015:      1:      64675: shared
   6:      359..     359:      64558..     64558:      1:      63029: shared
   7:      585..     599:      64508..     64522:     15:      64784: shared
   8:      606..     621:      64672..     64687:     16:      64529: shared
   9:      622..     622:      69892..     69892:      1:      64688: shared
  10:      717..     719:      71214..     71216:      3:      69987: shared
  11:      838..     888:      69308..     69358:     51:      71335: unwritten,shared
  12:      894..     932:      69364..     69402:     39:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1: 12 extents found
after filter: 250122240#4096#8192#shared 250085376#4096#12288#shared 254238720#32768#16384#shared 260579328#69632#200704#shared 264839168#57344#1343488#shared 258109440#4096#1413120#shared 264429568#4096#1470464#shared 264224768#61440#2396160#shared 264896512#65536#2482176#shared 286277632#4096#2547712#shared 291692544#12288#2936832#shared 283885568#208896#3432448#unwritten,shared 284114944#159744#3661824#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 250122240 /mnt/scratch
inode 354 offset 8192 root 258
inode 354 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 250085376 /mnt/scratch
inode 354 offset 12288 root 258
inode 354 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 254238720 /mnt/scratch
inode 354 offset 16384 root 258
inode 354 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 260579328 /mnt/scratch
inode 354 offset 200704 root 258
inode 354 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 264839168 /mnt/scratch
inode 354 offset 1343488 root 258
inode 354 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 258109440 /mnt/scratch
inode 354 offset 1413120 root 258
inode 354 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 264429568 /mnt/scratch
inode 354 offset 1470464 root 258
inode 354 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 264224768 /mnt/scratch
inode 354 offset 2396160 root 258
inode 354 offset 2396160 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 264896512 /mnt/scratch
inode 354 offset 2482176 root 258
inode 354 offset 2482176 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 286277632 /mnt/scratch
inode 354 offset 2547712 root 258
inode 354 offset 2547712 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 291692544 /mnt/scratch
inode 354 offset 2936832 root 258
inode 354 offset 2936832 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 283885568 /mnt/scratch
inode 354 offset 3432448 root 258
inode 354 offset 3432448 root 5
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
354
# /bin/btrfs inspect-internal logical-resolve -P 284114944 /mnt/scratch
inode 354 offset 3661824 root 258
inode 354 offset 3661824 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 354 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517517394
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fa1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106 is 3783422 (924 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      27:       3757..      3763:      7:         21: shared
   1:       61..      67:      63008..     63014:      7:       3797: shared
   2:       98..     118:      60042..     60062:     21:      63045: shared
   3:      336..     336:      64044..     64044:      1:      60280: shared
   4:      351..     354:       3830..      3833:      4:      64059: shared
   5:      355..     369:      63167..     63181:     15:       3834: shared
   6:      370..     387:       4270..      4287:     18:      63182: shared
   7:      388..     388:       5051..      5051:      1:       4288: shared
   8:      544..     555:      66788..     66799:     12:       5207: shared
   9:      602..     624:      63595..     63617:     23:      66846: shared
  10:      674..     703:      65735..     65764:     30:      63667: shared
  11:      789..     809:      64094..     64114:     21:      65850: shared
  12:      810..     810:      66338..     66338:      1:      64115: shared
  13:      877..     892:      68446..     68461:     16:      66405: shared
  14:      913..     923:      66339..     66349:     11:      68482: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106: 15 extents found
after filter: 15388672#28672#86016#shared 258080768#28672#249856#shared 245932032#86016#401408#shared 262324224#4096#1376256#shared 15687680#16384#1437696#shared 258732032#61440#1454080#shared 17489920#73728#1515520#shared 20688896#4096#1589248#shared 273563648#49152#2228224#shared 260485120#94208#2465792#shared 269250560#122880#2760704#shared 262529024#86016#3231744#shared 271720448#4096#3317760#shared 280354816#65536#3592192#shared 271724544#45056#3739648#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 15388672 /mnt/scratch
inode 262 offset 86016 root 258
inode 262 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 258080768 /mnt/scratch
inode 262 offset 249856 root 258
inode 262 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 245932032 /mnt/scratch
inode 262 offset 401408 root 258
inode 262 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 262324224 /mnt/scratch
inode 262 offset 1376256 root 258
inode 262 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 15687680 /mnt/scratch
inode 262 offset 1437696 root 258
inode 262 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 258732032 /mnt/scratch
inode 262 offset 1454080 root 258
inode 262 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 17489920 /mnt/scratch
inode 262 offset 1515520 root 258
inode 262 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 20688896 /mnt/scratch
inode 262 offset 1589248 root 258
inode 262 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 273563648 /mnt/scratch
inode 262 offset 2228224 root 258
inode 262 offset 2228224 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 260485120 /mnt/scratch
inode 262 offset 2465792 root 258
inode 262 offset 2465792 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 269250560 /mnt/scratch
inode 262 offset 2760704 root 5
inode 262 offset 2760704 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 262529024 /mnt/scratch
inode 262 offset 3231744 root 5
inode 262 offset 3231744 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 271720448 /mnt/scratch
inode 262 offset 3317760 root 5
inode 262 offset 3317760 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 280354816 /mnt/scratch
inode 262 offset 3592192 root 5
inode 262 offset 3592192 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
262
# /bin/btrfs inspect-internal logical-resolve -P 271724544 /mnt/scratch
inode 262 offset 3739648 root 5
inode 262 offset 3739648 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f106
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/f141
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/f141 is 376832 (92 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/f141: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f18a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f18a is 863466 (211 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      205..     210:      69995..     70000:      6:        205: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f18a: 1 extent found
after filter: 286699520#24576#839680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f18a
528
# /bin/btrfs inspect-internal logical-resolve -P 286699520 /mnt/scratch
inode 528 offset 839680 root 258
inode 528 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f18a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b is 1826816 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      262..     298:      72125..     72161:     37:        262: unwritten,shared
   1:      374..     397:      72087..     72110:     24:      72237: shared
   2:      429..     445:      70815..     70831:     17:      72142: shared,eof
   3:      454..     508:      70393..     70447:     55:      70840: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b: 4 extents found
after filter: 295424000#151552#1073152#unwritten,shared 295268352#98304#1531904#shared 290058240#69632#1757184#shared,eof 288329728#225280#1859584#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
417
# /bin/btrfs inspect-internal logical-resolve -P 295424000 /mnt/scratch
inode 417 offset 1073152 root 258
inode 417 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
417
# /bin/btrfs inspect-internal logical-resolve -P 295268352 /mnt/scratch
inode 417 offset 1531904 root 258
inode 417 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
417
# /bin/btrfs inspect-internal logical-resolve -P 290058240 /mnt/scratch
inode 417 offset 1757184 root 258
inode 417 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
417
# /bin/btrfs inspect-internal logical-resolve -P 288329728 /mnt/scratch
inode 417 offset 1859584 root 258
inode 417 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d48/fc6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d48/fc6 is 475136 (116 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      20:      64703..     64710:      8:         13: shared
   1:       21..      37:      67372..     67388:     17:      64711: shared
   2:       38..      38:      69959..     69959:      1:      67389: shared
   3:       87..     115:      69720..     69748:     29:      70008: shared,eof
   4:      221..     306:      66017..     66102:     86:      69854: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d48/fc6: 5 extents found
after filter: 265023488#32768#53248#shared 275955712#69632#86016#shared 286552064#4096#155648#shared 285573120#118784#356352#shared,eof 270405632#352256#905216#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/fc6
411
# /bin/btrfs inspect-internal logical-resolve -P 265023488 /mnt/scratch
inode 411 offset 53248 root 258
inode 411 offset 53248 root 5
inode 478 offset 344064 root 258
inode 478 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/fc6
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/fc6
411
# /bin/btrfs inspect-internal logical-resolve -P 275955712 /mnt/scratch
inode 411 offset 86016 root 258
inode 478 offset 376832 root 258
inode 478 offset 376832 root 5
inode 411 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/fc6
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/fc6
411
# /bin/btrfs inspect-internal logical-resolve -P 286552064 /mnt/scratch
inode 411 offset 155648 root 258
inode 411 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/fc6
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/fc6
411
# /bin/btrfs inspect-internal logical-resolve -P 285573120 /mnt/scratch
inode 411 offset 356352 root 258
inode 411 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/fc6
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/fc6
411
# /bin/btrfs inspect-internal logical-resolve -P 270405632 /mnt/scratch
inode 411 offset 905216 root 258
inode 411 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 411 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/fc6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144 is 761683 (186 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      183..     185:      65187..     65189:      3:        183: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144: 1 extent found
after filter: 267005952#12288#749568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144
415
# /bin/btrfs inspect-internal logical-resolve -P 267005952 /mnt/scratch
inode 415 offset 749568 root 258
inode 415 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dac/f1a7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dac/f1a7 is 68870 (17 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..      16:      72574..     72588:     15:          2: last,shared,eof
/mnt/scratch/snap1/p0/d7/dac/f1a7: 1 extent found
after filter: 297263104#61440#8192#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dac/f1a7
592
# /bin/btrfs inspect-internal logical-resolve -P 297263104 /mnt/scratch
inode 592 offset 8192 root 258
inode 592 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 592 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dac/f1a7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185 is 1245184 (304 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      14:      68115..     68122:      8:          7: shared
   1:      160..     187:      68123..     68150:     28:             shared
   2:      200..     217:      64910..     64927:     18:      68163: last,shared
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185: 2 extents found
after filter: 278999040#32768#28672#shared 279031808#114688#655360#shared 265871360#73728#819200#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
391
# /bin/btrfs inspect-internal logical-resolve -P 278999040 /mnt/scratch
inode 391 offset 28672 root 258
inode 391 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
391
# /bin/btrfs inspect-internal logical-resolve -P 279031808 /mnt/scratch
inode 391 offset 655360 root 258
inode 391 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
391
# /bin/btrfs inspect-internal logical-resolve -P 265871360 /mnt/scratch
inode 391 offset 819200 root 258
inode 391 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b is 3178602 (777 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..       9:      59707..     59709:      3:          7: shared
   1:       10..      35:      59335..     59360:     26:      59710: shared
   2:       63..      63:       4599..      4599:      1:      59388: shared
   3:       64..      83:      64172..     64191:     20:       4600: shared
   4:       84..      91:       3542..      3549:      8:      64192: unwritten,shared
   5:      137..     146:      59657..     59666:     10:       3595: shared
   6:      150..     152:       4236..      4238:      3:      59670: shared
   7:      153..     156:       4450..      4453:      4:       4239: shared
   8:      162..     175:      61386..     61399:     14:       4459: shared
   9:      181..     207:      63140..     63166:     27:      61405: shared
  10:      222..     232:      60757..     60767:     11:      63181: shared
  11:      415..     437:      66146..     66168:     23:      60950: shared
  12:      458..     468:      63025..     63035:     11:      66189: shared
  13:      469..     469:      64192..     64192:      1:      63036: shared
  14:      551..     578:      66220..     66247:     28:      64274: shared
  15:      655..     662:      64649..     64656:      8:      66324: shared
  16:      663..     663:      71417..     71417:      1:      64657: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b: 17 extents found
after filter: 244559872#12288#28672#shared 243036160#106496#40960#shared 18837504#4096#258048#shared 262848512#81920#262144#shared 14508032#32768#344064#unwritten,shared 244355072#40960#561152#shared 17350656#12288#614400#shared 18227200#16384#626688#shared 251437056#57344#663552#shared 258621440#110592#741376#shared 248860672#45056#909312#shared 270934016#94208#1699840#shared 258150400#45056#1875968#shared 262930432#4096#1921024#shared 271237120#114688#2256896#shared 264802304#32768#2682880#shared 292524032#4096#2715648#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 244559872 /mnt/scratch
inode 303 offset 28672 root 258
inode 303 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 243036160 /mnt/scratch
inode 303 offset 40960 root 258
inode 303 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 18837504 /mnt/scratch
inode 303 offset 258048 root 258
inode 303 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 262848512 /mnt/scratch
inode 303 offset 262144 root 258
inode 303 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 14508032 /mnt/scratch
inode 303 offset 344064 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 311 offset 184320 root 258
inode 260 offset 1355776 root 258
inode 303 offset 344064 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 311 offset 184320 root 5
inode 260 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 244355072 /mnt/scratch
inode 303 offset 561152 root 258
inode 303 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 17350656 /mnt/scratch
inode 303 offset 614400 root 258
inode 303 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 18227200 /mnt/scratch
inode 303 offset 626688 root 258
inode 303 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 251437056 /mnt/scratch
inode 303 offset 663552 root 258
inode 303 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 258621440 /mnt/scratch
inode 303 offset 741376 root 258
inode 325 offset 1474560 root 258
inode 303 offset 741376 root 5
inode 325 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 248860672 /mnt/scratch
inode 303 offset 909312 root 258
inode 303 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 270934016 /mnt/scratch
inode 303 offset 1699840 root 258
inode 303 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 258150400 /mnt/scratch
inode 303 offset 1875968 root 258
inode 303 offset 1875968 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 262930432 /mnt/scratch
inode 303 offset 1921024 root 258
inode 303 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
seed = 1518172223
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 271237120 /mnt/scratch
inode 303 offset 2256896 root 258
inode 303 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 264802304 /mnt/scratch
inode 303 offset 2682880 root 258
inode 303 offset 2682880 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
303
# /bin/btrfs inspect-internal logical-resolve -P 292524032 /mnt/scratch
inode 303 offset 2715648 root 258
inode 303 offset 2715648 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f4b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f16b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f16b is 129511 (32 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      31:      71780..     71784:      5:         27: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f16b: 1 extent found
after filter: 294010880#20480#110592#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f16b
545
# /bin/btrfs inspect-internal logical-resolve -P 294010880 /mnt/scratch
inode 545 offset 110592 root 258
inode 545 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 545 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f16b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164 is 1826816 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      262..     298:      72125..     72161:     37:        262: unwritten,shared
   1:      374..     397:      72087..     72110:     24:      72237: shared
   2:      429..     445:      70815..     70831:     17:      72142: shared,eof
   3:      454..     508:      70393..     70447:     55:      70840: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164: 4 extents found
after filter: 295424000#151552#1073152#unwritten,shared 295268352#98304#1531904#shared 290058240#69632#1757184#shared,eof 288329728#225280#1859584#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
417
# /bin/btrfs inspect-internal logical-resolve -P 295424000 /mnt/scratch
inode 417 offset 1073152 root 258
inode 417 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
417
# /bin/btrfs inspect-internal logical-resolve -P 295268352 /mnt/scratch
inode 417 offset 1531904 root 258
inode 417 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
417
# /bin/btrfs inspect-internal logical-resolve -P 290058240 /mnt/scratch
inode 417 offset 1757184 root 258
inode 417 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
417
# /bin/btrfs inspect-internal logical-resolve -P 288329728 /mnt/scratch
inode 417 offset 1859584 root 258
inode 417 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133 is 474280 (116 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       88..     115:      69137..     69164:     28:         88: shared,eof
   1:      127..     228:      67636..     67737:    102:      69176: unwritten,shared,eof
   2:      229..     278:      67982..     68031:     50:      67738: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133: 3 extents found
after filter: 283185152#114688#360448#shared,eof 277037056#417792#520192#unwritten,shared,eof 278454272#204800#937984#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
503
# /bin/btrfs inspect-internal logical-resolve -P 283185152 /mnt/scratch
inode 503 offset 360448 root 258
inode 503 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 503 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
503
# /bin/btrfs inspect-internal logical-resolve -P 277037056 /mnt/scratch
inode 503 offset 520192 root 258
inode 503 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 503 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
503
# /bin/btrfs inspect-internal logical-resolve -P 278454272 /mnt/scratch
inode 503 offset 937984 root 258
inode 503 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 503 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f133
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4 is 1245184 (304 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      14:      68115..     68122:      8:          7: shared
   1:      160..     187:      68123..     68150:     28:             shared
   2:      200..     217:      64910..     64927:     18:      68163: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4: 2 extents found
after filter: 278999040#32768#28672#shared 279031808#114688#655360#shared 265871360#73728#819200#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
391
# /bin/btrfs inspect-internal logical-resolve -P 278999040 /mnt/scratch
inode 391 offset 28672 root 258
inode 391 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
391
# /bin/btrfs inspect-internal logical-resolve -P 279031808 /mnt/scratch
inode 391 offset 655360 root 258
inode 391 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
391
# /bin/btrfs inspect-internal logical-resolve -P 265871360 /mnt/scratch
inode 391 offset 819200 root 258
inode 391 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f1a4
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f185
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/f13a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/f13a is 819565 (201 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      116..     141:      72313..     72338:     26:        116: unwritten,shared
   1:      142..     163:      70835..     70856:     22:      72339: shared
   2:      164..     184:      72339..     72359:     21:      70857: unwritten,shared
   3:      185..     200:      72589..     72604:     16:      72360: last,shared,eof
/mnt/scratch/snap1/p0/d7/f13a: 4 extents found
after filter: 296194048#106496#475136#unwritten,shared 290140160#90112#581632#shared 296300544#86016#671744#unwritten,shared 297324544#65536#757760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/f13a
509
# /bin/btrfs inspect-internal logical-resolve -P 296194048 /mnt/scratch
inode 509 offset 475136 root 258
inode 509 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f13a
# stat -c %i /mnt/scratch/snap1/p0/d7/f13a
509
# /bin/btrfs inspect-internal logical-resolve -P 290140160 /mnt/scratch
inode 509 offset 581632 root 258
inode 509 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f13a
# stat -c %i /mnt/scratch/snap1/p0/d7/f13a
509
# /bin/btrfs inspect-internal logical-resolve -P 296300544 /mnt/scratch
inode 509 offset 671744 root 258
inode 509 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f13a
# stat -c %i /mnt/scratch/snap1/p0/d7/f13a
509
# /bin/btrfs inspect-internal logical-resolve -P 297324544 /mnt/scratch
inode 509 offset 757760 root 258
inode 509 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163 is 952347 (233 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       64..      84:      72454..     72474:     21:         64: shared
   1:      205..     231:      71227..     71253:     27:      72595: shared
   2:      232..     232:      72191..     72191:      1:      71254: shared,eof
   3:      233..     353:      72192..     72312:    121:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163: 3 extents found
after filter: 296771584#86016#262144#shared 291745792#110592#839680#shared 295694336#4096#950272#shared,eof 295698432#495616#954368#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
541
# /bin/btrfs inspect-internal logical-resolve -P 296771584 /mnt/scratch
inode 541 offset 262144 root 258
inode 541 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
541
# /bin/btrfs inspect-internal logical-resolve -P 291745792 /mnt/scratch
inode 541 offset 839680 root 258
inode 541 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
541
# /bin/btrfs inspect-internal logical-resolve -P 295694336 /mnt/scratch
inode 541 offset 950272 root 258
inode 541 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
541
# /bin/btrfs inspect-internal logical-resolve -P 295698432 /mnt/scratch
inode 541 offset 954368 root 258
inode 541 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 541 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/f163
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7 is 1263819 (309 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      62:      70568..     70584:     17:         46: unwritten,shared
   1:       82..     144:      70604..     70666:     63:             unwritten,shared
   2:      173..     205:      70695..     70727:     33:             unwritten,shared
   3:      292..     292:      69030..     69030:      1:      70814: shared
   4:      305..     308:      69031..     69034:      4:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7: 2 extents found
after filter: 289046528#69632#188416#unwritten,shared 289193984#258048#335872#unwritten,shared 289566720#135168#708608#unwritten,shared 282746880#4096#1196032#shared 282750976#16384#1249280#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
399
# /bin/btrfs inspect-internal logical-resolve -P 289046528 /mnt/scratch
inode 399 offset 188416 root 258
inode 399 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
399
# /bin/btrfs inspect-internal logical-resolve -P 289193984 /mnt/scratch
inode 399 offset 335872 root 258
inode 399 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
399
# /bin/btrfs inspect-internal logical-resolve -P 289566720 /mnt/scratch
inode 399 offset 708608 root 258
inode 399 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
399
# /bin/btrfs inspect-internal logical-resolve -P 282746880 /mnt/scratch
inode 399 offset 1196032 root 258
inode 399 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
399
# /bin/btrfs inspect-internal logical-resolve -P 282750976 /mnt/scratch
inode 399 offset 1249280 root 258
inode 399 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/fb7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1 is 1060860 (259 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       10..      38:      70475..     70503:     29:         10: shared
   1:       39..      45:      61703..     61709:      7:      70504: shared
   2:      194..     204:      67413..     67423:     11:      61858: shared
   3:      237..     250:      67491..     67504:     14:      67456: shared
   4:      251..     258:      71219..     71226:      8:      67505: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1: 5 extents found
after filter: 288665600#118784#40960#shared 252735488#28672#159744#shared 276123648#45056#794624#shared 276443136#57344#970752#shared 291713024#32768#1028096#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
395
# /bin/btrfs inspect-internal logical-resolve -P 288665600 /mnt/scratch
inode 395 offset 40960 root 258
inode 395 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
395
# /bin/btrfs inspect-internal logical-resolve -P 252735488 /mnt/scratch
inode 395 offset 159744 root 258
inode 360 offset 282624 root 258
inode 395 offset 159744 root 5
inode 360 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
395
# /bin/btrfs inspect-internal logical-resolve -P 276123648 /mnt/scratch
inode 395 offset 794624 root 258
inode 395 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
395
# /bin/btrfs inspect-internal logical-resolve -P 276443136 /mnt/scratch
inode 395 offset 970752 root 258
inode 395 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
395
# /bin/btrfs inspect-internal logical-resolve -P 291713024 /mnt/scratch
inode 395 offset 1028096 root 258
inode 395 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/fb1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/f4f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/f4f is 1231340 (301 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..       8:      66350..     66350:      1:          8: shared
   1:       70..      86:      69403..     69419:     17:      66412: shared
   2:      283..     300:      71762..     71779:     18:      69616: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/f4f: 3 extents found
after filter: 271769600#4096#32768#shared 284274688#69632#286720#shared 293937152#73728#1159168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f4f
322
# /bin/btrfs inspect-internal logical-resolve -P 271769600 /mnt/scratch
inode 322 offset 32768 root 258
inode 322 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f4f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f4f
322
# /bin/btrfs inspect-internal logical-resolve -P 284274688 /mnt/scratch
inode 322 offset 286720 root 258
inode 322 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f4f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f4f
322
# /bin/btrfs inspect-internal logical-resolve -P 293937152 /mnt/scratch
inode 322 offset 1159168 root 258
inode 322 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 322 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f4f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f115
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f115 is 323584 (79 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       65..      65:      68152..     68152:      1:         65: last,shared
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f115: 1 extent found
after filter: 279150592#4096#266240#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f115
476
# /bin/btrfs inspect-internal logical-resolve -P 279150592 /mnt/scratch
inode 429 offset 217088 root 258
inode 476 offset 266240 root 258
inode 476 offset 266240 root 5
inode 429 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 476 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f115
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f131
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f131 is 595060 (146 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f131: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d10d/fcd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d10d/fcd is 1826816 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      262..     298:      72125..     72161:     37:        262: unwritten,shared
   1:      374..     397:      72087..     72110:     24:      72237: shared
   2:      429..     445:      70815..     70831:     17:      72142: shared,eof
   3:      454..     508:      70393..     70447:     55:      70840: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd: 4 extents found
after filter: 295424000#151552#1073152#unwritten,shared 295268352#98304#1531904#shared 290058240#69632#1757184#shared,eof 288329728#225280#1859584#last,unwritten,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fcd
417
# /bin/btrfs inspect-internal logical-resolve -P 295424000 /mnt/scratch
inode 417 offset 1073152 root 258
inode 417 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517615465
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fcd
417
# /bin/btrfs inspect-internal logical-resolve -P 295268352 /mnt/scratch
inode 417 offset 1531904 root 258
inode 417 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fcd
417
# /bin/btrfs inspect-internal logical-resolve -P 290058240 /mnt/scratch
inode 417 offset 1757184 root 258
inode 417 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fcd
417
# /bin/btrfs inspect-internal logical-resolve -P 288329728 /mnt/scratch
inode 417 offset 1859584 root 258
inode 417 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f16a
/mnt/scratch/snap1/p0/d7/d14/d10d/fcd
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f17b
/mnt/scratch/snap1/p0/d7/dc/d3a/d12c/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1 is 3698688 (903 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       83..     107:      62572..     62596:     25:         83: unwritten,shared
   1:      108..     109:       4397..      4398:      2:      62597: shared
   2:      110..     112:      59992..     59994:      3:       4399: shared
   3:      113..     113:      61835..     61835:      1:      59995: shared
   4:      114..     116:      62597..     62599:      3:      61836: unwritten,shared
   5:      183..     184:      61833..     61834:      2:      62666: shared
   6:      223..     227:      61751..     61755:      5:      61873: shared
   7:      228..     228:      61543..     61543:      1:      61756: shared
   8:      350..     358:      63415..     63423:      9:      61665: shared
   9:      359..     359:      64559..     64559:      1:      63424: shared
  10:      481..     485:      64523..     64527:      5:      64681: shared
  11:      688..     690:      66172..     66174:      3:      64730: shared
  12:      691..     691:      71184..     71184:      1:      66175: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1: 13 extents found
after filter: 256294912#102400#339968#unwritten,shared 18010112#8192#442368#shared 245727232#12288#450560#shared 253276160#4096#462848#shared 256397312#12288#466944#unwritten,shared 253267968#8192#749568#shared 252932096#20480#913408#shared 252080128#4096#933888#shared 259747840#36864#1433600#shared 264433664#4096#1470464#shared 264286208#20480#1970176#shared 271040512#12288#2818048#shared 291569664#4096#2830336#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 256294912 /mnt/scratch
inode 273 offset 339968 root 258
inode 273 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 18010112 /mnt/scratch
inode 273 offset 442368 root 258
inode 273 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 245727232 /mnt/scratch
inode 273 offset 450560 root 258
inode 273 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 253276160 /mnt/scratch
inode 273 offset 462848 root 258
inode 273 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 256397312 /mnt/scratch
inode 273 offset 466944 root 258
inode 273 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 253267968 /mnt/scratch
inode 273 offset 749568 root 258
inode 273 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 252932096 /mnt/scratch
inode 337 offset 348160 root 258
inode 273 offset 913408 root 258
inode 337 offset 348160 root 5
inode 273 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 252080128 /mnt/scratch
inode 273 offset 933888 root 258
inode 337 offset 368640 root 258
inode 273 offset 933888 root 5
inode 337 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 259747840 /mnt/scratch
inode 273 offset 1433600 root 258
inode 273 offset 1433600 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 264433664 /mnt/scratch
inode 273 offset 1470464 root 258
inode 273 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 264286208 /mnt/scratch
inode 273 offset 1970176 root 258
inode 273 offset 1970176 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 271040512 /mnt/scratch
inode 273 offset 2818048 root 258
inode 273 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
273
# /bin/btrfs inspect-internal logical-resolve -P 291569664 /mnt/scratch
inode 273 offset 2830336 root 258
inode 273 offset 2830336 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/fe1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60 is 1269908 (311 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      39:      61575..     61579:      5:         35: shared
   1:       50..      77:      63200..     63227:     28:      61590: shared
   2:      136..     150:      61836..     61850:     15:      63286: shared
   3:      151..     155:      61581..     61585:      5:      61851: shared
   4:      156..     156:      65230..     65230:      1:      61586: shared
   5:      268..     291:      64929..     64952:     24:      65342: shared
   6:      299..     310:      61121..     61132:     12:      64960: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60: 7 extents found
after filter: 252211200#20480#143360#shared 258867200#114688#204800#shared 253280256#61440#557056#shared 252235776#20480#618496#shared 267182080#4096#638976#shared 265949184#98304#1097728#shared 250351616#49152#1224704#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 252211200 /mnt/scratch
inode 335 offset 143360 root 258
inode 335 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 258867200 /mnt/scratch
inode 335 offset 204800 root 258
inode 335 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 253280256 /mnt/scratch
inode 335 offset 557056 root 258
inode 335 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 252235776 /mnt/scratch
inode 335 offset 618496 root 258
inode 335 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 267182080 /mnt/scratch
inode 335 offset 638976 root 258
inode 335 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 265949184 /mnt/scratch
inode 335 offset 1097728 root 258
inode 335 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
335
# /bin/btrfs inspect-internal logical-resolve -P 250351616 /mnt/scratch
inode 335 offset 1224704 root 258
inode 335 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f60
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d10d/fb4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d10d/fb4 is 80459 (20 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       7:      64027..     64031:      5:          3: shared
   1:        8..       8:      69136..     69136:      1:      64032: last,shared
/mnt/scratch/snap1/p0/d7/d14/d10d/fb4: 2 extents found
after filter: 262254592#20480#12288#shared 283181056#4096#32768#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fb4
397
# /bin/btrfs inspect-internal logical-resolve -P 262254592 /mnt/scratch
inode 397 offset 12288 root 258
inode 397 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fb4
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fb4
397
# /bin/btrfs inspect-internal logical-resolve -P 283181056 /mnt/scratch
inode 397 offset 32768 root 258
inode 397 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fb4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fd8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fd8 is 614400 (150 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      133..     149:      65064..     65080:     17:        133: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fd8: 1 extent found
after filter: 266502144#69632#544768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fd8
428
# /bin/btrfs inspect-internal logical-resolve -P 266502144 /mnt/scratch
inode 428 offset 544768 root 258
inode 428 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/fd8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d48/f165
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d48/f165 is 1048576 (256 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      86:      63820..     63845:     26:         61: shared
   1:      226..     233:      71318..     71325:      8:      63985: shared
   2:      239..     255:      65837..     65853:     17:      71331: shared,eof
   3:      356..     566:      66833..     67043:    211:      65954: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d48/f165: 4 extents found
after filter: 261406720#106496#249856#shared 292118528#32768#925696#shared 269668352#69632#978944#shared,eof 273747968#864256#1458176#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f165
400
# /bin/btrfs inspect-internal logical-resolve -P 261406720 /mnt/scratch
inode 400 offset 249856 root 258
inode 400 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f165
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f165
400
# /bin/btrfs inspect-internal logical-resolve -P 292118528 /mnt/scratch
inode 400 offset 925696 root 258
inode 400 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f165
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f165
400
# /bin/btrfs inspect-internal logical-resolve -P 269668352 /mnt/scratch
inode 400 offset 978944 root 258
inode 400 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f165
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f165
400
# /bin/btrfs inspect-internal logical-resolve -P 273747968 /mnt/scratch
inode 400 offset 1458176 root 258
inode 400 offset 1458176 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f165
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/f10b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/f10b is 815104 (199 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      173..     198:      66685..     66710:     26:        173: last,shared,eof
/mnt/scratch/snap1/p0/d7/d14/f10b: 1 extent found
after filter: 273141760#106496#708608#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/f10b
471
# /bin/btrfs inspect-internal logical-resolve -P 273141760 /mnt/scratch
inode 471 offset 708608 root 258
inode 471 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/f10b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f134
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f134 is 690270 (169 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      166..     168:      71162..     71164:      3:        166: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/dbc/f134: 1 extent found
after filter: 291479552#12288#679936#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f134
504
# /bin/btrfs inspect-internal logical-resolve -P 291479552 /mnt/scratch
inode 504 offset 679936 root 258
inode 504 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/dbc/f134
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/ff5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/ff5 is 664976 (163 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      81:      67108..     67128:     21:         61: shared
   1:      146..     162:      66766..     66782:     17:      67193: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/ff5: 2 extents found
after filter: 274874368#86016#249856#shared 273473536#69632#598016#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/ff5
452
# /bin/btrfs inspect-internal logical-resolve -P 274874368 /mnt/scratch
inode 452 offset 249856 root 258
inode 452 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/ff5
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/ff5
452
# /bin/btrfs inspect-internal logical-resolve -P 273473536 /mnt/scratch
inode 452 offset 598016 root 258
inode 452 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/ff5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114 is 1064960 (260 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       49..      71:      66652..     66674:     23:         49: shared
   1:       72..      72:      71317..     71317:      1:      66675: shared
   2:      249..     259:      70728..     70738:     11:      71494: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114: 3 extents found
after filter: 273006592#94208#200704#shared 292114432#4096#294912#shared 289701888#45056#1019904#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
475
# /bin/btrfs inspect-internal logical-resolve -P 273006592 /mnt/scratch
inode 475 offset 200704 root 258
inode 475 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
475
# /bin/btrfs inspect-internal logical-resolve -P 292114432 /mnt/scratch
inode 475 offset 294912 root 258
inode 475 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
475
# /bin/btrfs inspect-internal logical-resolve -P 289701888 /mnt/scratch
inode 475 offset 1019904 root 258
inode 475 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f114
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d48/f80
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d48/f80 is 1892352 (462 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      35:      71265..     71278:     14:         22: shared
   1:       44..      79:      71680..     71715:     36:      71287: unwritten,shared
   2:       84..     108:      64226..     64250:     25:      71720: shared
   3:      166..     169:      61965..     61968:      4:      64308: unwritten,shared
   4:      175..     176:      65663..     65664:      2:      61974: unwritten,shared
   5:      292..     301:      64528..     64537:     10:      65780: shared
   6:      302..     321:      69923..     69942:     20:      64538: shared
   7:      343..     346:      61965..     61968:      4:      69964: unwritten,shared
   8:      383..     409:      60795..     60821:     27:      62005: last,shared
/mnt/scratch/snap1/p0/d7/d48/f80: 9 extents found
after filter: 291901440#57344#90112#shared 293601280#147456#180224#unwritten,shared 263069696#102400#344064#shared 253808640#16384#679936#unwritten,shared 268955648#8192#716800#unwritten,shared 264306688#40960#1196032#shared 286404608#81920#1236992#shared 253808640#16384#1404928#unwritten,shared 249016320#110592#1568768#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 291901440 /mnt/scratch
inode 345 offset 90112 root 258
inode 345 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 293601280 /mnt/scratch
inode 345 offset 180224 root 258
inode 345 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 263069696 /mnt/scratch
inode 345 offset 344064 root 258
inode 345 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 253808640 /mnt/scratch
inode 271 offset 331776 root 258
inode 345 offset 1404928 root 258
inode 366 offset 1052672 root 258
inode 345 offset 679936 root 258
inode 345 offset 679936 root 5
inode 345 offset 1404928 root 5
inode 345 offset 1404928 root 5
inode 271 offset 331776 root 5
inode 366 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 268955648 /mnt/scratch
inode 345 offset 716800 root 258
inode 345 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 264306688 /mnt/scratch
inode 345 offset 1196032 root 258
inode 345 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 286404608 /mnt/scratch
background rm
inode 345 offset 1236992 root 258
inode 345 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518298191
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 253808640 /mnt/scratch
inode 271 offset 331776 root 258
inode 345 offset 1404928 root 258
inode 366 offset 1052672 root 258
inode 345 offset 679936 root 258
inode 345 offset 679936 root 5
inode 345 offset 1404928 root 5
inode 345 offset 1404928 root 5
inode 271 offset 331776 root 5
inode 366 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# stat -c %i /mnt/scratch/snap1/p0/d7/d48/f80
345
# /bin/btrfs inspect-internal logical-resolve -P 249016320 /mnt/scratch
inode 345 offset 1568768 root 258
inode 345 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 345 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d48/f80
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c is 562685 (138 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     137:      70765..     70782:     18:        120: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c: 1 extent found
after filter: 289853440#73728#491520#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c
538
# /bin/btrfs inspect-internal logical-resolve -P 289853440 /mnt/scratch
inode 538 offset 491520 root 258
inode 538 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 538 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/f172
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168 is 3592312 (878 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      66:       4789..      4800:     12:         55: unwritten,shared
   1:      147..     165:      72427..     72445:     19:       4881: shared
   2:      243..     245:      63713..     63715:      3:      72523: unwritten,shared
   3:      246..     246:      63716..     63716:      1:             shared
   4:      359..     370:      64690..     64701:     12:      63829: shared
   5:      371..     371:      66787..     66787:      1:      64702: shared
   6:      445..     465:      69115..     69135:     21:      66861: shared
   7:      626..     627:       3762..      3763:      2:      69296: shared
   8:      871..     877:      72446..     72452:      7:       4007: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168: 8 extents found
after filter: 19615744#49152#225280#unwritten,shared 296660992#77824#602112#shared 260968448#12288#995328#unwritten,shared 260980736#4096#1007616#shared 264970240#49152#1470464#shared 273559552#4096#1519616#shared 283095040#86016#1822720#shared 15409152#8192#2564096#shared 296738816#28672#3567616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 19615744 /mnt/scratch
inode 384 offset 225280 root 258
inode 384 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 296660992 /mnt/scratch
inode 384 offset 602112 root 258
inode 384 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 260968448 /mnt/scratch
inode 384 offset 995328 root 258
inode 384 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 260980736 /mnt/scratch
inode 384 offset 1007616 root 258
inode 384 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 264970240 /mnt/scratch
inode 384 offset 1470464 root 258
inode 384 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 273559552 /mnt/scratch
inode 384 offset 1519616 root 258
inode 384 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 283095040 /mnt/scratch
inode 384 offset 1822720 root 258
inode 384 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 15409152 /mnt/scratch
inode 262 offset 106496 root 258
inode 384 offset 2564096 root 258
inode 262 offset 106496 root 5
inode 384 offset 2564096 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
384
# /bin/btrfs inspect-internal logical-resolve -P 296738816 /mnt/scratch
inode 384 offset 3567616 root 258
inode 384 offset 3567616 root 5
# /bin/btrfs inspect-internal inode-resolve 384 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/d102/f168
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d10d/fa8 is 1540096 (376 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      142..     156:      63698..     63712:     15:        142: shared
   1:      239..     257:      65191..     65209:     19:      63795: shared
   2:      258..     258:      66336..     66336:      1:      65210: shared
   3:      322..     338:      69703..     69719:     17:      66400: shared
   4:      367..     375:      69274..     69282:      9:      69748: last,shared,eof
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8: 5 extents found
after filter: 260907008#61440#581632#shared 267022336#77824#978944#shared 271712256#4096#1056768#shared 285503488#69632#1318912#shared 283746304#36864#1503232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
386
# /bin/btrfs inspect-internal logical-resolve -P 260907008 /mnt/scratch
inode 386 offset 581632 root 258
inode 386 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
386
# /bin/btrfs inspect-internal logical-resolve -P 267022336 /mnt/scratch
inode 386 offset 978944 root 258
inode 386 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
386
# /bin/btrfs inspect-internal logical-resolve -P 271712256 /mnt/scratch
inode 386 offset 1056768 root 258
inode 386 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
386
# /bin/btrfs inspect-internal logical-resolve -P 285503488 /mnt/scratch
inode 386 offset 1318912 root 258
inode 386 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/fa8
386
# /bin/btrfs inspect-internal logical-resolve -P 283746304 /mnt/scratch
inode 386 offset 1503232 root 258
inode 386 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/fa8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/dc8/f147
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/dc8/f147 is 1052672 (257 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      249..     256:      66408..     66415:      8:        249: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/dc8/f147: 1 extent found
after filter: 272007168#32768#1019904#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/dc8/f147
496
# /bin/btrfs inspect-internal logical-resolve -P 272007168 /mnt/scratch
inode 496 offset 1019904 root 258
inode 477 offset 270336 root 258
inode 477 offset 270336 root 5
inode 496 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/dc8/f147
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70 is 1950946 (477 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      33:      71185..     71200:     16:         18: shared
   1:       34..      47:       4091..      4104:     14:      71201: shared
   2:      115..     122:       3559..      3566:      8:       4172: unwritten,shared
   3:      141..     150:       5040..      5049:     10:       3585: shared
   4:      151..     159:       4717..      4725:      9:       5050: shared
   5:      176..     180:      63425..     63429:      5:       4742: shared
   6:      181..     202:      66103..     66124:     22:      63430: shared
   7:      203..     207:      63452..     63456:      5:      66125: shared
   8:      208..     208:       4066..      4066:      1:      63457: shared
   9:      209..     209:       4292..      4292:      1:       4067: shared
  10:      248..     256:      63457..     63465:      9:       4331: shared
  11:      257..     266:       3542..      3551:     10:      63466: unwritten,shared
  12:      305..     306:       4632..      4633:      2:       3590: shared
  13:      307..     309:      60726..     60728:      3:       4634: shared
  14:      310..     328:       4637..      4655:     19:      60729: shared
  15:      347..     377:       4293..      4323:     31:       4674: shared
  16:      378..     387:       4226..      4235:     10:       4324: shared
  17:      409..     439:      64141..     64171:     31:       4257: last,shared
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70: 18 extents found
after filter: 291573760#65536#73728#shared 16756736#57344#139264#shared 14577664#32768#471040#unwritten,shared 20643840#40960#577536#shared 19320832#36864#618496#shared 259788800#20480#720896#shared 270757888#90112#741376#shared 259899392#20480#831488#shared 16654336#4096#851968#shared 17580032#4096#856064#shared 259919872#36864#1015808#shared 14508032#40960#1052672#unwritten,shared 18972672#8192#1249280#shared 248733696#12288#1257472#shared 18993152#77824#1269760#shared 17584128#126976#1421312#shared 17309696#40960#1548288#shared 262721536#126976#1675264#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 291573760 /mnt/scratch
inode 270 offset 73728 root 258
inode 270 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 16756736 /mnt/scratch
inode 270 offset 139264 root 258
inode 270 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 14577664 /mnt/scratch
inode 270 offset 471040 root 258
inode 311 offset 253952 root 258
inode 260 offset 1425408 root 258
inode 270 offset 471040 root 5
inode 311 offset 253952 root 5
inode 260 offset 1425408 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 20643840 /mnt/scratch
inode 270 offset 577536 root 258
inode 270 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 19320832 /mnt/scratch
inode 270 offset 618496 root 258
inode 270 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 259788800 /mnt/scratch
inode 270 offset 720896 root 258
inode 270 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 270757888 /mnt/scratch
inode 270 offset 741376 root 258
inode 270 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 259899392 /mnt/scratch
inode 270 offset 831488 root 258
inode 270 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 16654336 /mnt/scratch
inode 270 offset 851968 root 258
inode 270 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 17580032 /mnt/scratch
inode 270 offset 856064 root 258
inode 270 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 259919872 /mnt/scratch
inode 270 offset 1015808 root 258
inode 270 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 14508032 /mnt/scratch
inode 303 offset 344064 root 258
inode 270 offset 1052672 root 258
inode 270 offset 1052672 root 258
inode 311 offset 184320 root 258
inode 260 offset 1355776 root 258
inode 303 offset 344064 root 5
inode 270 offset 1052672 root 5
inode 270 offset 1052672 root 5
inode 311 offset 184320 root 5
inode 260 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 18972672 /mnt/scratch
inode 270 offset 1249280 root 258
inode 270 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 248733696 /mnt/scratch
inode 270 offset 1257472 root 258
inode 270 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 18993152 /mnt/scratch
inode 270 offset 1269760 root 258
inode 270 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 17584128 /mnt/scratch
inode 270 offset 1421312 root 258
inode 270 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 17309696 /mnt/scratch
inode 270 offset 1548288 root 258
inode 270 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
270
# /bin/btrfs inspect-internal logical-resolve -P 262721536 /mnt/scratch
inode 270 offset 1675264 root 258
inode 270 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f43
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/f70
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/f85
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/f85 is 2789376 (681 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       41..      43:      61718..     61720:      3:         41: shared
   1:       44..      44:      63229..     63229:      1:      61721: shared
   2:       73..      87:      63230..     63244:     15:             shared
   3:      214..     223:      63245..     63254:     10:             shared
   4:      224..     224:      63697..     63697:      1:      63255: shared
   5:      385..     403:      63846..     63864:     19:      63858: shared
   6:      659..     680:      71589..     71610:     22:      64120: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/f85: 5 extents found
after filter: 252796928#12288#167936#shared 258985984#4096#180224#shared 258990080#61440#299008#shared 259051520#40960#876544#shared 260902912#4096#917504#shared 261513216#77824#1576960#shared 293228544#90112#2699264#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 252796928 /mnt/scratch
inode 356 offset 167936 root 258
inode 356 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 258985984 /mnt/scratch
inode 356 offset 180224 root 258
inode 356 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
356
# /bin/btrfs inspect-internal logical-resolve -P 258990080 /mnt/scratch
seed = 1517701308
inode 356 offset 299008 root 258
inode 356 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 259051520 /mnt/scratch
inode 356 offset 876544 root 258
inode 356 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 260902912 /mnt/scratch
inode 356 offset 917504 root 258
inode 356 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 261513216 /mnt/scratch
inode 356 offset 1576960 root 258
inode 356 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/f85
356
# /bin/btrfs inspect-internal logical-resolve -P 293228544 /mnt/scratch
inode 356 offset 2699264 root 258
inode 356 offset 2699264 root 5
# /bin/btrfs inspect-internal inode-resolve 356 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/f85
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/f183
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/f183 is 614400 (150 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      131..     134:      65730..     65733:      4:        131: shared
   1:      135..     135:      67506..     67506:      1:      65734: last,shared
/mnt/scratch/snap1/p0/d7/dc/d3a/f183: 2 extents found
after filter: 269230080#16384#536576#shared 276504576#4096#552960#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f183
563
# /bin/btrfs inspect-internal logical-resolve -P 269230080 /mnt/scratch
inode 426 offset 1175552 root 258
inode 563 offset 536576 root 258
inode 426 offset 1175552 root 5
inode 563 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 563 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f183
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/f183
563
# /bin/btrfs inspect-internal logical-resolve -P 276504576 /mnt/scratch
inode 563 offset 552960 root 258
inode 426 offset 1191936 root 258
inode 563 offset 552960 root 5
inode 426 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 563 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/f183
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/fb3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/fb3 is 1958014 (479 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      13:      71975..     71988:     14:             shared
   1:       14..      33:      64202..     64221:     20:      71989: shared
   2:      283..     283:      64045..     64045:      1:      64471: shared
   3:      336..     337:      67488..     67489:      2:      64098: shared
   4:      338..     338:      69165..     69165:      1:      67490: shared
   5:      473..     478:      69166..     69171:      6:             last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/fb3: 5 extents found
after filter: 294809600#57344#0#shared 262971392#81920#57344#shared 262328320#4096#1159168#shared 276430848#8192#1376256#shared 283299840#4096#1384448#shared 283303936#24576#1937408#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 294809600 /mnt/scratch
inode 396 offset 0 root 258
inode 396 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 262971392 /mnt/scratch
inode 396 offset 57344 root 258
inode 396 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 262328320 /mnt/scratch
inode 396 offset 1159168 root 258
inode 396 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 276430848 /mnt/scratch
inode 396 offset 1376256 root 258
inode 396 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 283299840 /mnt/scratch
inode 396 offset 1384448 root 258
inode 396 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fb3
396
# /bin/btrfs inspect-internal logical-resolve -P 283303936 /mnt/scratch
inode 396 offset 1937408 root 258
inode 396 offset 1937408 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fb3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d10d/f121
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d10d/f121 is 1700427 (416 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      134..     141:      66676..     66683:      8:        134: shared
   1:      142..     142:      72515..     72515:      1:      66684: shared
   2:      397..     415:      72516..     72534:     19:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d14/d10d/f121: 2 extents found
after filter: 273104896#32768#548864#shared 297021440#4096#581632#shared 297025536#77824#1626112#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f121
488
# /bin/btrfs inspect-internal logical-resolve -P 273104896 /mnt/scratch
inode 488 offset 548864 root 258
inode 488 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f121
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f121
488
# /bin/btrfs inspect-internal logical-resolve -P 297021440 /mnt/scratch
inode 488 offset 581632 root 258
inode 488 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f121
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f121
488
# /bin/btrfs inspect-internal logical-resolve -P 297025536 /mnt/scratch
inode 488 offset 1626112 root 258
inode 488 offset 1626112 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f121
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e is 1982628 (485 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      40:      70001..     70028:     28:         13: shared
   1:      103..     108:      60534..     60539:      6:      70091: shared
   2:      250..     255:      67068..     67073:      6:      60681: shared
   3:      459..     484:      69897..     69922:     26:      67277: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e: 4 extents found
after filter: 286724096#114688#53248#shared 247947264#24576#421888#shared 274710528#24576#1024000#shared 286298112#106496#1880064#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
499
# /bin/btrfs inspect-internal logical-resolve -P 286724096 /mnt/scratch
inode 499 offset 53248 root 258
inode 499 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
499
# /bin/btrfs inspect-internal logical-resolve -P 247947264 /mnt/scratch
inode 271 offset 2613248 root 258
inode 499 offset 421888 root 258
inode 271 offset 2613248 root 5
inode 499 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
499
# /bin/btrfs inspect-internal logical-resolve -P 274710528 /mnt/scratch
inode 499 offset 1024000 root 258
inode 499 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
499
# /bin/btrfs inspect-internal logical-resolve -P 286298112 /mnt/scratch
inode 499 offset 1880064 root 258
inode 499 offset 1880064 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f12e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f197
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f197 is 1036288 (253 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f197: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2 is 483328 (118 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      18:      60824..     60830:      7:         12: shared
   1:       23..      24:      60164..     60165:      2:      60835: shared
   2:       97..      97:      60166..     60166:      1:             shared
   3:      187..     190:      65454..     65457:      4:      60256: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2: 3 extents found
after filter: 249135104#28672#49152#shared 246431744#8192#94208#shared 246439936#4096#397312#shared 268099584#16384#765952#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
344
# /bin/btrfs inspect-internal logical-resolve -P 249135104 /mnt/scratch
inode 344 offset 49152 root 258
inode 344 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 344 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
344
# /bin/btrfs inspect-internal logical-resolve -P 246431744 /mnt/scratch
inode 344 offset 94208 root 258
inode 344 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 344 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
344
# /bin/btrfs inspect-internal logical-resolve -P 246439936 /mnt/scratch
inode 344 offset 397312 root 258
inode 344 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 344 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
344
# /bin/btrfs inspect-internal logical-resolve -P 268099584 /mnt/scratch
inode 344 offset 765952 root 258
inode 344 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 344 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/fb2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97 is 692224 (169 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      40:      63331..     63359:     29:         12: shared
   1:       41..      41:      63549..     63549:      1:      63360: shared
   2:      141..     150:      63550..     63559:     10:             shared
   3:      151..     151:      70739..     70739:      1:      63560: shared
   4:      166..     168:      69992..     69994:      3:      70754: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97: 4 extents found
after filter: 259403776#118784#49152#shared 260296704#4096#167936#shared 260300800#40960#577536#shared 289746944#4096#618496#shared 286687232#12288#679936#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
374
# /bin/btrfs inspect-internal logical-resolve -P 259403776 /mnt/scratch
inode 374 offset 49152 root 258
inode 374 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
374
# /bin/btrfs inspect-internal logical-resolve -P 260296704 /mnt/scratch
inode 374 offset 167936 root 258
inode 374 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
374
# /bin/btrfs inspect-internal logical-resolve -P 260300800 /mnt/scratch
inode 374 offset 577536 root 258
inode 374 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
374
# /bin/btrfs inspect-internal logical-resolve -P 289746944 /mnt/scratch
inode 374 offset 618496 root 258
inode 374 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
374
# /bin/btrfs inspect-internal logical-resolve -P 286687232 /mnt/scratch
inode 374 offset 679936 root 258
inode 374 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/df0/f97
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea is 1990656 (486 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      116..     135:      66598..     66617:     20:        116: shared
   1:      136..     137:      65713..     65714:      2:      66618: shared
   2:      138..     138:      67487..     67487:      1:      65715: shared
   3:      164..     167:      71295..     71298:      4:      67513: shared
   4:      168..     193:      70449..     70474:     26:      71299: shared
   5:      196..     202:      67228..     67234:      7:      70477: shared
   6:      455..     485:      71525..     71555:     31:      67487: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea: 7 extents found
after filter: 272785408#81920#475136#shared 269160448#8192#557056#shared 276426752#4096#565248#shared 292024320#16384#671744#shared 288559104#106496#688128#shared 275365888#28672#802816#shared 292966400#126976#1863680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 272785408 /mnt/scratch
inode 442 offset 475136 root 258
inode 442 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 269160448 /mnt/scratch
inode 442 offset 557056 root 258
inode 442 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 276426752 /mnt/scratch
inode 442 offset 565248 root 258
inode 442 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 292024320 /mnt/scratch
inode 442 offset 671744 root 258
inode 442 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 288559104 /mnt/scratch
inode 442 offset 688128 root 258
inode 442 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 275365888 /mnt/scratch
inode 442 offset 802816 root 258
inode 442 offset 802816 root 5
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518099167
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
442
# /bin/btrfs inspect-internal logical-resolve -P 292966400 /mnt/scratch
inode 442 offset 1863680 root 258
inode 442 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 442 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/fea
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d25/f54
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d25/f54 is 839680 (205 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      28:      66740..     66741:      2:         27: shared
   1:       29..      49:      67129..     67149:     21:      66742: shared
   2:       50..      52:      66763..     66765:      3:      67150: shared
   3:      178..     204:      67955..     67981:     27:      66891: last,shared,eof
/mnt/scratch/snap1/p0/d7/d25/f54: 4 extents found
after filter: 273367040#8192#110592#shared 274960384#86016#118784#shared 273461248#12288#204800#shared 278343680#110592#729088#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d25/f54
324
# /bin/btrfs inspect-internal logical-resolve -P 273367040 /mnt/scratch
inode 324 offset 110592 root 258
inode 324 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d25/f54
# stat -c %i /mnt/scratch/snap1/p0/d7/d25/f54
324
# /bin/btrfs inspect-internal logical-resolve -P 274960384 /mnt/scratch
inode 324 offset 118784 root 258
inode 324 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d25/f54
# stat -c %i /mnt/scratch/snap1/p0/d7/d25/f54
324
# /bin/btrfs inspect-internal logical-resolve -P 273461248 /mnt/scratch
inode 324 offset 204800 root 258
inode 324 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d25/f54
# stat -c %i /mnt/scratch/snap1/p0/d7/d25/f54
324
# /bin/btrfs inspect-internal logical-resolve -P 278343680 /mnt/scratch
inode 324 offset 729088 root 258
inode 324 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d25/f54
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/f44
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/f44 is 961627 (235 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       93..      93:      71466..     71466:      1:         93: shared
   1:      210..     234:      71467..     71491:     25:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/f44: 1 extent found
after filter: 292724736#4096#380928#shared 292728832#102400#860160#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 292724736 /mnt/scratch
inode 313 offset 380928 root 258
inode 313 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f44
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 292728832 /mnt/scratch
inode 313 offset 860160 root 258
inode 313 offset 860160 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f44
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9 is 1146880 (280 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      39:      67057..     67061:      5:         35: shared
   1:       53..      53:      68152..     68152:      1:      67075: shared
   2:      250..     255:      65388..     65393:      6:      68349: shared
   3:      256..     262:      62675..     62681:      7:      65394: shared
   4:      263..     279:      62682..     62698:     17:             unwritten,shared,eof
   5:      300..     451:      65865..     66016:    152:      62719: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9: 5 extents found
after filter: 274665472#20480#143360#shared 279150592#4096#217088#shared 267829248#24576#1024000#shared 256716800#28672#1048576#shared 256745472#69632#1077248#unwritten,shared,eof 269783040#622592#1228800#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 274665472 /mnt/scratch
inode 429 offset 143360 root 258
inode 429 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 279150592 /mnt/scratch
inode 429 offset 217088 root 258
inode 476 offset 266240 root 258
inode 476 offset 266240 root 5
inode 429 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 267829248 /mnt/scratch
inode 429 offset 1024000 root 258
inode 366 offset 352256 root 258
inode 429 offset 1024000 root 5
inode 366 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 256716800 /mnt/scratch
inode 366 offset 376832 root 258
inode 429 offset 1048576 root 258
inode 366 offset 376832 root 5
inode 429 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 256745472 /mnt/scratch
inode 366 offset 405504 root 258
inode 429 offset 1077248 root 258
inode 366 offset 405504 root 5
inode 429 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
429
# /bin/btrfs inspect-internal logical-resolve -P 269783040 /mnt/scratch
inode 429 offset 1228800 root 258
inode 429 offset 1228800 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/fd9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116 is 1287266 (315 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..     105:      66408..     66447:     40:         66: unwritten,shared
   1:      116..     124:      71612..     71620:      9:      66458: unwritten,shared
   2:      125..     155:      66467..     66497:     31:      71621: unwritten,shared
   3:      156..     164:      66498..     66506:      9:             shared
   4:      165..     165:      71611..     71611:      1:      66507: shared
   5:      166..     255:      66508..     66597:     90:      71612: unwritten,shared
   6:      256..     314:      71621..     71679:     59:      66598: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116: 6 extents found
after filter: 272007168#163840#270336#unwritten,shared 293322752#36864#475136#unwritten,shared 272248832#126976#512000#unwritten,shared 272375808#36864#638976#shared 293318656#4096#675840#shared 272416768#368640#679936#unwritten,shared 293359616#241664#1048576#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 272007168 /mnt/scratch
inode 496 offset 1019904 root 258
inode 477 offset 270336 root 258
inode 477 offset 270336 root 5
inode 496 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 293322752 /mnt/scratch
inode 477 offset 475136 root 258
inode 477 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 272248832 /mnt/scratch
inode 477 offset 512000 root 258
inode 477 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 272375808 /mnt/scratch
inode 477 offset 638976 root 258
inode 477 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 293318656 /mnt/scratch
inode 477 offset 675840 root 258
inode 477 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 272416768 /mnt/scratch
inode 477 offset 679936 root 258
inode 477 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
477
# /bin/btrfs inspect-internal logical-resolve -P 293359616 /mnt/scratch
inode 477 offset 1048576 root 258
inode 477 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 477 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f12f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f12f is 2597095 (635 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      596..     634:      70504..     70542:     39:        596: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/dbc/f12f: 1 extent found
after filter: 288784384#159744#2441216#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/dbc/f12f
500
# /bin/btrfs inspect-internal logical-resolve -P 288784384 /mnt/scratch
inode 500 offset 2441216 root 258
inode 500 offset 2441216 root 5
# /bin/btrfs inspect-internal inode-resolve 500 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/dbc/f12f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f118
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f118 is 1273856 (311 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/f118: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c is 1589248 (388 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      137..     161:      70740..     70764:     25:        137: shared
   1:      375..     383:      63893..     63901:      9:      70978: last,unwritten,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c: 2 extents found
after filter: 289751040#102400#561152#shared 261705728#36864#1536000#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 289751040 /mnt/scratch
inode 483 offset 561152 root 258
inode 483 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c
483
# /bin/btrfs inspect-internal logical-resolve -P 261705728 /mnt/scratch
inode 407 offset 634880 root 258
inode 407 offset 634880 root 5
inode 483 offset 1536000 root 258
inode 483 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/de4/f11c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6 is 1232645 (301 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       59..      88:      71556..     71585:     30:         59: shared
   1:      194..     199:      72371..     72376:      6:      71691: shared
   2:      247..     261:      65665..     65679:     15:      72424: last,shared
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6: 3 extents found
after filter: 293093376#122880#241664#shared 296431616#24576#794624#shared 268963840#61440#1011712#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
439
# /bin/btrfs inspect-internal logical-resolve -P 293093376 /mnt/scratch
inode 439 offset 241664 root 258
inode 439 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
439
# /bin/btrfs inspect-internal logical-resolve -P 296431616 /mnt/scratch
inode 439 offset 794624 root 258
inode 439 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
439
# /bin/btrfs inspect-internal logical-resolve -P 268963840 /mnt/scratch
inode 439 offset 1011712 root 258
inode 439 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/de3/fe6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/f2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/f2 is 2732032 (667 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       84..      93:       3423..      3432:     10:         84: shared
   1:       96..     100:       4657..      4661:      5:       3435: shared
   2:      130..     132:      59667..     59669:      3:       4691: shared
   3:      158..     174:      61066..     61082:     17:      59695: shared
   4:      185..     196:       4068..      4079:     12:      61093: shared
   5:      198..     222:       4146..      4170:     25:       4081: shared
   6:      238..     251:       3449..      3462:     14:       4186: unwritten,shared
   7:      252..     258:      61553..     61559:      7:       3463: shared
   8:      259..     261:       3470..      3472:      3:      61560: unwritten,shared
   9:      262..     274:       3473..      3485:     13:             shared
  10:      275..     294:      71446..     71465:     20:       3486: shared
  11:      295..     308:       3506..      3519:     14:      71466: unwritten,shared
  12:      329..     348:       3540..      3559:     20:             unwritten,shared
  13:      349..     352:      62533..     62536:      4:       3560: shared
  14:      353..     357:       3564..      3568:      5:      62537: unwritten,shared
  15:      359..     367:      61560..     61568:      9:       3570: shared
  16:      388..     388:       3599..      3599:      1:      61589: unwritten,shared
  17:      432..     444:      61618..     61630:     13:       3643: shared
  18:      475..     475:      60167..     60167:      1:      61661: shared
  19:      521..     525:      67529..     67533:      5:      60213: shared
  20:      554..     558:      58627..     58631:      5:      67562: unwritten,shared
  21:      612..     629:      61631..     61648:     18:      58685: shared
  22:      630..     630:      66800..     66800:      1:      61649: shared
  23:      639..     666:      66711..     66738:     28:      66809: last,shared,eof
/mnt/scratch/snap1/p0/f2: 22 extents found
after filter: 14020608#40960#344064#shared 19075072#20480#393216#shared 244396032#12288#532480#shared 250126336#69632#647168#shared 16662528#49152#757760#shared 16982016#102400#811008#shared 14127104#57344#974848#unwritten,shared 252121088#28672#1032192#shared 14213120#12288#1060864#unwritten,shared 14225408#53248#1073152#shared 292642816#81920#1126400#shared 14360576#57344#1208320#unwritten,shared 14499840#81920#1347584#unwritten,shared 256135168#16384#1429504#shared 14598144#20480#1445888#unwritten,shared 252149760#36864#1470464#shared 14741504#4096#1589248#unwritten,shared 252387328#53248#1769472#shared 246444032#4096#1945600#shared 276598784#20480#2134016#shared 240136192#20480#2269184#unwritten,shared 252440576#73728#2506752#shared 273612800#4096#2580480#shared 273248256#114688#2617344#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14020608 /mnt/scratch
inode 260 offset 344064 root 258
inode 260 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 19075072 /mnt/scratch
inode 260 offset 393216 root 258
inode 260 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 244396032 /mnt/scratch
inode 260 offset 532480 root 258
inode 260 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 250126336 /mnt/scratch
inode 260 offset 647168 root 258
inode 260 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 16662528 /mnt/scratch
inode 260 offset 757760 root 258
inode 260 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
background rm
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 16982016 /mnt/scratch
inode 260 offset 811008 root 258
inode 260 offset 811008 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518309263
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14127104 /mnt/scratch
inode 260 offset 974848 root 258
inode 260 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 252121088 /mnt/scratch
inode 260 offset 1032192 root 258
inode 260 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14213120 /mnt/scratch
inode 260 offset 1060864 root 258
inode 260 offset 1060864 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14225408 /mnt/scratch
inode 260 offset 1073152 root 258
inode 260 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 292642816 /mnt/scratch
inode 260 offset 1126400 root 258
inode 260 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14360576 /mnt/scratch
inode 260 offset 1208320 root 258
inode 260 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14499840 /mnt/scratch
inode 260 offset 1347584 root 258
inode 260 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 256135168 /mnt/scratch
inode 260 offset 1429504 root 258
inode 260 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14598144 /mnt/scratch
inode 270 offset 491520 root 258
inode 311 offset 274432 root 258
inode 260 offset 1445888 root 258
inode 270 offset 491520 root 5
inode 263 offset 942080 root 5
inode 260 offset 1445888 root 5
inode 311 offset 274432 root 5
inode 263 offset 942080 root 258
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 252149760 /mnt/scratch
inode 260 offset 1470464 root 258
inode 260 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 14741504 /mnt/scratch
inode 260 offset 1589248 root 258
inode 260 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 252387328 /mnt/scratch
inode 260 offset 1769472 root 258
inode 260 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 246444032 /mnt/scratch
inode 260 offset 1945600 root 258
inode 260 offset 1945600 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 276598784 /mnt/scratch
inode 260 offset 2134016 root 258
inode 260 offset 2134016 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 240136192 /mnt/scratch
inode 260 offset 2269184 root 258
inode 260 offset 2269184 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 252440576 /mnt/scratch
inode 260 offset 2506752 root 258
inode 260 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 273612800 /mnt/scratch
inode 260 offset 2580480 root 258
inode 260 offset 2580480 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# stat -c %i /mnt/scratch/snap1/p0/f2
260
# /bin/btrfs inspect-internal logical-resolve -P 273248256 /mnt/scratch
inode 260 offset 2617344 root 258
inode 260 offset 2617344 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/f2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b is 356821 (88 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      71:      71255..     71260:      6:         66: shared
   1:       85..      86:      71261..     71262:      2:             shared
   2:       87..      87:      72475..     72475:      1:      71263: shared,eof
   3:      166..     194:      72162..     72190:     29:      72554: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b: 3 extents found
after filter: 291860480#24576#270336#shared 291885056#8192#348160#shared 296857600#4096#356352#shared,eof 295575552#118784#679936#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
333
# /bin/btrfs inspect-internal logical-resolve -P 291860480 /mnt/scratch
inode 333 offset 270336 root 258
inode 333 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
333
# /bin/btrfs inspect-internal logical-resolve -P 291885056 /mnt/scratch
inode 333 offset 348160 root 258
inode 333 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
333
# /bin/btrfs inspect-internal logical-resolve -P 296857600 /mnt/scratch
inode 333 offset 356352 root 258
inode 333 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
333
# /bin/btrfs inspect-internal logical-resolve -P 295575552 /mnt/scratch
inode 333 offset 679936 root 258
inode 333 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f6b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/faa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/faa is 1305192 (319 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      311..     318:      65797..     65804:      8:        311: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/faa: 1 extent found
after filter: 269504512#32768#1273856#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/faa
388
# /bin/btrfs inspect-internal logical-resolve -P 269504512 /mnt/scratch
inode 388 offset 1273856 root 258
inode 388 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/faa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f is 413696 (101 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       47..      48:      67935..     67936:      2:         47: shared
   1:       84..      91:      64703..     64710:      8:      67972: shared
   2:       92..     100:      67372..     67380:      9:      64711: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f: 3 extents found
after filter: 278261760#8192#192512#shared 265023488#32768#344064#shared 275955712#36864#376832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
478
# /bin/btrfs inspect-internal logical-resolve -P 278261760 /mnt/scratch
inode 478 offset 192512 root 258
inode 478 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
478
# /bin/btrfs inspect-internal logical-resolve -P 265023488 /mnt/scratch
inode 411 offset 53248 root 258
inode 411 offset 53248 root 5
inode 478 offset 344064 root 258
inode 478 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
478
# /bin/btrfs inspect-internal logical-resolve -P 275955712 /mnt/scratch
inode 411 offset 86016 root 258
inode 478 offset 376832 root 258
inode 478 offset 376832 root 5
inode 411 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/fc9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/fc9 is 1011712 (247 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      133..     163:      68153..     68183:     31:        133: shared
   1:      183..     198:      65680..     65695:     16:      68203: last,shared
/mnt/scratch/snap1/p0/d7/dc/fc9: 2 extents found
after filter: 279154688#126976#544768#shared 269025280#65536#749568#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/fc9
414
# /bin/btrfs inspect-internal logical-resolve -P 279154688 /mnt/scratch
inode 414 offset 544768 root 258
inode 414 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/fc9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/fc9
414
# /bin/btrfs inspect-internal logical-resolve -P 269025280 /mnt/scratch
inode 414 offset 749568 root 258
inode 414 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/fc9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e is 1218015 (298 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      28:      66633..     66644:     12:         17: shared
   1:       29..      29:      67424..     67424:      1:      66645: shared
   2:      274..     297:      67425..     67448:     24:             last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e: 2 extents found
after filter: 272928768#49152#69632#shared 276168704#4096#118784#shared 276172800#98304#1122304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
485
# /bin/btrfs inspect-internal logical-resolve -P 272928768 /mnt/scratch
inode 485 offset 69632 root 258
inode 485 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
485
# /bin/btrfs inspect-internal logical-resolve -P 276168704 /mnt/scratch
inode 485 offset 118784 root 258
inode 485 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
485
# /bin/btrfs inspect-internal logical-resolve -P 276172800 /mnt/scratch
inode 485 offset 1122304 root 258
inode 485 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/f11e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/f22
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/f22 is 2582399 (631 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       45..      61:      64046..     64062:     17:         45: shared
   1:       62..      79:      58730..     58747:     18:      64063: shared
   2:      116..     142:      63064..     63090:     27:      58784: shared
   3:      143..     166:      63487..     63510:     24:      63091: shared
   4:      167..     169:       5005..      5007:      3:      63511: shared
   5:      205..     205:       5100..      5100:      1:       5043: shared
   6:      208..     229:      63511..     63532:     22:       5103: shared
   7:      230..     230:       3564..      3564:      1:      63533: unwritten,shared
   8:      269..     271:      58665..     58667:      3:       3603: unwritten,shared
   9:      272..     275:      58676..     58679:      4:      58668: unwritten,shared
  10:      317..     319:      58665..     58667:      3:      58721: unwritten,shared
  11:      320..     323:      58676..     58679:      4:      58668: unwritten,shared
  12:      358..     371:       5326..      5339:     14:      58714: shared
  13:      372..     380:       4159..      4167:      9:       5340: shared
  14:      482..     507:      60871..     60896:     26:       4269: shared
  15:      520..     546:      63747..     63773:     27:      60909: shared
  16:      547..     549:      61550..     61552:      3:      63774: shared
  17:      597..     605:      63130..     63138:      9:      61600: shared
  18:      623..     630:      61710..     61717:      8:      63156: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d1b/f22: 19 extents found
after filter: 262332416#69632#184320#shared 240558080#73728#253952#shared 258310144#110592#475136#shared 260042752#98304#585728#shared 20500480#12288#684032#shared 20889600#4096#839680#shared 260141056#90112#851968#shared 14598144#4096#942080#unwritten,shared 240291840#12288#1101824#unwritten,shared 240336896#16384#1114112#unwritten,shared 240291840#12288#1298432#unwritten,shared 240336896#16384#1310720#unwritten,shared 21815296#57344#1466368#shared 17035264#36864#1523712#shared 249327616#106496#1974272#shared 261107712#110592#2129920#shared 252108800#12288#2240512#shared 258580480#36864#2445312#shared 252764160#32768#2551808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 262332416 /mnt/scratch
inode 263 offset 184320 root 5
inode 263 offset 184320 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 240558080 /mnt/scratch
inode 263 offset 253952 root 5
inode 263 offset 253952 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 258310144 /mnt/scratch
inode 263 offset 475136 root 5
inode 263 offset 475136 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 260042752 /mnt/scratch
inode 263 offset 585728 root 5
inode 263 offset 585728 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 20500480 /mnt/scratch
inode 263 offset 684032 root 5
inode 263 offset 684032 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 20889600 /mnt/scratch
inode 263 offset 839680 root 5
inode 263 offset 839680 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 260141056 /mnt/scratch
inode 263 offset 851968 root 5
inode 263 offset 851968 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 14598144 /mnt/scratch
inode 270 offset 491520 root 258
inode 311 offset 274432 root 258
inode 260 offset 1445888 root 258
inode 270 offset 491520 root 5
inode 263 offset 942080 root 5
inode 260 offset 1445888 root 5
inode 311 offset 274432 root 5
inode 263 offset 942080 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 5
inode 291 offset 1384448 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 258
inode 263 offset 1101824 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 240336896 /mnt/scratch
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 5
inode 291 offset 1396736 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 258
inode 263 offset 1114112 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1517900839
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 5
inode 291 offset 1384448 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 258
inode 263 offset 1101824 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 240336896 /mnt/scratch
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 5
inode 291 offset 1396736 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 258
inode 263 offset 1114112 root 258
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 21815296 /mnt/scratch
inode 263 offset 1466368 root 258
inode 263 offset 1466368 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 17035264 /mnt/scratch
inode 263 offset 1523712 root 258
inode 260 offset 864256 root 258
inode 263 offset 1523712 root 5
inode 260 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 249327616 /mnt/scratch
inode 263 offset 1974272 root 258
inode 263 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 261107712 /mnt/scratch
inode 263 offset 2129920 root 258
inode 263 offset 2129920 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 252108800 /mnt/scratch
inode 263 offset 2240512 root 258
inode 263 offset 2240512 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 258580480 /mnt/scratch
inode 263 offset 2445312 root 258
inode 263 offset 2445312 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/f22
263
# /bin/btrfs inspect-internal logical-resolve -P 252764160 /mnt/scratch
inode 263 offset 2551808 root 258
inode 263 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 263 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/f22
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5 is 1401121 (343 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      40:      64292..     64304:     13:         28: shared
   1:       97..     125:      65231..     65259:     29:      64361: shared
   2:      180..     196:      66319..     66335:     17:      65314: shared
   3:      198..     201:      66783..     66786:      4:      66337: shared
   4:      273..     275:      70832..     70834:      3:      66858: last,shared
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5: 5 extents found
after filter: 263340032#53248#114688#shared 267186176#118784#397312#shared 271642624#69632#737280#shared 273543168#16384#811008#shared 290127872#12288#1118208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
425
# /bin/btrfs inspect-internal logical-resolve -P 263340032 /mnt/scratch
inode 425 offset 114688 root 258
inode 425 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
425
# /bin/btrfs inspect-internal logical-resolve -P 267186176 /mnt/scratch
inode 425 offset 397312 root 258
inode 425 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
425
# /bin/btrfs inspect-internal logical-resolve -P 271642624 /mnt/scratch
inode 425 offset 737280 root 258
inode 425 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
425
# /bin/btrfs inspect-internal logical-resolve -P 273543168 /mnt/scratch
inode 425 offset 811008 root 258
inode 425 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
425
# /bin/btrfs inspect-internal logical-resolve -P 290127872 /mnt/scratch
inode 425 offset 1118208 root 258
inode 425 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d3a/d47/da7/dd3/fd5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1 is 1312959 (321 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      239..     253:      66618..     66632:     15:        239: shared
   1:      289..     320:      67074..     67105:     32:      66668: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1: 2 extents found
after filter: 272867328#61440#978944#shared 274735104#131072#1183744#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 272867328 /mnt/scratch
inode 448 offset 978944 root 258
inode 448 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1
448
# /bin/btrfs inspect-internal logical-resolve -P 274735104 /mnt/scratch
inode 448 offset 1183744 root 258
inode 448 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d1b/d76/ff1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/f156
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/f156 is 868108 (212 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      129..     142:      71403..     71416:     14:        129: shared
   1:      196..     211:      69943..     69958:     16:      71470: last,shared,eof
/mnt/scratch/snap1/p0/d7/f156: 2 extents found
after filter: 292466688#57344#528384#shared 286486528#65536#802816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/f156
461
# /bin/btrfs inspect-internal logical-resolve -P 292466688 /mnt/scratch
inode 461 offset 528384 root 258
inode 461 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f156
# stat -c %i /mnt/scratch/snap1/p0/d7/f156
461
# /bin/btrfs inspect-internal logical-resolve -P 286486528 /mnt/scratch
inode 461 offset 802816 root 258
inode 461 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 461 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/f156
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f13b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f13b is 173981 (43 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      42:      68290..     68311:     22:         21: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f13b: 1 extent found
after filter: 279715840#90112#86016#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f13b
510
# /bin/btrfs inspect-internal logical-resolve -P 279715840 /mnt/scratch
inode 510 offset 86016 root 258
inode 510 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/f13b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/d127/f176
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/d127/f176 is 394182 (97 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d63/d127/f176: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/df4/f132
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/df4/f132 is 446464 (109 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       86..      90:       3696..      3700:      5:         86: shared
   1:       91..     108:      67937..     67954:     18:       3701: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/df4/f132: 2 extents found
after filter: 15138816#20480#352256#shared 278269952#73728#372736#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/df4/f132
259
# /bin/btrfs inspect-internal logical-resolve -P 15138816 /mnt/scratch
inode 259 offset 352256 root 258
inode 259 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 259 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/df4/f132
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/df4/f132
259
# /bin/btrfs inspect-internal logical-resolve -P 278269952 /mnt/scratch
inode 259 offset 372736 root 258
inode 259 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 259 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/df4/f132
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190 is 1343488 (328 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      132..     133:      71760..     71761:      2:        132: shared
   1:      134..     158:      70947..     70971:     25:      71762: shared
   2:      159..     321:      70972..     71134:    163:             unwritten,shared
   3:      328..     348:      71141..     71161:     21:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190: 2 extents found
after filter: 293928960#8192#540672#shared 290598912#102400#548864#shared 290701312#667648#651264#unwritten,shared 291393536#86016#1343488#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
574
# /bin/btrfs inspect-internal logical-resolve -P 293928960 /mnt/scratch
inode 574 offset 540672 root 258
inode 574 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 574 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
574
# /bin/btrfs inspect-internal logical-resolve -P 290598912 /mnt/scratch
inode 574 offset 548864 root 258
inode 574 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 574 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
574
# /bin/btrfs inspect-internal logical-resolve -P 290701312 /mnt/scratch
inode 574 offset 651264 root 258
inode 574 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 574 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
574
# /bin/btrfs inspect-internal logical-resolve -P 291393536 /mnt/scratch
inode 574 offset 1343488 root 258
inode 574 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 574 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d122/d15b/f190
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a is 920667 (225 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      130..     142:      69568..     69580:     13:        130: unwritten,shared
   1:      162..     207:      69600..     69645:     46:             unwritten,shared
   2:      208..     208:      69646..     69646:      1:             shared
   3:      209..     221:      69647..     69659:     13:             unwritten,shared
   4:      222..     224:      69660..     69662:      3:             shared,eof
   5:      225..     242:      69663..     69680:     18:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a: 1 extent found
after filter: 284950528#53248#532480#unwritten,shared 285081600#188416#663552#unwritten,shared 285270016#4096#851968#shared 285274112#53248#856064#unwritten,shared 285327360#12288#909312#shared,eof 285339648#73728#921600#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 284950528 /mnt/scratch
inode 519 offset 532480 root 258
inode 519 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 285081600 /mnt/scratch
inode 519 offset 663552 root 258
inode 519 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 285270016 /mnt/scratch
inode 519 offset 851968 root 258
inode 519 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 285274112 /mnt/scratch
inode 519 offset 856064 root 258
inode 519 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 285327360 /mnt/scratch
inode 519 offset 909312 root 258
inode 519 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
519
# /bin/btrfs inspect-internal logical-resolve -P 285339648 /mnt/scratch
inode 519 offset 921600 root 258
inode 519 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc is 1216841 (298 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       78..      84:      68312..     68318:      7:         78: shared
   1:      149..     242:      68700..     68793:     94:      68383: unwritten,shared
   2:      243..     259:      68794..     68810:     17:             shared
   3:      260..     270:      68811..     68821:     11:             unwritten,shared
   4:      271..     296:      68822..     68847:     26:             shared
   5:      297..     297:      71798..     71798:      1:      68848: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc: 3 extents found
after filter: 279805952#28672#319488#shared 281395200#385024#610304#unwritten,shared 281780224#69632#995328#shared 281849856#45056#1064960#unwritten,shared 281894912#106496#1110016#shared 294084608#4096#1216512#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 279805952 /mnt/scratch
inode 459 offset 319488 root 258
inode 459 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 281395200 /mnt/scratch
inode 459 offset 610304 root 258
inode 459 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 281780224 /mnt/scratch
inode 459 offset 995328 root 258
inode 459 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 281849856 /mnt/scratch
inode 459 offset 1064960 root 258
inode 459 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 281894912 /mnt/scratch
inode 459 offset 1110016 root 258
inode 459 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
459
# /bin/btrfs inspect-internal logical-resolve -P 294084608 /mnt/scratch
inode 459 offset 1216512 root 258
inode 459 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/d7a/ffc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d is 930395 (228 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..     103:      71736..     71759:     24:         80: shared
   1:      197..     227:      68333..     68363:     31:      71853: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d: 2 extents found
after filter: 293830656#98304#327680#shared 279891968#126976#806912#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d
512
# /bin/btrfs inspect-internal logical-resolve -P 293830656 /mnt/scratch
inode 512 offset 327680 root 258
inode 512 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d
512
# /bin/btrfs inspect-internal logical-resolve -P 279891968 /mnt/scratch
inode 512 offset 806912 root 258
inode 512 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f13d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad is 761683 (186 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      183..     185:      65187..     65189:      3:        183: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad: 1 extent found
after filter: 267005952#12288#749568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad
415
# /bin/btrfs inspect-internal logical-resolve -P 267005952 /mnt/scratch
inode 415 offset 749568 root 258
inode 415 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/f1ad
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/f144
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
seed = 1517415953
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62 is 1196417 (293 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      41:      59973..     59988:     16:         26: shared
   1:       42..      59:      66176..     66193:     18:      59989: shared
   2:       60..      66:      60460..     60466:      7:      66194: shared
   3:       67..      82:      69071..     69086:     16:      60467: shared
   4:       83..      89:      61749..     61755:      7:      69087: shared
   5:       90..      90:      61543..     61543:      1:      61756: shared
   6:      156..     176:      59912..     59932:     21:      61609: shared
   7:      177..     179:      60602..     60604:      3:      59933: unwritten,shared
   8:      253..     260:      66194..     66201:      8:      60678: shared
   9:      284..     292:      65324..     65332:      9:      66225: shared,eof
  10:      446..     525:      61990..     62069:     80:      65486: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62: 11 extents found
after filter: 245649408#65536#106496#shared 271056896#73728#172032#shared 247644160#28672#245760#shared 282914816#65536#274432#shared 252923904#28672#339968#shared 252080128#4096#368640#shared 245399552#86016#638976#shared 248225792#12288#724992#unwritten,shared 271130624#32768#1036288#shared 267567104#36864#1163264#shared,eof 253911040#327680#1826816#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 245649408 /mnt/scratch
inode 337 offset 106496 root 258
inode 337 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 271056896 /mnt/scratch
inode 337 offset 172032 root 258
inode 337 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 247644160 /mnt/scratch
inode 337 offset 245760 root 258
inode 337 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 282914816 /mnt/scratch
inode 337 offset 274432 root 258
inode 337 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 252923904 /mnt/scratch
inode 337 offset 339968 root 258
inode 337 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 252080128 /mnt/scratch
inode 273 offset 933888 root 258
inode 337 offset 368640 root 258
inode 273 offset 933888 root 5
inode 337 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 245399552 /mnt/scratch
inode 337 offset 638976 root 258
inode 337 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 248225792 /mnt/scratch
inode 337 offset 724992 root 258
inode 337 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 271130624 /mnt/scratch
inode 337 offset 1036288 root 258
inode 337 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 267567104 /mnt/scratch
inode 337 offset 1163264 root 258
inode 337 offset 1163264 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
337
# /bin/btrfs inspect-internal logical-resolve -P 253911040 /mnt/scratch
inode 337 offset 1826816 root 258
inode 337 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/f62
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52 is 3548834 (867 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       93..      94:       4524..      4525:      2:         93: shared
   1:       95..     114:       5226..      5245:     20:       4526: shared
   2:      115..     129:      69861..     69875:     15:       5246: shared
   3:      200..     214:      60076..     60090:     15:      69946: shared
   4:      338..     340:      58665..     58667:      3:      60214: unwritten,shared
   5:      341..     344:      58676..     58679:      4:      58668: unwritten,shared
   6:      347..     347:       4496..      4496:      1:      58682: shared
   7:      381..     397:      67211..     67227:     17:       4530: shared
   8:      493..     523:      61090..     61120:     31:      67323: shared
   9:      524..     547:       4740..      4763:     24:      61121: shared
  10:      548..     552:       4764..      4768:      5:             unwritten,shared
  11:      566..     567:       4782..      4783:      2:             unwritten,shared
  12:      584..     590:       4800..      4806:      7:             unwritten,shared
  13:      591..     615:       5008..      5032:     25:       4807: unwritten,shared
  14:      616..     622:       5033..      5039:      7:             shared
  15:      623..     637:      59692..     59706:     15:       5040: shared
  16:      665..     679:      59897..     59911:     15:      59734: shared
  17:      768..     781:      65440..     65453:     14:      60000: shared
  18:      863..     866:      64194..     64197:      4:      65535: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52: 15 extents found
after filter: 18530304#8192#380928#shared 21405696#81920#389120#shared 286150656#61440#471040#shared 246071296#61440#819200#shared 240291840#12288#1384448#unwritten,shared 240336896#16384#1396736#unwritten,shared 18415616#4096#1421312#shared 275296256#69632#1560576#shared 250224640#126976#2019328#shared 19415040#98304#2146304#shared 19513344#20480#2244608#unwritten,shared 19587072#8192#2318336#unwritten,shared 19660800#28672#2392064#unwritten,shared 20512768#102400#2420736#unwritten,shared 20615168#28672#2523136#shared 244498432#61440#2551808#shared 245338112#61440#2723840#shared 268042240#57344#3145728#shared 262938624#16384#3534848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 18530304 /mnt/scratch
inode 291 offset 380928 root 258
inode 291 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 21405696 /mnt/scratch
inode 291 offset 389120 root 258
inode 291 offset 389120 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 286150656 /mnt/scratch
inode 291 offset 471040 root 258
inode 291 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 246071296 /mnt/scratch
inode 291 offset 819200 root 258
inode 291 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 258
inode 291 offset 1384448 root 5
inode 291 offset 1384448 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1101824 root 5
inode 263 offset 1298432 root 5
inode 263 offset 1298432 root 258
inode 263 offset 1101824 root 258
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 240336896 /mnt/scratch
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 258
inode 291 offset 1396736 root 5
inode 291 offset 1396736 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1114112 root 5
inode 263 offset 1310720 root 5
inode 263 offset 1310720 root 258
inode 263 offset 1114112 root 258
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 18415616 /mnt/scratch
inode 291 offset 1421312 root 258
inode 291 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 275296256 /mnt/scratch
inode 291 offset 1560576 root 258
inode 291 offset 1560576 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 250224640 /mnt/scratch
inode 291 offset 2019328 root 258
inode 291 offset 2019328 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 19415040 /mnt/scratch
inode 291 offset 2146304 root 258
inode 291 offset 2146304 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 19513344 /mnt/scratch
inode 291 offset 2244608 root 258
inode 291 offset 2244608 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 19587072 /mnt/scratch
inode 291 offset 2318336 root 258
inode 291 offset 2318336 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 19660800 /mnt/scratch
inode 291 offset 2392064 root 258
inode 384 offset 270336 root 258
inode 291 offset 2392064 root 5
inode 384 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 20512768 /mnt/scratch
inode 291 offset 2420736 root 258
inode 291 offset 2420736 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 20615168 /mnt/scratch
inode 291 offset 2523136 root 258
inode 291 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 244498432 /mnt/scratch
inode 291 offset 2551808 root 258
inode 291 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 245338112 /mnt/scratch
inode 291 offset 2723840 root 258
inode 291 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 268042240 /mnt/scratch
inode 291 offset 3145728 root 258
inode 291 offset 3145728 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
291
# /bin/btrfs inspect-internal logical-resolve -P 262938624 /mnt/scratch
inode 291 offset 3534848 root 258
inode 291 offset 3534848 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84 is 2703360 (660 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      13:      65081..     65085:      5:          9: shared
   1:       21..      25:      61691..     61695:      5:      65093: shared
   2:       62..      75:      61696..     61709:     14:             shared
   3:       76..      86:      61476..     61486:     11:      61710: shared
   4:       87..     116:      63092..     63121:     30:      61487: shared
   5:      199..     206:      63338..     63345:      8:      63204: shared
   6:      234..     256:      72476..     72498:     23:      63373: shared
   7:      368..     389:      64392..     64413:     22:      72610: shared
   8:      416..     418:      63123..     63125:      3:      64440: shared
   9:      430..     435:       3547..      3552:      6:      63137: unwritten,shared
  10:      451..     464:      67514..     67527:     14:       3568: shared
  11:      465..     465:      71264..     71264:      1:      67528: shared
  12:      648..     659:      70381..     70392:     12:      71447: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84: 12 extents found
after filter: 266571776#20480#36864#shared 252686336#20480#86016#shared 252706816#57344#253952#shared 251805696#45056#311296#shared 258424832#122880#356352#shared 259432448#32768#815104#shared 296861696#94208#958464#shared 263749632#90112#1507328#shared 258551808#12288#1703936#shared 14528512#24576#1761280#unwritten,shared 276537344#57344#1847296#shared 291897344#4096#1904640#shared 288280576#49152#2654208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 266571776 /mnt/scratch
inode 360 offset 36864 root 258
inode 360 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 252686336 /mnt/scratch
inode 360 offset 86016 root 258
inode 360 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 252706816 /mnt/scratch
inode 360 offset 253952 root 258
inode 360 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 251805696 /mnt/scratch
inode 360 offset 311296 root 258
inode 360 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 258424832 /mnt/scratch
inode 360 offset 356352 root 258
inode 360 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 259432448 /mnt/scratch
inode 374 offset 77824 root 258
inode 360 offset 815104 root 258
inode 374 offset 77824 root 5
inode 360 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 296861696 /mnt/scratch
inode 360 offset 958464 root 258
inode 360 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 263749632 /mnt/scratch
inode 360 offset 1507328 root 258
inode 360 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 258551808 /mnt/scratch
inode 360 offset 1703936 root 258
inode 360 offset 1703936 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 14528512 /mnt/scratch
inode 360 offset 1761280 root 258
inode 303 offset 364544 root 258
inode 270 offset 1073152 root 258
inode 270 offset 1073152 root 258
inode 311 offset 204800 root 258
inode 260 offset 1376256 root 258
inode 360 offset 1761280 root 5
inode 303 offset 364544 root 5
inode 270 offset 1073152 root 5
inode 270 offset 1073152 root 5
inode 311 offset 204800 root 5
inode 260 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 276537344 /mnt/scratch
inode 360 offset 1847296 root 258
inode 360 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 291897344 /mnt/scratch
inode 360 offset 1904640 root 258
inode 360 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
360
# /bin/btrfs inspect-internal logical-resolve -P 288280576 /mnt/scratch
inode 360 offset 2654208 root 258
inode 360 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 360 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/f84
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/f13
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/f13 is 3602785 (880 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      23:       5065..      5072:      8:         16: shared
   1:       48..      61:      69056..     69069:     14:       5097: shared
   2:       81..      84:      61965..     61968:      4:      69089: unwritten,shared
   3:      105..     115:       4130..      4140:     11:      61989: shared
   4:      116..     116:       5073..      5073:      1:       4141: shared
   5:      147..     165:      59606..     59624:     19:       5104: unwritten,shared
   6:      166..     168:       3404..      3406:      3:      59625: shared
   7:      169..     178:       4105..      4114:     10:       3407: shared
   8:      179..     180:       3417..      3418:      2:       4115: shared
   9:      181..     195:      59625..     59639:     15:       3419: unwritten,shared
  10:      204..     212:      59648..     59656:      9:             unwritten,shared
  11:      261..     274:      68319..     68332:     14:      59705: shared
  12:      344..     359:      59949..     59964:     16:      68402: shared
  13:      360..     360:      58679..     58679:      1:      59965: unwritten,shared
  14:      384..     408:      69213..     69237:     25:      58703: shared
  15:      409..     412:      58756..     58759:      4:      69238: shared
  16:      415..     423:       5280..      5288:      9:      58762: shared
  17:      424..     434:      58760..     58770:     11:       5289: shared
  18:      435..     443:       5300..      5308:      9:      58771: shared
  19:      444..     444:      60844..     60844:      1:       5309: shared
  20:      479..     479:      63063..     63063:      1:      60879: shared
  21:      627..     656:      60523..     60552:     30:      63211: shared
  22:      815..     833:      61883..     61901:     19:      60711: shared
  23:      856..     878:      68053..     68075:     23:      61924: shared
  24:      879..     879:      69070..     69070:      1:      68076: shared,eof
  25:      991..    1150:      68848..     69007:    160:      69182: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/f13: 25 extents found
after filter: 20746240#32768#65536#shared 282853376#57344#196608#shared 253808640#16384#331776#unwritten,shared 16916480#45056#430080#shared 20779008#4096#475136#shared 244146176#77824#602112#unwritten,shared 13942784#12288#679936#shared 16814080#40960#692224#shared 13996032#8192#733184#shared 244224000#61440#741376#unwritten,shared 244318208#36864#835584#unwritten,shared 279834624#57344#1069056#shared 245551104#65536#1409024#shared 240349184#4096#1474560#unwritten,shared 283496448#102400#1572864#shared 240664576#16384#1675264#shared 21626880#36864#1699840#shared 240680960#45056#1736704#shared 21708800#36864#1781760#shared 249217024#4096#1818624#shared 258306048#4096#1961984#shared 247902208#122880#2568192#shared 253472768#77824#3338240#shared 278745088#94208#3506176#shared 282910720#4096#3600384#shared,eof 282001408#655360#4059136#last,unwritten,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 20746240 /mnt/scratch
inode 271 offset 65536 root 258
inode 271 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 282853376 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518055186
inode 271 offset 196608 root 258
inode 271 offset 196608 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 253808640 /mnt/scratch
inode 271 offset 331776 root 258
inode 345 offset 1404928 root 258
inode 366 offset 1052672 root 258
inode 345 offset 679936 root 258
inode 345 offset 679936 root 5
inode 345 offset 1404928 root 5
inode 345 offset 1404928 root 5
inode 271 offset 331776 root 5
inode 366 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 16916480 /mnt/scratch
inode 271 offset 430080 root 258
inode 271 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 20779008 /mnt/scratch
inode 271 offset 475136 root 258
inode 271 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 244146176 /mnt/scratch
inode 271 offset 602112 root 258
inode 271 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 13942784 /mnt/scratch
inode 271 offset 679936 root 258
inode 271 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 16814080 /mnt/scratch
inode 271 offset 692224 root 258
inode 271 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 13996032 /mnt/scratch
inode 271 offset 733184 root 258
inode 271 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 244224000 /mnt/scratch
inode 271 offset 741376 root 258
inode 271 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 244318208 /mnt/scratch
inode 271 offset 835584 root 258
inode 271 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 279834624 /mnt/scratch
inode 271 offset 1069056 root 258
inode 271 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 245551104 /mnt/scratch
inode 271 offset 1409024 root 258
inode 271 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 240349184 /mnt/scratch
inode 291 offset 1409024 root 258
inode 291 offset 1409024 root 258
inode 271 offset 1474560 root 258
inode 291 offset 1409024 root 5
inode 291 offset 1409024 root 5
inode 263 offset 1126400 root 5
inode 263 offset 1323008 root 5
inode 263 offset 1323008 root 5
inode 263 offset 1323008 root 5
inode 263 offset 1126400 root 5
inode 263 offset 1323008 root 5
inode 271 offset 1474560 root 5
inode 263 offset 1323008 root 258
inode 263 offset 1126400 root 258
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 283496448 /mnt/scratch
inode 271 offset 1572864 root 258
inode 271 offset 1572864 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 240664576 /mnt/scratch
inode 271 offset 1675264 root 258
inode 271 offset 1675264 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 21626880 /mnt/scratch
inode 271 offset 1699840 root 258
inode 271 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 240680960 /mnt/scratch
inode 271 offset 1736704 root 258
inode 271 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 21708800 /mnt/scratch
inode 271 offset 1781760 root 258
inode 271 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 249217024 /mnt/scratch
inode 271 offset 1818624 root 258
inode 271 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 258306048 /mnt/scratch
inode 271 offset 1961984 root 258
inode 271 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 247902208 /mnt/scratch
inode 271 offset 2568192 root 258
inode 271 offset 2568192 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 253472768 /mnt/scratch
inode 271 offset 3338240 root 258
inode 271 offset 3338240 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 278745088 /mnt/scratch
inode 271 offset 3506176 root 258
inode 271 offset 3506176 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 282910720 /mnt/scratch
inode 271 offset 3600384 root 258
inode 271 offset 3600384 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f13
271
# /bin/btrfs inspect-internal logical-resolve -P 282001408 /mnt/scratch
inode 271 offset 4059136 root 258
inode 271 offset 4059136 root 5
# /bin/btrfs inspect-internal inode-resolve 271 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f13
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/f61
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/f61 is 3015225 (737 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       73..      77:      61356..     61360:      5:         73: shared
   1:       78..      87:      61515..     61524:     10:      61361: shared
   2:       88..     103:      64117..     64132:     16:      61525: shared
   3:      309..     316:      65600..     65607:      8:      64338: shared
   4:      317..     323:      61456..     61462:      7:      65608: shared
   5:      324..     333:      68271..     68280:     10:      61463: shared
   6:      334..     335:      61473..     61474:      2:      68281: shared
   7:      336..     419:      71831..     71914:     84:      61475: unwritten,shared
   8:      420..     428:      63016..     63024:      9:      71915: shared
   9:      429..     479:      71915..     71965:     51:      63025: unwritten,shared
  10:      480..     484:      61985..     61989:      5:      71966: shared
  11:      485..     493:      71966..     71974:      9:      61990: unwritten,shared
  12:      639..     668:      63665..     63694:     30:      72120: shared
  13:      669..     669:      65294..     65294:      1:      63695: shared
  14:      708..     736:      65295..     65323:     29:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/f61: 14 extents found
after filter: 251314176#20480#299008#shared 251965440#40960#319488#shared 262623232#65536#360448#shared 268697600#32768#1265664#shared 251723776#28672#1298432#shared 279638016#40960#1327104#shared 251793408#8192#1368064#shared 294219776#344064#1376256#unwritten,shared 258113536#36864#1720320#shared 294563840#208896#1757184#unwritten,shared 253890560#20480#1966080#shared 294772736#36864#1986560#unwritten,shared 260771840#122880#2617344#shared 267444224#4096#2740224#shared 267448320#118784#2899968#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 251314176 /mnt/scratch
inode 336 offset 299008 root 258
inode 336 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 251965440 /mnt/scratch
inode 336 offset 319488 root 258
inode 336 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 262623232 /mnt/scratch
inode 336 offset 360448 root 258
inode 336 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 268697600 /mnt/scratch
inode 336 offset 1265664 root 258
inode 336 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 251723776 /mnt/scratch
inode 336 offset 1298432 root 258
inode 336 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 279638016 /mnt/scratch
inode 336 offset 1327104 root 258
inode 336 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 251793408 /mnt/scratch
inode 336 offset 1368064 root 258
inode 336 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 294219776 /mnt/scratch
inode 336 offset 1376256 root 258
inode 336 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 258113536 /mnt/scratch
inode 336 offset 1720320 root 258
inode 336 offset 1720320 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 294563840 /mnt/scratch
inode 336 offset 1757184 root 258
inode 336 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 253890560 /mnt/scratch
inode 336 offset 1966080 root 258
inode 336 offset 1966080 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 294772736 /mnt/scratch
inode 336 offset 1986560 root 258
inode 336 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 260771840 /mnt/scratch
inode 311 offset 446464 root 258
inode 336 offset 2617344 root 258
inode 311 offset 446464 root 5
inode 336 offset 2617344 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 267444224 /mnt/scratch
inode 336 offset 2740224 root 258
inode 336 offset 2740224 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/f61
336
# /bin/btrfs inspect-internal logical-resolve -P 267448320 /mnt/scratch
inode 336 offset 2899968 root 258
inode 336 offset 2899968 root 5
# /bin/btrfs inspect-internal inode-resolve 336 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/f61
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/fe7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/fe7 is 760720 (186 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      172..     184:      65487..     65499:     13:        172: unwritten,shared
   1:      185..     185:      65500..     65500:      1:             shared,eof
   2:      186..     276:      65501..     65591:     91:             unwritten,shared,eof
   3:      277..     349:      67299..     67371:     73:      65592: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/fe7: 2 extents found
after filter: 268234752#53248#704512#unwritten,shared 268288000#4096#757760#shared,eof 268292096#372736#761856#unwritten,shared,eof 275656704#299008#1134592#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fe7
440
# /bin/btrfs inspect-internal logical-resolve -P 268234752 /mnt/scratch
inode 440 offset 704512 root 258
inode 440 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fe7
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fe7
440
# /bin/btrfs inspect-internal logical-resolve -P 268288000 /mnt/scratch
inode 440 offset 757760 root 258
inode 440 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fe7
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fe7
440
# /bin/btrfs inspect-internal logical-resolve -P 268292096 /mnt/scratch
inode 440 offset 761856 root 258
inode 440 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fe7
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/fe7
440
# /bin/btrfs inspect-internal logical-resolve -P 275656704 /mnt/scratch
inode 440 offset 1134592 root 258
inode 440 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/fe7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f is 1814298 (443 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      46:      68364..     68388:     25:         22: shared
   1:       47..      47:      69238..     69238:      1:      68389: shared
   2:       79..      82:      71732..     71735:      4:      69270: shared
   3:      173..     180:      70029..     70036:      8:      71826: shared
   4:      217..     217:      72393..     72393:      1:      70073: shared
   5:      417..     442:      72394..     72419:     26:             last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f: 5 extents found
after filter: 280018944#102400#90112#shared 283598848#4096#192512#shared 293814272#16384#323584#shared 286838784#32768#708608#shared 296521728#4096#888832#shared 296525824#106496#1708032#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 280018944 /mnt/scratch
inode 486 offset 90112 root 258
inode 486 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 283598848 /mnt/scratch
inode 486 offset 192512 root 258
inode 486 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 293814272 /mnt/scratch
inode 486 offset 323584 root 258
inode 486 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 286838784 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 486 offset 708608 root 258
inode 486 offset 708608 root 5
seed = 1517704510
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 296521728 /mnt/scratch
inode 486 offset 888832 root 258
inode 486 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
486
# /bin/btrfs inspect-internal logical-resolve -P 296525824 /mnt/scratch
inode 486 offset 1708032 root 258
inode 486 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 486 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/de0/f11f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174 is 660910 (162 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      100..     122:      68390..     68412:     23:        100: shared
   1:      123..     123:      69035..     69035:      1:      68413: shared
   2:      142..     161:      69036..     69055:     20:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174: 2 extents found
after filter: 280125440#94208#409600#shared 282767360#4096#503808#shared 282771456#81920#581632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
508
# /bin/btrfs inspect-internal logical-resolve -P 280125440 /mnt/scratch
inode 508 offset 409600 root 258
inode 508 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
508
# /bin/btrfs inspect-internal logical-resolve -P 282767360 /mnt/scratch
inode 508 offset 503808 root 258
inode 508 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
508
# /bin/btrfs inspect-internal logical-resolve -P 282771456 /mnt/scratch
inode 508 offset 581632 root 258
inode 508 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/f174
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/d10d/f148
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/d10d/f148 is 920667 (225 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      130..     142:      69568..     69580:     13:        130: unwritten,shared
   1:      162..     207:      69600..     69645:     46:             unwritten,shared
   2:      208..     208:      69646..     69646:      1:             shared
   3:      209..     221:      69647..     69659:     13:             unwritten,shared
   4:      222..     224:      69660..     69662:      3:             shared,eof
   5:      225..     242:      69663..     69680:     18:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d7/d14/d10d/f148: 1 extent found
after filter: 284950528#53248#532480#unwritten,shared 285081600#188416#663552#unwritten,shared 285270016#4096#851968#shared 285274112#53248#856064#unwritten,shared 285327360#12288#909312#shared,eof 285339648#73728#921600#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 284950528 /mnt/scratch
inode 519 offset 532480 root 258
inode 519 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 285081600 /mnt/scratch
inode 519 offset 663552 root 258
inode 519 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 285270016 /mnt/scratch
inode 519 offset 851968 root 258
inode 519 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 285274112 /mnt/scratch
inode 519 offset 856064 root 258
inode 519 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 285327360 /mnt/scratch
inode 519 offset 909312 root 258
inode 519 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/d10d/f148
519
# /bin/btrfs inspect-internal logical-resolve -P 285339648 /mnt/scratch
inode 519 offset 921600 root 258
inode 519 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 519 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/d10d/f148
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/f15a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a is 1265664 (309 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      28:      70543..     70555:     13:         16: shared
   1:       36..      44:      69087..     69095:      9:      70563: shared
   2:       45..      45:      72453..     72453:      1:      69096: shared
   3:      295..     308:      72111..     72124:     14:      72703: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a: 4 extents found
after filter: 288944128#53248#65536#shared 282980352#36864#147456#shared 296767488#4096#184320#shared 295366656#57344#1208320#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
470
# /bin/btrfs inspect-internal logical-resolve -P 288944128 /mnt/scratch
inode 470 offset 65536 root 258
inode 470 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
470
# /bin/btrfs inspect-internal logical-resolve -P 282980352 /mnt/scratch
inode 470 offset 147456 root 258
inode 470 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
470
# /bin/btrfs inspect-internal logical-resolve -P 296767488 /mnt/scratch
inode 470 offset 184320 root 258
inode 470 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
470
# /bin/btrfs inspect-internal logical-resolve -P 295366656 /mnt/scratch
inode 470 offset 1208320 root 258
inode 470 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d8a/f10a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f107
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f107 is 536576 (131 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      109..     130:      67614..     67635:     22:        109: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/f107: 1 extent found
after filter: 276946944#90112#446464#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/dae/dbf/f107
468
# /bin/btrfs inspect-internal logical-resolve -P 276946944 /mnt/scratch
inode 468 offset 446464 root 258
inode 468 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/f107
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6 is 2525569 (617 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      132..     153:      65608..     65629:     22:        132: shared
   1:      154..     154:      65716..     65716:      1:      65630: shared
   2:      214..     239:      67273..     67298:     26:      65776: shared
   3:      274..     290:      65717..     65733:     17:      67333: shared
   4:      291..     291:      67506..     67506:      1:      65734: shared
   5:      462..     466:      67507..     67511:      5:             shared
   6:      467..     467:      71299..     71299:      1:      67512: shared
   7:      600..     616:      71300..     71316:     17:             last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6: 6 extents found
after filter: 268730368#90112#540672#shared 269172736#4096#630784#shared 275550208#106496#876544#shared 269176832#69632#1122304#shared 276504576#4096#1191936#shared 276508672#20480#1892352#shared 292040704#4096#1912832#shared 292044800#69632#2457600#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 268730368 /mnt/scratch
inode 426 offset 540672 root 258
inode 426 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 269172736 /mnt/scratch
inode 426 offset 630784 root 258
inode 426 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 275550208 /mnt/scratch
inode 426 offset 876544 root 258
inode 426 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 269176832 /mnt/scratch
inode 426 offset 1122304 root 258
inode 426 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 276504576 /mnt/scratch
inode 563 offset 552960 root 258
inode 426 offset 1191936 root 258
inode 563 offset 552960 root 5
inode 426 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 276508672 /mnt/scratch
inode 426 offset 1892352 root 258
inode 426 offset 1892352 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 292040704 /mnt/scratch
inode 426 offset 1912832 root 258
inode 426 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
426
# /bin/btrfs inspect-internal logical-resolve -P 292044800 /mnt/scratch
inode 426 offset 2457600 root 258
inode 426 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 426 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d35/fd6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9 is 817167 (200 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..      82:      71201..     71203:      3:         80: shared
   1:      195..     199:      71204..     71208:      5:             last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9: 1 extent found
after filter: 291639296#12288#327680#shared 291651584#20480#798720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9
441
# /bin/btrfs inspect-internal logical-resolve -P 291639296 /mnt/scratch
inode 441 offset 327680 root 258
inode 441 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9
441
# /bin/btrfs inspect-internal logical-resolve -P 291651584 /mnt/scratch
inode 441 offset 798720 root 258
inode 441 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d5c/fe9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f140
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f140 is 870333 (213 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f140: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f111
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f111 is 259517 (64 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      63:      68199..     68230:     32:         32: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f111: 1 extent found
after filter: 279343104#131072#131072#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f111
473
# /bin/btrfs inspect-internal logical-resolve -P 279343104 /mnt/scratch
inode 473 offset 131072 root 258
inode 473 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/dd0/f111
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/d7e/f14f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/d7e/f14f is 202267 (50 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      49:      72420..     72426:      7:         43: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/d7e/f14f: 1 extent found
after filter: 296632320#28672#176128#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/d7e/f14f
524
# /bin/btrfs inspect-internal logical-resolve -P 296632320 /mnt/scratch
inode 524 offset 176128 root 258
inode 524 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 524 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/d64/d7e/f14f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f160
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f160 is 996341 (244 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d7/dc/d24/d4d/d78/f160: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb is 1654784 (404 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      157..     163:      68231..     68237:      7:        157: shared
   1:      164..     164:      71492..     71492:      1:      68238: shared
   2:      373..     403:      72021..     72051:     31:      71701: last,shared,eof
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb: 3 extents found
after filter: 279474176#28672#643072#shared 292831232#4096#671744#shared 294998016#126976#1527808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
458
# /bin/btrfs inspect-internal logical-resolve -P 279474176 /mnt/scratch
inode 458 offset 643072 root 258
inode 458 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
458
# /bin/btrfs inspect-internal logical-resolve -P 292831232 /mnt/scratch
inode 458 offset 671744 root 258
inode 458 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
458
# /bin/btrfs inspect-internal logical-resolve -P 294998016 /mnt/scratch
inode 458 offset 1527808 root 258
inode 458 offset 1527808 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/d24/d2c/ffb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/dc/f8c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/dc/f8c is 1662976 (406 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      75:      62637..     62658:     22:         54: unwritten,shared
   1:       81..      91:      65383..     65393:     11:      62664: shared
   2:       92..      98:      62675..     62681:      7:      65394: shared
   3:       99..     123:      62682..     62706:     25:             unwritten,shared
   4:      183..     183:      64116..     64116:      1:      62766: shared
   5:      257..     260:      61965..     61968:      4:      64190: unwritten,shared
   6:      318..     347:      63635..     63664:     30:      62026: last,shared
/mnt/scratch/snap1/p0/d7/dc/f8c: 6 extents found
after filter: 256561152#90112#221184#unwritten,shared 267808768#45056#331776#shared 256716800#28672#376832#shared 256745472#102400#405504#unwritten,shared 262619136#4096#749568#shared 253808640#16384#1052672#unwritten,shared 260648960#122880#1302528#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 256561152 /mnt/scratch
inode 366 offset 221184 root 258
inode 366 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 267808768 /mnt/scratch
inode 366 offset 331776 root 258
inode 366 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 256716800 /mnt/scratch
inode 366 offset 376832 root 258
inode 429 offset 1048576 root 258
inode 366 offset 376832 root 5
inode 429 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
background rm
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 256745472 /mnt/scratch
inode 366 offset 405504 root 258
inode 429 offset 1077248 root 258
inode 366 offset 405504 root 5
inode 429 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518126948
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 262619136 /mnt/scratch
inode 366 offset 749568 root 258
inode 366 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 253808640 /mnt/scratch
inode 271 offset 331776 root 258
inode 345 offset 1404928 root 258
inode 366 offset 1052672 root 258
inode 345 offset 679936 root 258
inode 345 offset 679936 root 5
inode 345 offset 1404928 root 5
inode 345 offset 1404928 root 5
inode 271 offset 331776 root 5
inode 366 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
# stat -c %i /mnt/scratch/snap1/p0/d7/dc/f8c
366
# /bin/btrfs inspect-internal logical-resolve -P 260648960 /mnt/scratch
inode 366 offset 1302528 root 258
inode 366 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 366 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/dc/f8c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d14/f172
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d14/f172 is 562685 (138 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     137:      70765..     70782:     18:        120: last,shared,eof
/mnt/scratch/snap1/p0/d7/d14/f172: 1 extent found
after filter: 289853440#73728#491520#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d14/f172
538
# /bin/btrfs inspect-internal logical-resolve -P 289853440 /mnt/scratch
inode 538 offset 491520 root 258
inode 538 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 538 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d14/f172
/mnt/scratch/snap1/p0/d7/dc/dae/dbf/f16c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/ffa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/ffa is 978944 (239 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      232..     238:      67204..     67210:      7:        232: last,shared,eof
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/ffa: 1 extent found
after filter: 275267584#28672#950272#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/ffa
457
# /bin/btrfs inspect-internal logical-resolve -P 275267584 /mnt/scratch
inode 457 offset 950272 root 258
inode 457 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d50/d5f/ffa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/de2/f180
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/de2/f180 is 1249280 (305 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       57..      57:      70858..     70858:      1:         57: last,shared
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/de2/f180: 1 extent found
after filter: 290234368#4096#233472#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/de2/f180
561
# /bin/btrfs inspect-internal logical-resolve -P 290234368 /mnt/scratch
inode 561 offset 233472 root 258
inode 561 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 561 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d7/d31/d38/d45/d66/ddf/dfd/d30/de2/f180
background rm
