*** mkfs -dsize=2097152000

btrfs-progs v4.14.1-24-g4675af99
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               84066b08-8d13-45e2-a14d-c59929b75d74
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1515260185
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1516208615
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1515883853
# _scratch_unmount
# _scratch_mount -o atime
background noise by 25993
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515798806
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/d48/f155
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/d48/f155 is 764432 (187 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d9/d11/d13/d48/f155: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f15e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f15e is 338586 (83 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       68..      82:      73867..     73881:     15:         68: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f15e: 1 extent found
after filter: 302559232#61440#278528#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f15e
538
# /bin/btrfs inspect-internal logical-resolve -P 302559232 /mnt/scratch
inode 538 offset 278528 root 258
inode 538 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 538 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f15e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108 is 1974817 (483 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      133..     146:      63448..     63461:     14:        133: shared
   1:      189..     200:      64268..     64279:     12:      63504: shared
   2:      237..     239:      60319..     60321:      3:      64316: unwritten,shared
   3:      322..     338:      63266..     63282:     17:      60404: shared
   4:      339..     339:      64699..     64699:      1:      63283: shared
   5:      449..     453:      64700..     64704:      5:             shared
   6:      454..     482:      69083..     69111:     29:      64705: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108: 6 extents found
after filter: 259883008#57344#544768#shared 263241728#49152#774144#shared 247066624#12288#970752#unwritten,shared 259137536#69632#1318912#shared 265007104#4096#1388544#shared 265011200#20480#1839104#shared 282963968#118784#1859584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 259883008 /mnt/scratch
inode 333 offset 544768 root 258
inode 333 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 263241728 /mnt/scratch
inode 333 offset 774144 root 258
inode 333 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 259137536 /mnt/scratch
inode 333 offset 1318912 root 258
inode 333 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 265007104 /mnt/scratch
inode 333 offset 1388544 root 258
inode 333 offset 1388544 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 265011200 /mnt/scratch
inode 333 offset 1839104 root 258
inode 333 offset 1839104 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
333
# /bin/btrfs inspect-internal logical-resolve -P 282963968 /mnt/scratch
inode 333 offset 1859584 root 258
inode 333 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 333 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/f108
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f37
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f37 is 1998848 (488 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      43:      58609..     58620:     12:         32: shared
   1:       65..      77:      62262..     62274:     13:      58642: shared
   2:      257..     286:      63912..     63941:     30:      62454: shared
   3:      287..     287:      64306..     64306:      1:      63942: last,shared
/mnt/scratch/snap1/p0/d9/d11/f37: 4 extents found
after filter: 240062464#49152#131072#shared 255025152#53248#266240#shared 261783552#122880#1052672#shared 263397376#4096#1175552#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f37
303
# /bin/btrfs inspect-internal logical-resolve -P 240062464 /mnt/scratch
inode 303 offset 131072 root 258
inode 303 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f37
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f37
303
# /bin/btrfs inspect-internal logical-resolve -P 255025152 /mnt/scratch
inode 303 offset 266240 root 258
inode 303 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f37
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f37
303
# /bin/btrfs inspect-internal logical-resolve -P 261783552 /mnt/scratch
inode 303 offset 1052672 root 258
inode 303 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f37
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f37
303
# /bin/btrfs inspect-internal logical-resolve -P 263397376 /mnt/scratch
inode 303 offset 1175552 root 258
inode 303 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 303 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f37
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/f153
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/f153 is 376277 (92 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       79..      91:      70769..     70781:     13:         79: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/f153: 1 extent found
after filter: 289869824#53248#323584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f153
530
# /bin/btrfs inspect-internal logical-resolve -P 289869824 /mnt/scratch
inode 530 offset 323584 root 258
inode 530 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 530 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f153
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/f196
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/f196 is 614400 (150 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      145..     149:      69488..     69492:      5:        145: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/dc4/f196: 1 extent found
after filter: 284622848#20480#593920#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/f196
578
# /bin/btrfs inspect-internal logical-resolve -P 284622848 /mnt/scratch
inode 470 offset 118784 root 258
inode 578 offset 593920 root 258
inode 470 offset 118784 root 5
inode 578 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 578 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/dc4/f196
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110 is 1415052 (346 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      208..     228:      70100..     70120:     21:        208: shared
   1:      314..     345:      71596..     71627:     32:      70206: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110: 2 extents found
after filter: 287129600#86016#851968#shared 293257216#131072#1286144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110
474
# /bin/btrfs inspect-internal logical-resolve -P 287129600 /mnt/scratch
inode 474 offset 851968 root 258
inode 474 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 474 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110
474
# /bin/btrfs inspect-internal logical-resolve -P 293257216 /mnt/scratch
inode 474 offset 1286144 root 258
inode 474 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 474 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f110
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d9e/f43 is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f43
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154 is 1255050 (307 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      30:      59545..     59559:     15:         16: shared
   1:       31..      31:      69321..     69321:      1:      59560: shared
   2:      276..     306:      69322..     69352:     31:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154: 2 extents found
after filter: 243896320#61440#65536#shared 283938816#4096#126976#shared 283942912#126976#1130496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
289
# /bin/btrfs inspect-internal logical-resolve -P 243896320 /mnt/scratch
inode 289 offset 65536 root 258
inode 289 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
289
# /bin/btrfs inspect-internal logical-resolve -P 283938816 /mnt/scratch
inode 289 offset 126976 root 258
inode 289 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
289
# /bin/btrfs inspect-internal logical-resolve -P 283942912 /mnt/scratch
inode 289 offset 1130496 root 258
inode 289 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f154
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/f44
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/f44 is 3522560 (860 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      31:      59734..     59740:      7:         25: shared
   1:       32..      32:      59828..     59828:      1:      59741: shared
   2:      156..     156:      60340..     60340:      1:      59952: unwritten,shared
   3:      223..     232:      58585..     58594:     10:      60407: shared
   4:      388..     413:      62786..     62811:     26:      58750: shared
   5:      451..     478:      60539..     60566:     28:      62849: shared
   6:      479..     479:      61038..     61038:      1:      60567: shared
   7:      608..     625:      70176..     70193:     18:      61167: unwritten,shared
   8:      632..     635:      61039..     61042:      4:      70200: shared
   9:      636..     659:      68803..     68826:     24:      61043: shared
  10:      669..     681:      63435..     63447:     13:      68836: shared
  11:      803..     816:      70180..     70193:     14:      63569: last,unwritten,shared
/mnt/scratch/snap1/p0/d9/d3f/f44: 12 extents found
after filter: 244670464#28672#102400#shared 245055488#4096#131072#shared 247152640#4096#638976#unwritten,shared 239964160#40960#913408#shared 257171456#106496#1589248#shared 247967744#114688#1847296#shared 250011648#4096#1961984#shared 287440896#73728#2490368#unwritten,shared 250015744#16384#2588672#shared 281817088#98304#2605056#shared 259829760#53248#2740224#shared 287457280#57344#3289088#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 244670464 /mnt/scratch
inode 313 offset 102400 root 258
inode 313 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 245055488 /mnt/scratch
inode 313 offset 131072 root 258
inode 313 offset 131072 root 5
seed = 1515334798
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 239964160 /mnt/scratch
inode 279 offset 81920 root 258
inode 279 offset 81920 root 5
inode 313 offset 913408 root 258
inode 313 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 257171456 /mnt/scratch
inode 313 offset 1589248 root 258
inode 313 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 247967744 /mnt/scratch
inode 313 offset 1847296 root 258
inode 313 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 250011648 /mnt/scratch
inode 313 offset 1961984 root 258
inode 313 offset 1961984 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 250015744 /mnt/scratch
inode 313 offset 2588672 root 258
inode 313 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 281817088 /mnt/scratch
inode 313 offset 2605056 root 258
inode 313 offset 2605056 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 259829760 /mnt/scratch
inode 313 offset 2740224 root 258
inode 313 offset 2740224 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f44
313
# /bin/btrfs inspect-internal logical-resolve -P 287457280 /mnt/scratch
inode 308 offset 2166784 root 258
inode 330 offset 1024000 root 258
inode 478 offset 524288 root 258
inode 380 offset 258048 root 258
inode 317 offset 2359296 root 258
inode 502 offset 798720 root 258
inode 488 offset 1232896 root 258
inode 414 offset 299008 root 258
inode 296 offset 770048 root 258
inode 296 offset 770048 root 5
inode 308 offset 2166784 root 5
inode 313 offset 2506752 root 258
inode 313 offset 3289088 root 258
inode 313 offset 3289088 root 258
inode 313 offset 2506752 root 5
inode 313 offset 3289088 root 5
inode 313 offset 3289088 root 5
inode 330 offset 1024000 root 5
inode 379 offset 1077248 root 258
inode 379 offset 1077248 root 5
inode 478 offset 524288 root 5
inode 380 offset 258048 root 5
inode 317 offset 2359296 root 5
inode 502 offset 798720 root 5
inode 488 offset 1232896 root 5
inode 414 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f44
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f30
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f30 is 4923392 (1202 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      19:      61645..     61653:      9:         11: shared
   1:       29..      34:      72367..     72372:      6:      61663: unwritten,shared
   2:       53..      61:      72391..     72399:      9:             unwritten,shared
   3:       62..      83:      66224..     66245:     22:      72400: shared
   4:       84..     118:      72400..     72434:     35:      66246: unwritten,shared
   5:      119..     122:      58865..     58868:      4:      72435: shared
   6:      123..     133:      72435..     72445:     11:      58869: unwritten,shared
   7:      179..     181:      60119..     60121:      3:      72491: shared
   8:      184..     201:      70176..     70193:     18:      60124: unwritten,shared
   9:      207..     210:      62075..     62078:      4:      70199: unwritten,shared
  10:      211..     213:      62079..     62081:      3:             shared
  11:      214..     218:      62082..     62086:      5:             unwritten,shared
  12:      219..     233:      58627..     58641:     15:      62087: shared
  13:      242..     249:      58650..     58657:      8:             shared
  14:      250..     252:      62087..     62089:      3:      58658: unwritten,shared
  15:      273..     281:      61478..     61486:      9:      62110: unwritten,shared
  16:      282..     290:      61452..     61460:      9:      61487: shared
  17:      291..     315:      62048..     62072:     25:      61461: shared
  18:      316..     356:      61487..     61527:     41:      62073: unwritten,shared
  19:      357..     376:      61528..     61547:     20:             shared
  20:      431..     433:      61602..     61604:      3:             unwritten,shared
  21:      434..     439:      58658..     58663:      6:      61605: shared
  22:      440..     440:      60971..     60971:      1:      58664: shared
  23:      441..     442:      61605..     61606:      2:      60972: unwritten,shared
  24:      443..     450:      61607..     61614:      8:             shared
  25:      451..     456:      63717..     63722:      6:      61615: shared
  26:      457..     463:      60978..     60984:      7:      63723: shared
  27:      464..     473:      61615..     61624:     10:      60985: unwritten,shared
  28:      492..     497:      71642..     71647:      6:      61643: shared
  29:      498..     523:      63852..     63877:     26:      71648: shared
  30:      546..     575:      72704..     72733:     30:      63900: unwritten,shared
  31:      576..     589:      59530..     59543:     14:      72734: shared
  32:      590..     590:      61057..     61057:      1:      59544: shared
  33:      591..     592:      72734..     72735:      2:      61058: unwritten,shared
  34:      593..     598:      60998..     61003:      6:      72736: shared
  35:      599..     599:      62121..     62121:      1:      61004: shared
  36:      600..     600:      72736..     72736:      1:      62122: unwritten,shared
  37:      601..     610:      64676..     64685:     10:      72737: shared
  38:      611..     615:      72737..     72741:      5:      64686: unwritten,shared
  39:      616..     621:      64691..     64696:      6:      72742: shared
  40:      622..     716:      72742..     72836:     95:      64697: unwritten,shared
  41:      717..     744:      62122..     62149:     28:      72837: shared
  42:      745..     745:      62884..     62884:      1:      62150: shared
  43:      746..     780:      72837..     72871:     35:      62885: unwritten,shared
  44:      784..     792:      64810..     64818:      9:      72875: unwritten,shared
  45:      810..     830:      64836..     64856:     21:             unwritten,shared
  46:      865..     876:      73132..     73143:     12:      64891: shared
  47:      877..     882:      64903..     64908:      6:      73144: unwritten,shared
  48:      897..     906:      64923..     64932:     10:             unwritten,shared
  49:      931..     938:      64957..     64964:      8:             unwritten,shared
  50:      939..     940:      62347..     62348:      2:      64965: shared
  51:      941..    1013:      64965..     65037:     73:      62349: unwritten,shared
  52:     1194..    1201:      72446..     72453:      8:      65218: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/f30: 43 extents found
after filter: 252497920#36864#45056#shared 296415232#24576#118784#unwritten,shared 296513536#36864#217088#unwritten,shared 271253504#90112#253952#shared 296550400#143360#344064#unwritten,shared 241111040#16384#487424#shared 296693760#45056#503808#unwritten,shared 246247424#12288#733184#shared 287440896#73728#753664#unwritten,shared 254259200#16384#847872#unwritten,shared 254275584#12288#864256#shared 254287872#20480#876544#unwritten,shared 240136192#61440#897024#shared 240230400#32768#991232#shared 254308352#12288#1024000#unwritten,shared 251813888#36864#1118208#unwritten,shared 251707392#36864#1155072#shared 254148608#102400#1191936#shared 251850752#167936#1294336#unwritten,shared 252018688#81920#1462272#shared 252321792#12288#1765376#unwritten,shared 240263168#24576#1777664#shared 249737216#4096#1802240#shared 252334080#8192#1806336#unwritten,shared 252342272#32768#1814528#shared 260984832#24576#1847296#shared 249765888#28672#1871872#shared 252375040#40960#1900544#unwritten,shared 293445632#24576#2015232#shared 261537792#106496#2039808#shared 297795584#122880#2236416#unwritten,shared 243834880#57344#2359296#shared 250089472#4096#2416640#shared 297918464#8192#2420736#unwritten,shared 249847808#24576#2428928#shared 254447616#4096#2453504#shared 297926656#4096#2457600#unwritten,shared 264912896#40960#2461696#shared 297930752#20480#2502656#unwritten,shared 264974336#24576#2523136#shared 297951232#389120#2547712#unwritten,shared 254451712#114688#2936832#shared 257572864#4096#3051520#shared 298340352#143360#3055616#unwritten,shared 265461760#36864#3211264#unwritten,shared 265568256#86016#3317760#unwritten,shared 299548672#49152#3543040#shared 265842688#24576#3592192#unwritten,shared 265924608#40960#3674112#unwritten,shared 266063872#32768#3813376#unwritten,shared 255373312#8192#3846144#shared 266096640#299008#3854336#unwritten,shared 296738816#32768#4890624#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252497920 /mnt/scratch
inode 296 offset 45056 root 258
inode 296 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 296415232 /mnt/scratch
inode 296 offset 118784 root 258
inode 296 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 296513536 /mnt/scratch
inode 296 offset 217088 root 258
inode 296 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 271253504 /mnt/scratch
inode 296 offset 253952 root 258
inode 296 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 296550400 /mnt/scratch
inode 296 offset 344064 root 258
inode 296 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 241111040 /mnt/scratch
inode 296 offset 487424 root 258
inode 296 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 296693760 /mnt/scratch
inode 296 offset 503808 root 258
inode 296 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 246247424 /mnt/scratch
inode 279 offset 1318912 root 258
inode 296 offset 733184 root 258
inode 296 offset 733184 root 5
inode 279 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254259200 /mnt/scratch
inode 296 offset 847872 root 258
inode 296 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254275584 /mnt/scratch
inode 296 offset 864256 root 258
inode 296 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254287872 /mnt/scratch
inode 296 offset 876544 root 258
inode 296 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 240136192 /mnt/scratch
inode 296 offset 897024 root 258
inode 296 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 240230400 /mnt/scratch
inode 296 offset 991232 root 258
inode 296 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254308352 /mnt/scratch
inode 296 offset 1024000 root 258
inode 296 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 251813888 /mnt/scratch
inode 296 offset 1118208 root 258
inode 296 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 251707392 /mnt/scratch
inode 296 offset 1155072 root 258
inode 296 offset 1155072 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254148608 /mnt/scratch
inode 296 offset 1191936 root 258
inode 296 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 251850752 /mnt/scratch
inode 296 offset 1294336 root 258
inode 296 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252018688 /mnt/scratch
inode 296 offset 1462272 root 258
inode 296 offset 1462272 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252321792 /mnt/scratch
inode 296 offset 1765376 root 258
inode 296 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 240263168 /mnt/scratch
inode 296 offset 1777664 root 258
inode 296 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 249737216 /mnt/scratch
inode 296 offset 1802240 root 258
inode 296 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252334080 /mnt/scratch
inode 296 offset 1806336 root 258
inode 296 offset 1806336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252342272 /mnt/scratch
inode 296 offset 1814528 root 258
inode 296 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 260984832 /mnt/scratch
inode 296 offset 1847296 root 258
inode 296 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 249765888 /mnt/scratch
inode 296 offset 1871872 root 258
inode 296 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 252375040 /mnt/scratch
inode 296 offset 1900544 root 258
inode 296 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 293445632 /mnt/scratch
inode 296 offset 2015232 root 258
inode 296 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 261537792 /mnt/scratch
inode 296 offset 2039808 root 258
inode 296 offset 2039808 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 297795584 /mnt/scratch
inode 296 offset 2236416 root 258
inode 296 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 243834880 /mnt/scratch
inode 296 offset 2359296 root 258
inode 296 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 250089472 /mnt/scratch
inode 296 offset 2416640 root 258
inode 296 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 297918464 /mnt/scratch
inode 296 offset 2420736 root 258
inode 296 offset 2420736 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515856244
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 249847808 /mnt/scratch
inode 296 offset 2428928 root 258
inode 296 offset 2428928 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254447616 /mnt/scratch
inode 296 offset 2453504 root 258
inode 296 offset 2453504 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 297926656 /mnt/scratch
inode 296 offset 2457600 root 258
inode 296 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 264912896 /mnt/scratch
inode 296 offset 2461696 root 258
inode 296 offset 2461696 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 297930752 /mnt/scratch
inode 296 offset 2502656 root 258
inode 296 offset 2502656 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 264974336 /mnt/scratch
inode 296 offset 2523136 root 258
inode 296 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 297951232 /mnt/scratch
inode 296 offset 2547712 root 258
inode 296 offset 2547712 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 254451712 /mnt/scratch
inode 296 offset 2936832 root 258
inode 296 offset 2936832 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 257572864 /mnt/scratch
inode 296 offset 3051520 root 258
inode 296 offset 3051520 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 298340352 /mnt/scratch
inode 296 offset 3055616 root 258
inode 296 offset 3055616 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 265461760 /mnt/scratch
inode 296 offset 3211264 root 258
inode 296 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 265568256 /mnt/scratch
inode 296 offset 3317760 root 258
inode 296 offset 3317760 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 299548672 /mnt/scratch
inode 296 offset 3543040 root 258
inode 296 offset 3543040 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 265842688 /mnt/scratch
inode 296 offset 3592192 root 258
inode 296 offset 3592192 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 265924608 /mnt/scratch
inode 296 offset 3674112 root 258
inode 296 offset 3674112 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 266063872 /mnt/scratch
inode 296 offset 3813376 root 258
inode 296 offset 3813376 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 255373312 /mnt/scratch
inode 296 offset 3846144 root 258
inode 296 offset 3846144 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 266096640 /mnt/scratch
inode 296 offset 3854336 root 258
inode 296 offset 3854336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f30
296
# /bin/btrfs inspect-internal logical-resolve -P 296738816 /mnt/scratch
inode 296 offset 4890624 root 258
inode 296 offset 4890624 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/f151 is 1114467 (273 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       87..      96:      73975..     73984:     10:         87: shared
   1:      253..     272:      72236..     72255:     20:      74141: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/f151: 2 extents found
after filter: 303001600#40960#356352#shared 295878656#81920#1036288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f151
528
# /bin/btrfs inspect-internal logical-resolve -P 303001600 /mnt/scratch
inode 528 offset 356352 root 258
inode 528 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f151
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f151
528
# /bin/btrfs inspect-internal logical-resolve -P 295878656 /mnt/scratch
inode 528 offset 1036288 root 258
inode 528 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 528 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f144
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f144 is 711165 (174 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      16:      73185..     73194:     10:          7: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f144: 1 extent found
after filter: 299765760#40960#28672#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f144
518
# /bin/btrfs inspect-internal logical-resolve -P 299765760 /mnt/scratch
inode 518 offset 28672 root 258
inode 518 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 518 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f144
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f47
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f47 is 3518464 (859 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      47:      60142..     60145:      4:         44: unwritten,shared
   1:       76..      76:       3609..      3609:      1:      60174: shared
   2:       77..      98:      65169..     65190:     22:       3610: shared
   3:       99..     118:      60197..     60216:     20:      65191: unwritten,shared
   4:      119..     131:      58595..     58607:     13:      60217: shared
   5:      132..     132:      58722..     58722:      1:      58608: shared
   6:      133..     164:      60217..     60248:     32:      58723: unwritten,shared
   7:      167..     183:      60251..     60267:     17:             unwritten,shared
   8:      202..     202:      60286..     60286:      1:             unwritten,shared
   9:      500..     504:      60747..     60751:      5:      60584: shared
  10:      505..     505:      62107..     62107:      1:      60752: shared
  11:      662..     665:      62108..     62111:      4:             shared
  12:      666..     666:      67725..     67725:      1:      62112: shared
  13:      667..     730:      67726..     67789:     64:             unwritten,shared
  14:      734..     782:      67793..     67841:     49:             unwritten,shared
  15:      835..     842:      66949..     66956:      8:      67894: shared
  16:      846..     858:      66960..     66972:     13:             shared,eof
  17:      883..     898:      63094..     63109:     16:      66997: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/f47: 12 extents found
after filter: 246341632#16384#180224#unwritten,shared 14782464#4096#311296#shared 266932224#90112#315392#shared 246566912#81920#405504#unwritten,shared 240005120#53248#487424#shared 240525312#4096#540672#shared 246648832#131072#544768#unwritten,shared 246788096#69632#684032#unwritten,shared 246931456#4096#827392#unwritten,shared 248819712#20480#2048000#shared 254390272#4096#2068480#shared 254394368#16384#2711552#shared 277401600#4096#2727936#shared 277405696#262144#2732032#unwritten,shared 277680128#200704#3006464#unwritten,shared 274223104#32768#3420160#shared 274268160#53248#3465216#shared,eof 258433024#65536#3616768#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 246341632 /mnt/scratch
inode 287 offset 180224 root 258
inode 287 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 14782464 /mnt/scratch
inode 274 offset 282624 root 258
inode 287 offset 311296 root 258
inode 274 offset 282624 root 5
inode 287 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 266932224 /mnt/scratch
inode 287 offset 315392 root 258
inode 287 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 246566912 /mnt/scratch
inode 287 offset 405504 root 258
inode 287 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 240005120 /mnt/scratch
inode 287 offset 487424 root 258
inode 287 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 240525312 /mnt/scratch
inode 287 offset 540672 root 258
inode 287 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 246648832 /mnt/scratch
inode 287 offset 544768 root 258
inode 287 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 246788096 /mnt/scratch
inode 287 offset 684032 root 258
inode 287 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 246931456 /mnt/scratch
inode 287 offset 827392 root 258
inode 287 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 248819712 /mnt/scratch
inode 287 offset 2048000 root 258
inode 287 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 254390272 /mnt/scratch
inode 287 offset 2068480 root 258
inode 287 offset 2068480 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 254394368 /mnt/scratch
inode 287 offset 2711552 root 258
inode 287 offset 2711552 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 277401600 /mnt/scratch
inode 287 offset 2727936 root 258
inode 287 offset 2727936 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 277405696 /mnt/scratch
inode 287 offset 2732032 root 258
inode 287 offset 2732032 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
seed = 1515595338
287
# /bin/btrfs inspect-internal logical-resolve -P 277680128 /mnt/scratch
inode 287 offset 3006464 root 258
inode 287 offset 3006464 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 274223104 /mnt/scratch
inode 287 offset 3420160 root 258
inode 287 offset 3420160 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 274268160 /mnt/scratch
inode 287 offset 3465216 root 258
inode 287 offset 3465216 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f47
287
# /bin/btrfs inspect-internal logical-resolve -P 258433024 /mnt/scratch
inode 287 offset 3616768 root 258
inode 287 offset 3616768 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f47
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf is 1126400 (275 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     127:      71587..     71594:      8:        120: shared
   1:      176..     177:      70024..     70025:      2:      71643: shared
   2:      178..     178:      71595..     71595:      1:      70026: shared
   3:      256..     274:      71191..     71209:     19:      71673: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf: 4 extents found
after filter: 293220352#32768#491520#shared 286818304#8192#720896#shared 293253120#4096#729088#shared 291598336#77824#1048576#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
425
# /bin/btrfs inspect-internal logical-resolve -P 293220352 /mnt/scratch
inode 425 offset 491520 root 258
inode 425 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
425
# /bin/btrfs inspect-internal logical-resolve -P 286818304 /mnt/scratch
inode 425 offset 720896 root 258
inode 425 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
425
# /bin/btrfs inspect-internal logical-resolve -P 293253120 /mnt/scratch
inode 425 offset 729088 root 258
inode 425 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
425
# /bin/btrfs inspect-internal logical-resolve -P 291598336 /mnt/scratch
inode 425 offset 1048576 root 258
inode 425 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 425 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/fcf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/fe5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/fe5 is 1081344 (264 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      33:      69650..     69670:     21:         13: shared
   1:       34..      34:      69781..     69781:      1:      69671: shared
   2:       47..      72:      69782..     69807:     26:             shared
   3:       73..      73:      73318..     73318:      1:      69808: shared
   4:      235..     263:      72872..     72900:     29:      73480: last,shared,eof
/mnt/scratch/snap1/p0/d9/fe5: 4 extents found
after filter: 285286400#86016#53248#shared 285822976#4096#139264#shared 285827072#106496#192512#shared 300310528#4096#299008#shared 298483712#118784#962560#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/fe5
440
# /bin/btrfs inspect-internal logical-resolve -P 285286400 /mnt/scratch
inode 440 offset 53248 root 258
inode 440 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fe5
# stat -c %i /mnt/scratch/snap1/p0/d9/fe5
440
# /bin/btrfs inspect-internal logical-resolve -P 285822976 /mnt/scratch
inode 440 offset 139264 root 258
inode 440 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fe5
# stat -c %i /mnt/scratch/snap1/p0/d9/fe5
440
# /bin/btrfs inspect-internal logical-resolve -P 285827072 /mnt/scratch
inode 440 offset 192512 root 258
inode 440 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fe5
# stat -c %i /mnt/scratch/snap1/p0/d9/fe5
440
# /bin/btrfs inspect-internal logical-resolve -P 300310528 /mnt/scratch
inode 440 offset 299008 root 258
inode 440 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fe5
# stat -c %i /mnt/scratch/snap1/p0/d9/fe5
440
# /bin/btrfs inspect-internal logical-resolve -P 298483712 /mnt/scratch
inode 440 offset 962560 root 258
inode 440 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fe5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0 is 1418892 (347 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      154..     168:      71890..     71904:     15:        154: unwritten,shared
   1:      185..     250:      71921..     71986:     66:             unwritten,shared
   2:      334..     346:      73443..     73455:     13:      72070: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0: 2 extents found
after filter: 294461440#61440#630784#unwritten,shared 294588416#270336#757760#unwritten,shared 300822528#53248#1368064#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
437
# /bin/btrfs inspect-internal logical-resolve -P 294461440 /mnt/scratch
inode 437 offset 630784 root 258
inode 437 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
437
# /bin/btrfs inspect-internal logical-resolve -P 294588416 /mnt/scratch
inode 437 offset 757760 root 258
inode 437 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
437
# /bin/btrfs inspect-internal logical-resolve -P 300822528 /mnt/scratch
inode 437 offset 1368064 root 258
inode 437 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/fe0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d8c/f10b is 1638400 (400 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      57:      71064..     71096:     33:         25: shared
   1:      241..     242:      69985..     69986:      2:      71280: shared
   2:      243..     243:      71987..     71987:      1:      69987: shared
   3:      295..     295:      71863..     71863:      1:      72039: shared
   4:      371..     399:      72454..     72482:     29:      71939: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b: 5 extents found
after filter: 291078144#135168#102400#shared 286658560#8192#987136#shared 294858752#4096#995328#shared 294350848#4096#1208320#shared 296771584#118784#1519616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
431
# /bin/btrfs inspect-internal logical-resolve -P 291078144 /mnt/scratch
inode 431 offset 102400 root 258
inode 431 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
431
# /bin/btrfs inspect-internal logical-resolve -P 286658560 /mnt/scratch
inode 431 offset 987136 root 258
inode 431 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
431
# /bin/btrfs inspect-internal logical-resolve -P 294858752 /mnt/scratch
inode 431 offset 995328 root 258
inode 431 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
431
# /bin/btrfs inspect-internal logical-resolve -P 294350848 /mnt/scratch
inode 431 offset 1208320 root 258
inode 431 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f10b
431
# /bin/btrfs inspect-internal logical-resolve -P 296771584 /mnt/scratch
inode 431 offset 1519616 root 258
inode 431 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/f7b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/f7b is 1511938 (370 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      164..     189:      63462..     63487:     26:        164: shared
   1:      252..     252:      69989..     69989:      1:      63550: shared
   2:      337..     369:      69990..     70022:     33:             shared,eof
   3:      474..     482:      67941..     67949:      9:      70127: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/f7b: 3 extents found
after filter: 259940352#106496#671744#shared 286674944#4096#1032192#shared 286679040#135168#1380352#shared,eof 278286336#36864#1941504#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 259940352 /mnt/scratch
inode 355 offset 671744 root 258
inode 355 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f7b
# stat -c %i /mnt/scratch/snap1/p0/d9/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 286674944 /mnt/scratch
inode 355 offset 1032192 root 258
inode 355 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f7b
# stat -c %i /mnt/scratch/snap1/p0/d9/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 286679040 /mnt/scratch
inode 355 offset 1380352 root 258
inode 355 offset 1380352 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f7b
# stat -c %i /mnt/scratch/snap1/p0/d9/f7b
355
# /bin/btrfs inspect-internal logical-resolve -P 278286336 /mnt/scratch
inode 355 offset 1941504 root 258
inode 355 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 355 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f7b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d22/f79
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d22/f79 is 1277952 (312 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      15:      60319..     60321:      3:         13: unwritten,shared
   1:       42..      42:      60113..     60113:      1:      60348: unwritten,shared
   2:       43..      47:      60317..     60321:      5:      60114: unwritten,shared
   3:       69..      71:      60319..     60321:      3:      60343: unwritten,shared
   4:       79..     108:      66281..     66310:     30:      60329: shared
   5:      159..     159:      64697..     64697:      1:      66361: shared
   6:      168..     180:      66171..     66183:     13:      64706: shared
   7:      285..     311:      64649..     64675:     27:      66288: last,shared,eof
/mnt/scratch/snap1/p0/d9/d22/f79: 8 extents found
after filter: 247066624#12288#53248#unwritten,shared 246222848#4096#172032#unwritten,shared 247058432#20480#176128#unwritten,shared 247066624#12288#282624#unwritten,shared 271486976#122880#323584#shared 264998912#4096#651264#shared 271036416#53248#688128#shared 264802304#110592#1167360#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 246222848 /mnt/scratch
inode 318 offset 987136 root 258
inode 353 offset 172032 root 258
inode 318 offset 987136 root 5
inode 353 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 247058432 /mnt/scratch
inode 353 offset 176128 root 5
inode 353 offset 176128 root 5
inode 318 offset 991232 root 5
inode 318 offset 991232 root 258
inode 353 offset 176128 root 258
inode 353 offset 176128 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 271486976 /mnt/scratch
inode 353 offset 323584 root 258
inode 353 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 264998912 /mnt/scratch
inode 353 offset 651264 root 258
inode 353 offset 651264 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 271036416 /mnt/scratch
inode 353 offset 688128 root 258
inode 353 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f79
353
# /bin/btrfs inspect-internal logical-resolve -P 264802304 /mnt/scratch
inode 353 offset 1167360 root 258
inode 353 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0 is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
seed = 1515386578
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d is 1126400 (275 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      60:      72511..     72528:     18:         43: shared
   1:       61..      79:      68946..     68964:     19:      72529: shared
   2:      250..     274:      71252..     71276:     25:      69135: shared,eof
   3:      318..     362:      67978..     68022:     45:      71320: unwritten,shared,eof
   4:      363..     367:      66599..     66603:      5:      68023: unwritten,shared,eof
   5:      368..     557:      68023..     68212:    190:      66604: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d: 6 extents found
after filter: 297005056#73728#176128#shared 282402816#77824#249856#shared 291848192#102400#1024000#shared,eof 278437888#184320#1302528#unwritten,shared,eof 272789504#20480#1486848#unwritten,shared,eof 278622208#778240#1507328#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 297005056 /mnt/scratch
inode 459 offset 176128 root 258
inode 459 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 282402816 /mnt/scratch
inode 459 offset 249856 root 258
inode 459 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 291848192 /mnt/scratch
inode 459 offset 1024000 root 258
inode 459 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 278437888 /mnt/scratch
inode 459 offset 1302528 root 258
inode 459 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 272789504 /mnt/scratch
inode 459 offset 1486848 root 258
inode 459 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
459
# /bin/btrfs inspect-internal logical-resolve -P 278622208 /mnt/scratch
inode 459 offset 1507328 root 258
inode 459 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/fff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/fff is 1197312 (293 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      194..     208:      73205..     73219:     15:        194: shared
   1:      277..     292:      73220..     73235:     16:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/fff: 1 extent found
after filter: 299847680#61440#794624#shared 299909120#65536#1134592#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/fff
463
# /bin/btrfs inspect-internal logical-resolve -P 299847680 /mnt/scratch
inode 463 offset 794624 root 258
inode 463 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/fff
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/fff
463
# /bin/btrfs inspect-internal logical-resolve -P 299909120 /mnt/scratch
inode 463 offset 1134592 root 258
inode 463 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 463 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/fff
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e is 971366 (238 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       83..      86:      70877..     70880:      4:         83: unwritten,shared
   1:       87..     116:      70881..     70910:     30:             shared
   2:      117..     129:      70911..     70923:     13:             unwritten,shared
   3:      150..     220:      70944..     71014:     71:             unwritten,shared
   4:      228..     237:      72017..     72026:     10:      71022: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e: 2 extents found
after filter: 290312192#16384#339968#unwritten,shared 290328576#122880#356352#shared 290451456#53248#479232#unwritten,shared 290586624#290816#614400#unwritten,shared 294981632#40960#933888#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
527
# /bin/btrfs inspect-internal logical-resolve -P 290312192 /mnt/scratch
inode 527 offset 339968 root 258
inode 527 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 527 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
527
# /bin/btrfs inspect-internal logical-resolve -P 290328576 /mnt/scratch
inode 527 offset 356352 root 258
inode 527 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 527 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
527
# /bin/btrfs inspect-internal logical-resolve -P 290451456 /mnt/scratch
inode 527 offset 479232 root 258
inode 527 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 527 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
527
# /bin/btrfs inspect-internal logical-resolve -P 290586624 /mnt/scratch
inode 527 offset 614400 root 258
inode 527 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 527 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
527
# /bin/btrfs inspect-internal logical-resolve -P 294981632 /mnt/scratch
inode 527 offset 933888 root 258
inode 527 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 527 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f14e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181 is 1589248 (388 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      104..     129:      69386..     69411:     26:        104: shared
   1:      130..     130:      69575..     69575:      1:      69412: shared
   2:      247..     247:      73951..     73951:      1:      69692: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181: 3 extents found
after filter: 284205056#106496#425984#shared 284979200#4096#532480#shared 302903296#4096#1011712#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
397
# /bin/btrfs inspect-internal logical-resolve -P 284205056 /mnt/scratch
inode 397 offset 425984 root 258
inode 397 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
397
# /bin/btrfs inspect-internal logical-resolve -P 284979200 /mnt/scratch
inode 397 offset 532480 root 258
inode 397 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
397
# /bin/btrfs inspect-internal logical-resolve -P 302903296 /mnt/scratch
inode 397 offset 1011712 root 258
inode 397 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f is 2342912 (572 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      130..     145:      69857..     69872:     16:        130: shared
   1:      209..     210:      68530..     68531:      2:      69936: unwritten,shared
   2:      228..     230:      68549..     68551:      3:             unwritten,shared
   3:      234..     260:      68555..     68581:     27:             unwritten,shared
   4:      276..     296:      68597..     68617:     21:             unwritten,shared
   5:      297..     314:      70176..     70193:     18:      68618: unwritten,shared
   6:      315..     324:      68636..     68645:     10:      70194: unwritten,shared
   7:      325..     325:      70792..     70792:      1:      68646: shared
   8:      398..     441:      68653..     68696:     44:      70865: unwritten,shared
   9:      442..     451:      68697..     68706:     10:             shared
  10:      452..     452:      71628..     71628:      1:      68707: shared
  11:      453..     455:      68708..     68710:      3:      71629: unwritten,shared
  12:      460..     505:      68715..     68760:     46:             unwritten,shared
  13:      507..     547:      68762..     68802:     41:             unwritten,shared
  14:      560..     571:      71179..     71190:     12:      68815: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f: 9 extents found
after filter: 286134272#65536#532480#shared 280698880#8192#856064#unwritten,shared 280776704#12288#933888#unwritten,shared 280801280#110592#958464#unwritten,shared 280973312#86016#1130496#unwritten,shared 287440896#73728#1216512#unwritten,shared 281133056#40960#1290240#unwritten,shared 289964032#4096#1331200#shared 281202688#180224#1630208#unwritten,shared 281382912#40960#1810432#shared 293388288#4096#1851392#shared 281427968#12288#1855488#unwritten,shared 281456640#188416#1884160#unwritten,shared 281649152#167936#2076672#unwritten,shared 291549184#49152#2293760#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 286134272 /mnt/scratch
inode 488 offset 532480 root 258
inode 488 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 280698880 /mnt/scratch
inode 488 offset 856064 root 258
inode 488 offset 856064 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 280776704 /mnt/scratch
inode 488 offset 933888 root 258
inode 488 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 280801280 /mnt/scratch
inode 488 offset 958464 root 258
inode 488 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 280973312 /mnt/scratch
inode 488 offset 1130496 root 258
inode 488 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281133056 /mnt/scratch
inode 488 offset 1290240 root 258
inode 488 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 289964032 /mnt/scratch
inode 488 offset 1331200 root 258
inode 488 offset 1331200 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281202688 /mnt/scratch
inode 488 offset 1630208 root 258
inode 488 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281382912 /mnt/scratch
inode 488 offset 1810432 root 258
inode 488 offset 1810432 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 293388288 /mnt/scratch
inode 488 offset 1851392 root 258
inode 488 offset 1851392 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281427968 /mnt/scratch
inode 488 offset 1855488 root 258
inode 488 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281456640 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515865742
inode 488 offset 1884160 root 258
inode 488 offset 1884160 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 281649152 /mnt/scratch
inode 488 offset 2076672 root 258
inode 488 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
488
# /bin/btrfs inspect-internal logical-resolve -P 291549184 /mnt/scratch
inode 488 offset 2293760 root 258
inode 488 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/d103/f11f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2 is 4763648 (1163 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       69..      85:      66580..     66596:     17:         69: shared
   1:      133..     150:      59792..     59809:     18:      66644: shared
   2:      151..     167:      59022..     59038:     17:      59810: shared
   3:      235..     241:      60107..     60113:      7:      59106: unwritten,shared
   4:      242..     246:      60317..     60321:      5:      60114: unwritten,shared
   5:      265..     265:      60340..     60340:      1:             unwritten,shared
   6:      391..     395:      61985..     61989:      5:      60466: shared
   7:      650..     658:      63184..     63192:      9:      62244: shared
   8:      659..     659:      66101..     66101:      1:      63193: shared
   9:      752..     752:      67917..     67917:      1:      66194: shared
  10:      753..     780:      67618..     67645:     28:      67918: shared
  11:      843..     859:      66102..     66118:     17:      67708: shared
  12:      860..     860:      70023..     70023:      1:      66119: shared
  13:      983..    1014:      72204..     72235:     32:      70146: shared
  14:     1015..    1033:      69925..     69943:     19:      72236: shared
  15:     1139..    1162:      72101..     72124:     24:      70049: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2: 15 extents found
after filter: 272711680#69632#282624#shared 244908032#73728#544768#shared 241754112#69632#618496#shared 246198272#28672#962560#unwritten,shared 247058432#20480#991232#unwritten,shared 247152640#4096#1085440#unwritten,shared 253890560#20480#1601536#shared 258801664#36864#2662400#shared 270749696#4096#2699264#shared 278188032#4096#3080192#shared 276963328#114688#3084288#shared 270753792#69632#3452928#shared 286814208#4096#3522560#shared 295747584#131072#4026368#shared 286412800#77824#4157440#shared 295325696#98304#4665344#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 272711680 /mnt/scratch
inode 318 offset 282624 root 258
inode 318 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 244908032 /mnt/scratch
inode 318 offset 544768 root 258
inode 318 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 241754112 /mnt/scratch
inode 318 offset 618496 root 258
inode 318 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 247058432 /mnt/scratch
inode 353 offset 176128 root 5
inode 353 offset 176128 root 5
inode 318 offset 991232 root 5
inode 318 offset 991232 root 258
inode 353 offset 176128 root 258
inode 353 offset 176128 root 258
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 253890560 /mnt/scratch
inode 318 offset 1601536 root 258
inode 318 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 258801664 /mnt/scratch
inode 318 offset 2662400 root 258
inode 318 offset 2662400 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 270749696 /mnt/scratch
inode 318 offset 2699264 root 258
inode 318 offset 2699264 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 278188032 /mnt/scratch
inode 318 offset 3080192 root 258
inode 318 offset 3080192 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 276963328 /mnt/scratch
inode 318 offset 3084288 root 258
inode 318 offset 3084288 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 270753792 /mnt/scratch
inode 318 offset 3452928 root 258
inode 318 offset 3452928 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 286814208 /mnt/scratch
inode 318 offset 3522560 root 258
inode 318 offset 3522560 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 295747584 /mnt/scratch
inode 318 offset 4026368 root 258
inode 318 offset 4026368 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 286412800 /mnt/scratch
inode 318 offset 4157440 root 258
inode 318 offset 4157440 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
318
# /bin/btrfs inspect-internal logical-resolve -P 295325696 /mnt/scratch
inode 318 offset 4665344 root 258
inode 318 offset 4665344 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/f38
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/f38 is 4923392 (1202 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      19:      61645..     61653:      9:         11: shared
   1:       29..      34:      72367..     72372:      6:      61663: unwritten,shared
   2:       53..      61:      72391..     72399:      9:             unwritten,shared
   3:       62..      83:      66224..     66245:     22:      72400: shared
   4:       84..     118:      72400..     72434:     35:      66246: unwritten,shared
   5:      119..     122:      58865..     58868:      4:      72435: shared
   6:      123..     133:      72435..     72445:     11:      58869: unwritten,shared
   7:      179..     181:      60119..     60121:      3:      72491: shared
   8:      184..     201:      70176..     70193:     18:      60124: unwritten,shared
   9:      207..     210:      62075..     62078:      4:      70199: unwritten,shared
  10:      211..     213:      62079..     62081:      3:             shared
  11:      214..     218:      62082..     62086:      5:             unwritten,shared
  12:      219..     233:      58627..     58641:     15:      62087: shared
  13:      242..     249:      58650..     58657:      8:             shared
  14:      250..     252:      62087..     62089:      3:      58658: unwritten,shared
  15:      273..     281:      61478..     61486:      9:      62110: unwritten,shared
  16:      282..     290:      61452..     61460:      9:      61487: shared
  17:      291..     315:      62048..     62072:     25:      61461: shared
  18:      316..     356:      61487..     61527:     41:      62073: unwritten,shared
  19:      357..     376:      61528..     61547:     20:             shared
  20:      431..     433:      61602..     61604:      3:             unwritten,shared
  21:      434..     439:      58658..     58663:      6:      61605: shared
  22:      440..     440:      60971..     60971:      1:      58664: shared
  23:      441..     442:      61605..     61606:      2:      60972: unwritten,shared
  24:      443..     450:      61607..     61614:      8:             shared
  25:      451..     456:      63717..     63722:      6:      61615: shared
  26:      457..     463:      60978..     60984:      7:      63723: shared
  27:      464..     473:      61615..     61624:     10:      60985: unwritten,shared
  28:      492..     497:      71642..     71647:      6:      61643: shared
  29:      498..     523:      63852..     63877:     26:      71648: shared
  30:      546..     575:      72704..     72733:     30:      63900: unwritten,shared
  31:      576..     589:      59530..     59543:     14:      72734: shared
  32:      590..     590:      61057..     61057:      1:      59544: shared
  33:      591..     592:      72734..     72735:      2:      61058: unwritten,shared
  34:      593..     598:      60998..     61003:      6:      72736: shared
  35:      599..     599:      62121..     62121:      1:      61004: shared
  36:      600..     600:      72736..     72736:      1:      62122: unwritten,shared
  37:      601..     610:      64676..     64685:     10:      72737: shared
  38:      611..     615:      72737..     72741:      5:      64686: unwritten,shared
  39:      616..     621:      64691..     64696:      6:      72742: shared
  40:      622..     716:      72742..     72836:     95:      64697: unwritten,shared
  41:      717..     744:      62122..     62149:     28:      72837: shared
  42:      745..     745:      62884..     62884:      1:      62150: shared
  43:      746..     780:      72837..     72871:     35:      62885: unwritten,shared
  44:      784..     792:      64810..     64818:      9:      72875: unwritten,shared
  45:      810..     830:      64836..     64856:     21:             unwritten,shared
  46:      865..     876:      73132..     73143:     12:      64891: shared
  47:      877..     882:      64903..     64908:      6:      73144: unwritten,shared
  48:      897..     906:      64923..     64932:     10:             unwritten,shared
  49:      931..     938:      64957..     64964:      8:             unwritten,shared
  50:      939..     940:      62347..     62348:      2:      64965: shared
  51:      941..    1013:      64965..     65037:     73:      62349: unwritten,shared
  52:     1194..    1201:      72446..     72453:      8:      65218: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/f38: 43 extents found
after filter: 252497920#36864#45056#shared 296415232#24576#118784#unwritten,shared 296513536#36864#217088#unwritten,shared 271253504#90112#253952#shared 296550400#143360#344064#unwritten,shared 241111040#16384#487424#shared 296693760#45056#503808#unwritten,shared 246247424#12288#733184#shared 287440896#73728#753664#unwritten,shared 254259200#16384#847872#unwritten,shared 254275584#12288#864256#shared 254287872#20480#876544#unwritten,shared 240136192#61440#897024#shared 240230400#32768#991232#shared 254308352#12288#1024000#unwritten,shared 251813888#36864#1118208#unwritten,shared 251707392#36864#1155072#shared 254148608#102400#1191936#shared 251850752#167936#1294336#unwritten,shared 252018688#81920#1462272#shared 252321792#12288#1765376#unwritten,shared 240263168#24576#1777664#shared 249737216#4096#1802240#shared 252334080#8192#1806336#unwritten,shared 252342272#32768#1814528#shared 260984832#24576#1847296#shared 249765888#28672#1871872#shared 252375040#40960#1900544#unwritten,shared 293445632#24576#2015232#shared 261537792#106496#2039808#shared 297795584#122880#2236416#unwritten,shared 243834880#57344#2359296#shared 250089472#4096#2416640#shared 297918464#8192#2420736#unwritten,shared 249847808#24576#2428928#shared 254447616#4096#2453504#shared 297926656#4096#2457600#unwritten,shared 264912896#40960#2461696#shared 297930752#20480#2502656#unwritten,shared 264974336#24576#2523136#shared 297951232#389120#2547712#unwritten,shared 254451712#114688#2936832#shared 257572864#4096#3051520#shared 298340352#143360#3055616#unwritten,shared 265461760#36864#3211264#unwritten,shared 265568256#86016#3317760#unwritten,shared 299548672#49152#3543040#shared 265842688#24576#3592192#unwritten,shared 265924608#40960#3674112#unwritten,shared 266063872#32768#3813376#unwritten,shared 255373312#8192#3846144#shared 266096640#299008#3854336#unwritten,shared 296738816#32768#4890624#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252497920 /mnt/scratch
inode 296 offset 45056 root 258
inode 296 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 296415232 /mnt/scratch
inode 296 offset 118784 root 258
inode 296 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 296513536 /mnt/scratch
inode 296 offset 217088 root 258
inode 296 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 271253504 /mnt/scratch
inode 296 offset 253952 root 258
inode 296 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 296550400 /mnt/scratch
inode 296 offset 344064 root 258
inode 296 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 241111040 /mnt/scratch
inode 296 offset 487424 root 258
inode 296 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 296693760 /mnt/scratch
inode 296 offset 503808 root 258
inode 296 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 246247424 /mnt/scratch
inode 279 offset 1318912 root 258
inode 296 offset 733184 root 258
inode 296 offset 733184 root 5
inode 279 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254259200 /mnt/scratch
inode 296 offset 847872 root 258
inode 296 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254275584 /mnt/scratch
inode 296 offset 864256 root 258
inode 296 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254287872 /mnt/scratch
inode 296 offset 876544 root 258
inode 296 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 240136192 /mnt/scratch
inode 296 offset 897024 root 258
inode 296 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 240230400 /mnt/scratch
inode 296 offset 991232 root 258
inode 296 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254308352 /mnt/scratch
inode 296 offset 1024000 root 258
inode 296 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 251813888 /mnt/scratch
inode 296 offset 1118208 root 258
inode 296 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 251707392 /mnt/scratch
inode 296 offset 1155072 root 258
inode 296 offset 1155072 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515608703
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254148608 /mnt/scratch
inode 296 offset 1191936 root 258
inode 296 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 251850752 /mnt/scratch
inode 296 offset 1294336 root 258
inode 296 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252018688 /mnt/scratch
inode 296 offset 1462272 root 258
inode 296 offset 1462272 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252321792 /mnt/scratch
inode 296 offset 1765376 root 258
inode 296 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 240263168 /mnt/scratch
inode 296 offset 1777664 root 258
inode 296 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 249737216 /mnt/scratch
inode 296 offset 1802240 root 258
inode 296 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252334080 /mnt/scratch
inode 296 offset 1806336 root 258
inode 296 offset 1806336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252342272 /mnt/scratch
inode 296 offset 1814528 root 258
inode 296 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 260984832 /mnt/scratch
inode 296 offset 1847296 root 258
inode 296 offset 1847296 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 249765888 /mnt/scratch
inode 296 offset 1871872 root 258
inode 296 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 252375040 /mnt/scratch
inode 296 offset 1900544 root 258
inode 296 offset 1900544 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 293445632 /mnt/scratch
inode 296 offset 2015232 root 258
inode 296 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 261537792 /mnt/scratch
inode 296 offset 2039808 root 258
inode 296 offset 2039808 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 297795584 /mnt/scratch
inode 296 offset 2236416 root 258
inode 296 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 243834880 /mnt/scratch
inode 296 offset 2359296 root 258
inode 296 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 250089472 /mnt/scratch
inode 296 offset 2416640 root 258
inode 296 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 297918464 /mnt/scratch
inode 296 offset 2420736 root 258
inode 296 offset 2420736 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 249847808 /mnt/scratch
inode 296 offset 2428928 root 258
inode 296 offset 2428928 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254447616 /mnt/scratch
inode 296 offset 2453504 root 258
inode 296 offset 2453504 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 297926656 /mnt/scratch
inode 296 offset 2457600 root 258
inode 296 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 264912896 /mnt/scratch
inode 296 offset 2461696 root 258
inode 296 offset 2461696 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 297930752 /mnt/scratch
inode 296 offset 2502656 root 258
inode 296 offset 2502656 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 264974336 /mnt/scratch
inode 296 offset 2523136 root 258
inode 296 offset 2523136 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 297951232 /mnt/scratch
inode 296 offset 2547712 root 258
inode 296 offset 2547712 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 254451712 /mnt/scratch
inode 296 offset 2936832 root 258
inode 296 offset 2936832 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 257572864 /mnt/scratch
inode 296 offset 3051520 root 258
inode 296 offset 3051520 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 298340352 /mnt/scratch
inode 296 offset 3055616 root 258
inode 296 offset 3055616 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 265461760 /mnt/scratch
inode 296 offset 3211264 root 258
inode 296 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 265568256 /mnt/scratch
inode 296 offset 3317760 root 258
inode 296 offset 3317760 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 299548672 /mnt/scratch
inode 296 offset 3543040 root 258
inode 296 offset 3543040 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 265842688 /mnt/scratch
inode 296 offset 3592192 root 258
inode 296 offset 3592192 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 265924608 /mnt/scratch
inode 296 offset 3674112 root 258
inode 296 offset 3674112 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 266063872 /mnt/scratch
inode 296 offset 3813376 root 258
inode 296 offset 3813376 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 255373312 /mnt/scratch
inode 296 offset 3846144 root 258
inode 296 offset 3846144 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 266096640 /mnt/scratch
inode 296 offset 3854336 root 258
inode 296 offset 3854336 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f38
296
# /bin/btrfs inspect-internal logical-resolve -P 296738816 /mnt/scratch
inode 296 offset 4890624 root 258
inode 296 offset 4890624 root 5
# /bin/btrfs inspect-internal inode-resolve 296 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f30
/mnt/scratch/snap1/p0/d9/d11/d1c/f38
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f18c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f18c is 188416 (46 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f18c: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/dcc/f72 is 2703360 (660 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      24:      60319..     60321:      3:         22: unwritten,shared
   1:       59..      60:      64334..     64335:      2:      60356: shared
   2:       79..      87:      69074..     69082:      9:      64354: shared
   3:       88..     103:      67925..     67940:     16:      69083: shared
   4:      104..     110:      67918..     67924:      7:      67941: shared
   5:      122..     135:      62318..     62331:     14:      67936: shared
   6:      158..     174:      61656..     61672:     17:      62354: unwritten,shared
   7:      181..     183:      72256..     72258:      3:      61679: shared
   8:      192..     193:      61690..     61691:      2:      72267: unwritten,shared
   9:      212..     223:      61710..     61721:     12:             unwritten,shared
  10:      249..     259:      61747..     61757:     11:             unwritten,shared
  11:      276..     289:      61774..     61787:     14:             unwritten,shared
  12:      290..     291:      61788..     61789:      2:             shared
  13:      292..     304:      64418..     64430:     13:      61790: shared
  14:      305..     307:      61803..     61805:      3:      64431: shared
  15:      308..     320:      61806..     61818:     13:             unwritten,shared
  16:      344..     378:      61842..     61876:     35:             unwritten,shared
  17:      429..     458:      64721..     64750:     30:      61927: shared
  18:      459..     459:      65410..     65410:      1:      64751: last,shared
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72: 13 extents found
after filter: 247066624#12288#90112#unwritten,shared 263512064#8192#241664#shared 282927104#36864#323584#shared 278220800#65536#360448#shared 278192128#28672#425984#shared 255254528#57344#499712#shared 252542976#69632#647168#unwritten,shared 295960576#12288#741376#shared 252682240#8192#786432#unwritten,shared 252764160#49152#868352#unwritten,shared 252915712#45056#1019904#unwritten,shared 253026304#57344#1130496#unwritten,shared 253083648#8192#1187840#shared 263856128#53248#1196032#shared 253145088#12288#1249280#shared 253157376#53248#1261568#unwritten,shared 253304832#143360#1409024#unwritten,shared 265097216#122880#1757184#shared 267919360#4096#1880064#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 263512064 /mnt/scratch
inode 348 offset 241664 root 258
inode 348 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 282927104 /mnt/scratch
inode 348 offset 323584 root 258
inode 348 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 278220800 /mnt/scratch
inode 348 offset 360448 root 258
inode 348 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 278192128 /mnt/scratch
inode 348 offset 425984 root 258
inode 348 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 255254528 /mnt/scratch
inode 348 offset 499712 root 258
inode 348 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 252542976 /mnt/scratch
inode 348 offset 647168 root 258
inode 348 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 295960576 /mnt/scratch
inode 348 offset 741376 root 258
inode 348 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 252682240 /mnt/scratch
inode 348 offset 786432 root 258
inode 348 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 252764160 /mnt/scratch
inode 348 offset 868352 root 258
inode 348 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 252915712 /mnt/scratch
inode 348 offset 1019904 root 258
inode 348 offset 1019904 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 253026304 /mnt/scratch
inode 348 offset 1130496 root 258
inode 348 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516211731
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 253083648 /mnt/scratch
inode 348 offset 1187840 root 258
inode 348 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 263856128 /mnt/scratch
inode 348 offset 1196032 root 258
inode 348 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 253145088 /mnt/scratch
inode 348 offset 1249280 root 258
inode 348 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 253157376 /mnt/scratch
inode 348 offset 1261568 root 258
inode 348 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 253304832 /mnt/scratch
inode 348 offset 1409024 root 258
inode 348 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 265097216 /mnt/scratch
inode 348 offset 1757184 root 258
inode 348 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f72
348
# /bin/btrfs inspect-internal logical-resolve -P 267919360 /mnt/scratch
inode 348 offset 1880064 root 258
inode 348 offset 1880064 root 5
# /bin/btrfs inspect-internal inode-resolve 348 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f72
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc is 1265030 (309 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      109..     135:      67872..     67898:     27:        109: shared
   1:      139..     148:      65581..     65590:     10:      67902: shared
   2:      149..     149:      66072..     66072:      1:      65591: shared
   3:      152..     155:      68648..     68651:      4:      66075: shared
   4:      288..     308:      66073..     66093:     21:      68784: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc: 5 extents found
after filter: 278003712#110592#446464#shared 268619776#40960#569344#shared 270630912#4096#610304#shared 281182208#16384#622592#shared 270635008#86016#1179648#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
430
# /bin/btrfs inspect-internal logical-resolve -P 278003712 /mnt/scratch
inode 430 offset 446464 root 258
inode 430 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
430
# /bin/btrfs inspect-internal logical-resolve -P 268619776 /mnt/scratch
inode 430 offset 569344 root 258
inode 430 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
430
# /bin/btrfs inspect-internal logical-resolve -P 270630912 /mnt/scratch
inode 430 offset 610304 root 258
inode 430 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
430
# /bin/btrfs inspect-internal logical-resolve -P 281182208 /mnt/scratch
inode 430 offset 622592 root 258
inode 430 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
430
# /bin/btrfs inspect-internal logical-resolve -P 270635008 /mnt/scratch
inode 430 offset 1179648 root 258
inode 430 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f1cc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/f70
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/f70 is 2794821 (683 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..       7:      62218..     62220:      3:          5: shared
   1:        8..       8:      65101..     65101:      1:      62221: shared
   2:       12..      39:      68233..     68260:     28:      65105: shared
   3:       80..     104:      69133..     69157:     25:      68301: shared
   4:      105..     105:      67916..     67916:      1:      69158: shared
   5:      256..     259:      65102..     65105:      4:      68067: shared
   6:      260..     260:      66246..     66246:      1:      65106: shared
   7:      430..     436:      66015..     66021:      7:      66416: shared
   8:      630..     642:      73602..     73614:     13:      66215: shared
   9:      648..     671:      68965..     68988:     24:      73620: last,shared
/mnt/scratch/snap1/p0/d9/d11/d17/f70: 10 extents found
after filter: 254844928#12288#20480#shared 266653696#4096#32768#shared 279482368#114688#49152#shared 283168768#102400#327680#shared 278183936#4096#430080#shared 266657792#16384#1048576#shared 271343616#4096#1064960#shared 270397440#28672#1761280#shared 301473792#53248#2580480#shared 282480640#98304#2654208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 254844928 /mnt/scratch
inode 346 offset 20480 root 258
inode 346 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 266653696 /mnt/scratch
inode 346 offset 32768 root 258
inode 346 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 279482368 /mnt/scratch
inode 346 offset 49152 root 258
inode 346 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 283168768 /mnt/scratch
inode 346 offset 327680 root 258
inode 346 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 278183936 /mnt/scratch
inode 346 offset 430080 root 258
inode 346 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 266657792 /mnt/scratch
inode 346 offset 1048576 root 258
inode 346 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 271343616 /mnt/scratch
inode 346 offset 1064960 root 258
inode 346 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 270397440 /mnt/scratch
inode 346 offset 1761280 root 258
inode 346 offset 1761280 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 301473792 /mnt/scratch
inode 346 offset 2580480 root 258
inode 346 offset 2580480 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f70
346
# /bin/btrfs inspect-internal logical-resolve -P 282480640 /mnt/scratch
inode 346 offset 2654208 root 258
inode 346 offset 2654208 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f70
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/f111
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/f111 is 1032192 (252 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      58:      59686..     59701:     16:         43: shared
   1:       59..      62:      63815..     63818:      4:      59702: shared
   2:       63..      67:      59706..     59710:      5:      63819: shared
   3:       68..      68:      64343..     64343:      1:      59711: shared
   4:      110..     114:      66719..     66723:      5:      64385: unwritten,shared
   5:      126..     132:      66735..     66741:      7:             unwritten,shared
   6:      177..     179:      60319..     60321:      3:      66786: unwritten,shared
   7:      187..     196:      66796..     66805:     10:      60329: unwritten,shared
   8:      197..     204:      59206..     59213:      8:      66806: unwritten,shared
   9:      221..     222:      59230..     59231:      2:             unwritten,shared
  10:      223..     223:      59896..     59896:      1:      59232: shared
  11:      224..     251:      71151..     71178:     28:      59897: shared,eof
  12:      252..     364:      66822..     66934:    113:      71179: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/f111: 11 extents found
after filter: 244473856#65536#176128#shared 261386240#16384#241664#shared 244555776#20480#258048#shared 263548928#4096#278528#shared 273281024#20480#450560#unwritten,shared 273346560#28672#516096#unwritten,shared 247066624#12288#724992#unwritten,shared 273596416#40960#765952#unwritten,shared 242507776#32768#806912#unwritten,shared 242606080#8192#905216#unwritten,shared 245334016#4096#913408#shared 291434496#114688#917504#shared,eof 273702912#462848#1032192#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 244473856 /mnt/scratch
inode 315 offset 176128 root 258
inode 315 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 261386240 /mnt/scratch
inode 315 offset 241664 root 258
inode 315 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 244555776 /mnt/scratch
inode 315 offset 258048 root 258
inode 315 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 263548928 /mnt/scratch
inode 315 offset 278528 root 258
inode 315 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 273281024 /mnt/scratch
inode 315 offset 450560 root 258
inode 315 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 273346560 /mnt/scratch
inode 315 offset 516096 root 258
inode 315 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 273596416 /mnt/scratch
inode 315 offset 765952 root 258
inode 315 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 242507776 /mnt/scratch
inode 315 offset 806912 root 258
inode 315 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 242606080 /mnt/scratch
inode 315 offset 905216 root 258
inode 315 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
background rm
315
# /bin/btrfs inspect-internal logical-resolve -P 245334016 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516092371
inode 315 offset 913408 root 258
inode 315 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 291434496 /mnt/scratch
inode 315 offset 917504 root 258
inode 315 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f111
315
# /bin/btrfs inspect-internal logical-resolve -P 273702912 /mnt/scratch
inode 315 offset 1032192 root 258
inode 315 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f111
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/da2/da0/f136
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/da2/da0/f136 is 712410 (174 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      111..     165:      72530..     72584:     55:        111: unwritten,shared
   1:      166..     173:      69732..     69739:      8:      72585: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f136: 2 extents found
after filter: 297082880#225280#454656#unwritten,shared 285622272#32768#679936#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 297082880 /mnt/scratch
inode 507 offset 454656 root 258
inode 507 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f136
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f136
507
# /bin/btrfs inspect-internal logical-resolve -P 285622272 /mnt/scratch
inode 507 offset 679936 root 258
inode 507 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 507 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f136
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf is 1089536 (266 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      134..     135:      69275..     69276:      2:        134: shared
   1:      136..     136:      68647..     68647:      1:      69277: shared
   2:      251..     254:       3378..      3381:      4:      68762: shared
   3:      255..     255:      64698..     64698:      1:       3382: shared
   4:      256..     259:       3383..      3386:      4:      64699: shared
   5:      260..     260:      60345..     60345:      1:       3387: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf: 6 extents found
after filter: 283750400#8192#548864#shared 281178112#4096#557056#shared 13836288#16384#1028096#shared 265003008#4096#1044480#shared 13856768#16384#1048576#shared 247173120#4096#1064960#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 283750400 /mnt/scratch
inode 436 offset 548864 root 258
inode 436 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 281178112 /mnt/scratch
inode 436 offset 557056 root 258
inode 436 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 13836288 /mnt/scratch
inode 436 offset 1028096 root 258
inode 279 offset 1175552 root 258
inode 436 offset 1028096 root 5
inode 279 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 265003008 /mnt/scratch
inode 436 offset 1044480 root 258
inode 279 offset 1191936 root 258
inode 436 offset 1044480 root 5
inode 279 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 13856768 /mnt/scratch
inode 436 offset 1048576 root 258
inode 279 offset 1196032 root 258
inode 436 offset 1048576 root 5
inode 279 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
436
# /bin/btrfs inspect-internal logical-resolve -P 247173120 /mnt/scratch
inode 436 offset 1064960 root 258
inode 279 offset 1212416 root 258
inode 436 offset 1064960 root 5
inode 279 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 436 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/fdf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d15/faa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d15/faa is 1892352 (462 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      40:      64307..     64332:     26:         15: shared
   1:       41..      41:      65251..     65251:      1:      64333: shared
   2:      212..     231:      71232..     71251:     20:      65422: shared
   3:      232..     235:      65267..     65270:      4:      71252: shared
   4:      236..     236:      69274..     69274:      1:      65271: shared
   5:      461..     461:      67112..     67112:      1:      69499: last,shared,eof
/mnt/scratch/snap1/p0/d9/d15/faa: 6 extents found
after filter: 263401472#106496#61440#shared 267268096#4096#167936#shared 291766272#81920#868352#shared 267333632#16384#950272#shared 283746304#4096#966656#shared 274890752#4096#1888256#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 263401472 /mnt/scratch
inode 392 offset 61440 root 258
inode 392 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 267268096 /mnt/scratch
inode 392 offset 167936 root 258
inode 392 offset 167936 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 291766272 /mnt/scratch
inode 392 offset 868352 root 258
inode 392 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 267333632 /mnt/scratch
inode 392 offset 950272 root 258
inode 392 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 283746304 /mnt/scratch
inode 392 offset 966656 root 258
inode 392 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/faa
392
# /bin/btrfs inspect-internal logical-resolve -P 274890752 /mnt/scratch
inode 392 offset 1888256 root 258
inode 392 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/faa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/f27
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/f27 is 4657152 (1137 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       7:      58723..     58729:      7:          1: shared
   1:       79..      84:      69025..     69030:      6:      58801: unwritten,shared
   2:      106..     112:      69052..     69058:      7:             unwritten,shared
   3:      113..     119:       3138..      3144:      7:      69059: shared
   4:      120..     125:      69059..     69064:      6:       3145: unwritten,shared
   5:      126..     140:      63219..     63233:     15:      69065: shared
   6:      141..     149:      69065..     69073:      9:      63234: unwritten,shared
   7:      167..     195:      60584..     60612:     29:      69091: shared
   8:      254..     262:       3422..      3430:      9:      60671: shared
   9:      273..     275:      60319..     60321:      3:       3441: unwritten,shared
  10:      590..     609:      64752..     64771:     20:      60636: shared
  11:      688..     691:      59201..     59204:      4:      64850: shared
  12:      724..     747:      59857..     59880:     24:      59237: shared
  13:      818..     821:      60107..     60110:      4:      59951: unwritten,shared
  14:      915..     929:      72157..     72171:     15:      60204: shared
  15:     1117..    1136:      73582..     73601:     20:      72359: last,shared,eof
/mnt/scratch/snap1/p0/d9/f27: 15 extents found
after filter: 240529408#28672#4096#shared 282726400#24576#323584#unwritten,shared 282836992#28672#434176#unwritten,shared 12853248#28672#462848#shared 282865664#24576#491520#unwritten,shared 258945024#61440#516096#shared 282890240#36864#577536#unwritten,shared 248152064#118784#684032#shared 14016512#36864#1040384#shared 247066624#12288#1118208#unwritten,shared 265224192#81920#2416640#shared 242487296#16384#2818048#shared 245174272#98304#2965504#shared 246198272#16384#3350528#unwritten,shared 295555072#61440#3747840#shared 301391872#81920#4575232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 240529408 /mnt/scratch
inode 291 offset 4096 root 258
inode 291 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 282726400 /mnt/scratch
inode 291 offset 323584 root 258
inode 291 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 282836992 /mnt/scratch
inode 291 offset 434176 root 258
inode 291 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 12853248 /mnt/scratch
inode 291 offset 462848 root 258
inode 291 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 282865664 /mnt/scratch
inode 291 offset 491520 root 258
inode 291 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 258945024 /mnt/scratch
inode 291 offset 516096 root 258
inode 291 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 282890240 /mnt/scratch
inode 291 offset 577536 root 258
inode 291 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 248152064 /mnt/scratch
inode 291 offset 684032 root 258
inode 291 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 14016512 /mnt/scratch
inode 291 offset 1040384 root 258
inode 291 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 265224192 /mnt/scratch
inode 291 offset 2416640 root 258
inode 291 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 242487296 /mnt/scratch
inode 291 offset 2818048 root 258
inode 291 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 245174272 /mnt/scratch
inode 291 offset 2965504 root 258
inode 291 offset 2965504 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 295555072 /mnt/scratch
inode 291 offset 3747840 root 258
inode 291 offset 3747840 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/f27
291
# /bin/btrfs inspect-internal logical-resolve -P 301391872 /mnt/scratch
inode 291 offset 4575232 root 258
inode 291 offset 4575232 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/f60
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/f60 is 2812892 (687 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      11:       3761..      3768:      8:          4: shared
   1:       12..      41:      63819..     63848:     30:       3769: shared
   2:       42..      48:       3540..      3546:      7:      63849: shared
   3:       59..      59:      60321..     60321:      1:       3557: unwritten,shared
   4:       68..      73:      60107..     60112:      6:      60330: unwritten,shared
   5:      105..     110:       4663..      4668:      6:      60144: shared
   6:      135..     142:       3355..      3362:      8:       4693: shared
   7:      156..     182:      58523..     58549:     27:       3376: shared
   8:      186..     191:       4103..      4108:      6:      58553: shared
   9:      192..     192:       4171..      4171:      1:       4109: shared
  10:      199..     215:      60813..     60829:     17:       4178: shared
  11:      263..     271:      61005..     61013:      9:      60877: shared
  12:      272..     301:      71743..     71772:     30:      61014: shared
  13:      302..     310:       4442..      4450:      9:      71773: shared
  14:      311..     311:      60568..     60568:      1:       4451: shared
  15:      376..     396:      63162..     63182:     21:      60633: shared
  16:      423..     423:       3342..      3342:      1:      63209: shared
  17:      628..     676:      66604..     66652:     49:       3547: unwritten,shared
  18:      680..     683:      66656..     66659:      4:             unwritten,shared
  19:      685..     685:      66661..     66661:      1:             unwritten,shared
  20:      686..     686:      66662..     66662:      1:             shared,eof
  21:      687..     757:      67320..     67390:     71:      66663: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/f60: 19 extents found
after filter: 15405056#32768#16384#shared 261402624#122880#49152#shared 14499840#28672#172032#shared 247074816#4096#241664#unwritten,shared 246198272#24576#278528#unwritten,shared 19099648#24576#430080#shared 13742080#32768#552960#shared 239710208#110592#638976#shared 16805888#24576#761856#shared 17084416#4096#786432#shared 249090048#69632#815104#shared 249876480#36864#1077248#shared 293859328#122880#1114112#shared 18194432#36864#1236992#shared 248086528#4096#1273856#shared 258711552#86016#1540096#shared 13688832#4096#1732608#shared 272809984#200704#2572288#unwritten,shared 273022976#16384#2785280#unwritten,shared 273043456#4096#2805760#unwritten,shared 273047552#4096#2809856#shared,eof 275742720#290816#2813952#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 15405056 /mnt/scratch
inode 268 offset 16384 root 258
inode 268 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 261402624 /mnt/scratch
inode 268 offset 49152 root 258
inode 268 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 14499840 /mnt/scratch
inode 268 offset 172032 root 258
inode 268 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 247074816 /mnt/scratch
inode 268 offset 241664 root 5
inode 383 offset 286720 root 5
inode 491 offset 643072 root 5
inode 333 offset 978944 root 5
inode 335 offset 57344 root 5
inode 353 offset 290816 root 5
inode 353 offset 61440 root 5
inode 353 offset 192512 root 5
inode 353 offset 290816 root 5
inode 353 offset 192512 root 5
inode 353 offset 290816 root 5
inode 348 offset 98304 root 5
inode 448 offset 221184 root 258
inode 448 offset 221184 root 258
inode 448 offset 221184 root 5
inode 448 offset 221184 root 5
inode 448 offset 16384 root 258
inode 448 offset 16384 root 5
inode 291 offset 1126400 root 5
inode 315 offset 733184 root 258
inode 315 offset 733184 root 5
inode 375 offset 561152 root 258
inode 375 offset 561152 root 5
inode 318 offset 1007616 root 5
inode 326 offset 2473984 root 258
inode 326 offset 2473984 root 5
inode 318 offset 1007616 root 258
inode 353 offset 192512 root 258
inode 353 offset 290816 root 258
inode 353 offset 61440 root 258
inode 353 offset 192512 root 258
inode 353 offset 290816 root 258
inode 353 offset 290816 root 258
inode 291 offset 1126400 root 258
inode 335 offset 57344 root 258
inode 333 offset 978944 root 258
inode 348 offset 98304 root 258
inode 491 offset 643072 root 258
inode 383 offset 286720 root 258
inode 268 offset 241664 root 258
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 19099648 /mnt/scratch
inode 268 offset 430080 root 258
inode 268 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 13742080 /mnt/scratch
inode 268 offset 552960 root 258
inode 268 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 239710208 /mnt/scratch
inode 268 offset 638976 root 258
inode 268 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 16805888 /mnt/scratch
inode 268 offset 761856 root 258
inode 268 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515488385
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 17084416 /mnt/scratch
inode 268 offset 786432 root 258
inode 268 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 249090048 /mnt/scratch
inode 268 offset 815104 root 258
inode 268 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 249876480 /mnt/scratch
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 293859328 /mnt/scratch
inode 268 offset 1114112 root 258
inode 268 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 18194432 /mnt/scratch
inode 268 offset 1236992 root 258
inode 268 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 248086528 /mnt/scratch
inode 268 offset 1273856 root 258
inode 268 offset 1273856 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 258711552 /mnt/scratch
inode 268 offset 1540096 root 258
inode 268 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 13688832 /mnt/scratch
inode 268 offset 1732608 root 258
inode 268 offset 1732608 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 272809984 /mnt/scratch
inode 268 offset 2572288 root 258
inode 268 offset 2572288 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 273022976 /mnt/scratch
inode 268 offset 2785280 root 258
inode 268 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 273043456 /mnt/scratch
inode 268 offset 2805760 root 258
inode 268 offset 2805760 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 273047552 /mnt/scratch
inode 268 offset 2809856 root 258
inode 268 offset 2809856 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f60
268
# /bin/btrfs inspect-internal logical-resolve -P 275742720 /mnt/scratch
inode 268 offset 2813952 root 258
inode 268 offset 2813952 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f60
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3 is 2490368 (608 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      111..     120:      66005..     66014:     10:        111: shared
   1:      130..     136:      63943..     63949:      7:      66024: shared
   2:      137..     137:      65576..     65576:      1:      63950: shared
   3:      155..     177:      70427..     70449:     23:      65594: shared
   4:      333..     354:      67596..     67617:     22:      70605: shared
   5:      374..     379:      73312..     73317:      6:      67637: shared
   6:      389..     412:      69296..     69319:     24:      73327: shared
   7:      413..     413:      72203..     72203:      1:      69320: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3: 8 extents found
after filter: 270356480#40960#454656#shared 261910528#28672#532480#shared 268599296#4096#561152#shared 288468992#94208#634880#shared 276873216#90112#1363968#shared 300285952#24576#1531904#shared 283836416#98304#1593344#shared 295743488#4096#1691648#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 270356480 /mnt/scratch
inode 388 offset 454656 root 258
inode 388 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 261910528 /mnt/scratch
inode 388 offset 532480 root 258
inode 388 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 268599296 /mnt/scratch
inode 388 offset 561152 root 258
inode 388 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 288468992 /mnt/scratch
inode 388 offset 634880 root 258
inode 388 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 276873216 /mnt/scratch
inode 388 offset 1363968 root 258
inode 388 offset 1363968 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 300285952 /mnt/scratch
inode 388 offset 1531904 root 258
inode 388 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 283836416 /mnt/scratch
inode 388 offset 1593344 root 258
inode 388 offset 1593344 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
388
# /bin/btrfs inspect-internal logical-resolve -P 295743488 /mnt/scratch
inode 388 offset 1691648 root 258
inode 388 offset 1691648 root 5
# /bin/btrfs inspect-internal inode-resolve 388 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/fa3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f9c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f9c is 753664 (184 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      27:      70176..     70176:      1:         27: unwritten,shared
   1:       70..      70:      60321..     60321:      1:      70219: unwritten,shared
   2:      174..     183:      63110..     63119:     10:      60425: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/f9c: 3 extents found
after filter: 287440896#4096#110592#unwritten,shared 247074816#4096#286720#unwritten,shared 258498560#40960#712704#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f9c
383
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f9c
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f9c
383
# /bin/btrfs inspect-internal logical-resolve -P 247074816 /mnt/scratch
inode 268 offset 241664 root 5
inode 383 offset 286720 root 5
inode 491 offset 643072 root 5
inode 333 offset 978944 root 5
inode 335 offset 57344 root 5
inode 353 offset 290816 root 5
inode 353 offset 61440 root 5
inode 353 offset 192512 root 5
inode 353 offset 290816 root 5
inode 353 offset 192512 root 5
inode 353 offset 290816 root 5
inode 348 offset 98304 root 5
inode 448 offset 221184 root 258
inode 448 offset 221184 root 258
inode 448 offset 221184 root 5
inode 448 offset 221184 root 5
inode 448 offset 16384 root 258
inode 448 offset 16384 root 5
inode 291 offset 1126400 root 5
inode 315 offset 733184 root 258
inode 315 offset 733184 root 5
inode 375 offset 561152 root 258
inode 375 offset 561152 root 5
inode 318 offset 1007616 root 5
inode 326 offset 2473984 root 258
inode 326 offset 2473984 root 5
inode 318 offset 1007616 root 258
inode 353 offset 192512 root 258
inode 353 offset 290816 root 258
inode 353 offset 61440 root 258
inode 353 offset 192512 root 258
inode 353 offset 290816 root 258
inode 353 offset 290816 root 258
inode 291 offset 1126400 root 258
inode 335 offset 57344 root 258
inode 333 offset 978944 root 258
inode 348 offset 98304 root 258
inode 491 offset 643072 root 258
inode 383 offset 286720 root 258
inode 268 offset 241664 root 258
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f9c
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f9c
383
# /bin/btrfs inspect-internal logical-resolve -P 258498560 /mnt/scratch
inode 383 offset 712704 root 258
inode 404 offset 1163264 root 258
inode 404 offset 1163264 root 5
inode 383 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 383 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f9c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d15/f19
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d15/f19 is 2355200 (575 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       16..      29:      58581..     58594:     14:         16: shared
   1:       40..      50:       3072..      3082:     11:      58605: shared
   2:       51..      61:       3871..      3881:     11:       3083: shared
   3:       62..      67:       3094..      3099:      6:       3882: shared
   4:       78..      84:      61058..     61064:      7:       3110: shared
   5:       98..      99:      67302..     67303:      2:      61078: shared
   6:      135..     142:       3367..      3374:      8:      67339: shared
   7:      153..     155:       3375..      3377:      3:             shared
   8:      220..     251:      65069..     65100:     32:       3442: shared
   9:      252..     258:      59608..     59614:      7:      65101: shared
  10:      287..     290:       3378..      3381:      4:      59643: shared
  11:      291..     291:      64698..     64698:      1:       3382: shared
  12:      292..     295:       3383..      3386:      4:      64699: shared
  13:      296..     296:      60345..     60345:      1:       3387: shared
  14:      317..     339:      60114..     60136:     23:      60366: shared
  15:      340..     342:      70687..     70689:      3:      60137: shared
  16:      343..     344:      60140..     60141:      2:      70690: shared
  17:      484..     492:      62583..     62591:      9:      60281: shared
  18:      551..     574:      60880..     60903:     24:      62650: last,shared,eof
/mnt/scratch/snap1/p0/d9/d15/f19: 18 extents found
after filter: 239947776#57344#65536#shared 12582912#45056#163840#shared 15855616#45056#208896#shared 12673024#24576#253952#shared 250093568#28672#319488#shared 275668992#8192#401408#shared 13791232#32768#552960#shared 13824000#12288#626688#shared 266522624#131072#901120#shared 244154368#28672#1032192#shared 13836288#16384#1175552#shared 265003008#4096#1191936#shared 13856768#16384#1196032#shared 247173120#4096#1212416#shared 246226944#94208#1298432#shared 289533952#12288#1392640#shared 246333440#8192#1404928#shared 256339968#36864#1982464#shared 249364480#98304#2256896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 239947776 /mnt/scratch
inode 279 offset 65536 root 258
inode 279 offset 65536 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 12582912 /mnt/scratch
inode 279 offset 163840 root 258
inode 274 offset 794624 root 258
inode 279 offset 163840 root 5
inode 274 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 15855616 /mnt/scratch
inode 279 offset 208896 root 258
inode 279 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 12673024 /mnt/scratch
inode 279 offset 253952 root 258
inode 279 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 250093568 /mnt/scratch
inode 279 offset 319488 root 258
inode 279 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 275668992 /mnt/scratch
inode 279 offset 401408 root 258
inode 279 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 13791232 /mnt/scratch
inode 279 offset 552960 root 258
inode 279 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 13824000 /mnt/scratch
inode 279 offset 626688 root 258
inode 279 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 266522624 /mnt/scratch
inode 279 offset 901120 root 258
inode 279 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 244154368 /mnt/scratch
inode 279 offset 1032192 root 258
inode 279 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 13836288 /mnt/scratch
inode 436 offset 1028096 root 258
inode 279 offset 1175552 root 258
inode 436 offset 1028096 root 5
inode 279 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 265003008 /mnt/scratch
inode 436 offset 1044480 root 258
inode 279 offset 1191936 root 258
inode 436 offset 1044480 root 5
inode 279 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 13856768 /mnt/scratch
inode 436 offset 1048576 root 258
inode 279 offset 1196032 root 258
inode 436 offset 1048576 root 5
inode 279 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 247173120 /mnt/scratch
inode 436 offset 1064960 root 258
inode 279 offset 1212416 root 258
inode 436 offset 1064960 root 5
inode 279 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 246226944 /mnt/scratch
inode 279 offset 1298432 root 258
inode 279 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 289533952 /mnt/scratch
inode 279 offset 1392640 root 258
inode 279 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 246333440 /mnt/scratch
inode 279 offset 1404928 root 258
inode 279 offset 1404928 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 256339968 /mnt/scratch
inode 279 offset 1982464 root 258
inode 279 offset 1982464 root 5
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516220052
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f19
279
# /bin/btrfs inspect-internal logical-resolve -P 249364480 /mnt/scratch
inode 279 offset 2256896 root 258
inode 279 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 279 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f19
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f2e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f2e is 2027520 (495 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      31:      65041..     65068:     28:          4: shared
   1:       65..      70:      62977..     62982:      6:      65102: shared
   2:       75..      78:      60372..     60375:      4:      62987: shared
   3:       79..     104:      60346..     60371:     26:      60376: shared
   4:      146..     160:      72172..     72186:     15:      60413: shared
   5:      188..     190:       3100..      3102:      3:      72214: shared
   6:      223..     229:      73067..     73073:      7:       3135: shared
   7:      263..     263:      67064..     67064:      1:      73107: shared
   8:      488..     494:      73144..     73150:      7:      67289: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/f2e: 9 extents found
after filter: 266407936#114688#16384#shared 257953792#24576#266240#shared 247283712#16384#307200#shared 247177216#106496#323584#shared 295616512#61440#598016#shared 12697600#12288#770048#shared 299282432#28672#913408#shared 274694144#4096#1077248#shared 299597824#28672#1998848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 266407936 /mnt/scratch
inode 295 offset 16384 root 258
inode 295 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 257953792 /mnt/scratch
inode 295 offset 266240 root 258
inode 295 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 247283712 /mnt/scratch
inode 295 offset 307200 root 258
inode 295 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 247177216 /mnt/scratch
inode 295 offset 323584 root 258
inode 295 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 295616512 /mnt/scratch
inode 295 offset 598016 root 258
inode 295 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 12697600 /mnt/scratch
inode 295 offset 770048 root 258
inode 295 offset 770048 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 299282432 /mnt/scratch
inode 295 offset 913408 root 258
inode 295 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 274694144 /mnt/scratch
inode 295 offset 1077248 root 258
inode 295 offset 1077248 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f2e
295
# /bin/btrfs inspect-internal logical-resolve -P 299597824 /mnt/scratch
inode 295 offset 1998848 root 258
inode 295 offset 1998848 root 5
# /bin/btrfs inspect-internal inode-resolve 295 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f2e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/f1e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/f1e is 1687552 (412 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       68..      98:      73236..     73266:     31:         68: shared
   1:      171..     171:      71097..     71097:      1:      73339: shared
   2:      344..     344:      73267..     73267:      1:      71270: shared
   3:      403..     411:      73123..     73131:      9:      73326: last,shared,eof
/mnt/scratch/snap1/p0/d9/f1e: 4 extents found
after filter: 299974656#126976#278528#shared 291213312#4096#700416#shared 300101632#4096#1409024#shared 299511808#36864#1650688#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 299974656 /mnt/scratch
inode 283 offset 278528 root 258
inode 283 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f1e
# stat -c %i /mnt/scratch/snap1/p0/d9/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 291213312 /mnt/scratch
inode 283 offset 700416 root 258
inode 283 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f1e
# stat -c %i /mnt/scratch/snap1/p0/d9/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 300101632 /mnt/scratch
inode 283 offset 1409024 root 258
inode 283 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f1e
# stat -c %i /mnt/scratch/snap1/p0/d9/f1e
283
# /bin/btrfs inspect-internal logical-resolve -P 299511808 /mnt/scratch
inode 283 offset 1650688 root 258
inode 283 offset 1650688 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f1e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a is 3346432 (817 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      35:      59829..     59839:     11:         25: unwritten,shared
   1:       40..      52:      59844..     59856:     13:             unwritten,shared
   2:       53..      54:      66279..     66280:      2:      59857: shared
   3:      153..     158:      60287..     60292:      6:      66379: shared
   4:      194..     212:      66151..     66169:     19:      60328: shared
   5:      322..     348:      60660..     60686:     27:      66279: shared
   6:      349..     349:      62998..     62998:      1:      60687: shared
   7:      527..     545:      62999..     63017:     19:             shared
   8:      546..     546:      65272..     65272:      1:      63018: shared
   9:      626..     626:      70794..     70794:      1:      65352: shared
  10:      730..     748:      70795..     70813:     19:             shared
  11:      749..     749:      73290..     73290:      1:      70814: shared
  12:      816..     816:      72703..     72703:      1:      73357: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a: 10 extents found
after filter: 245059584#45056#102400#unwritten,shared 245121024#53248#163840#unwritten,shared 271478784#8192#217088#shared 246935552#24576#626688#shared 270954496#77824#794624#shared 248463360#110592#1318912#shared 258039808#4096#1429504#shared 258043904#77824#2158592#shared 267354112#4096#2236416#shared 289972224#4096#2564096#shared 289976320#77824#2990080#shared 300195840#4096#3067904#shared 297791488#4096#3342336#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 245059584 /mnt/scratch
inode 305 offset 102400 root 258
inode 305 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 245121024 /mnt/scratch
inode 305 offset 163840 root 258
inode 305 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 271478784 /mnt/scratch
inode 305 offset 217088 root 258
inode 305 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 246935552 /mnt/scratch
inode 305 offset 626688 root 258
inode 305 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 270954496 /mnt/scratch
inode 305 offset 794624 root 258
inode 305 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 248463360 /mnt/scratch
inode 305 offset 1318912 root 258
inode 305 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 258039808 /mnt/scratch
inode 305 offset 1429504 root 258
inode 305 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 258043904 /mnt/scratch
inode 305 offset 2158592 root 258
inode 305 offset 2158592 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 267354112 /mnt/scratch
inode 305 offset 2236416 root 258
inode 305 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 289972224 /mnt/scratch
inode 305 offset 2564096 root 258
inode 305 offset 2564096 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 289976320 /mnt/scratch
inode 305 offset 2990080 root 258
inode 305 offset 2990080 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 300195840 /mnt/scratch
inode 305 offset 3067904 root 258
inode 305 offset 3067904 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
305
# /bin/btrfs inspect-internal logical-resolve -P 297791488 /mnt/scratch
inode 305 offset 3342336 root 258
inode 305 offset 3342336 root 5
# /bin/btrfs inspect-internal inode-resolve 305 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f3a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d139/f15d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d139/f15d is 548864 (134 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      109..     133:      70690..     70714:     25:        109: shared,eof
   1:      366..     441:      72901..     72976:     76:      70947: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d139/f15d: 2 extents found
after filter: 289546240#102400#446464#shared,eof 298602496#311296#1499136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d139/f15d
537
# /bin/btrfs inspect-internal logical-resolve -P 289546240 /mnt/scratch
inode 537 offset 446464 root 258
inode 537 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 537 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d139/f15d
# stat -c %i /mnt/scratch/snap1/p0/d9/d139/f15d
537
# /bin/btrfs inspect-internal logical-resolve -P 298602496 /mnt/scratch
inode 537 offset 1499136 root 258
inode 537 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 537 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d139/f15d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/f133
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/f133 is 1043865 (255 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       4:      60319..     60321:      3:          2: unwritten,shared
   1:       52..      54:      60319..     60321:      3:      60369: last,unwritten,shared
/mnt/scratch/snap1/p0/d9/d36/f133: 2 extents found
after filter: 247066624#12288#8192#unwritten,shared 247066624#12288#212992#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/f133
448
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f133
/mnt/scratch/snap1/p0/d9/d5d/d8f/fee
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/f133
448
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f133
/mnt/scratch/snap1/p0/d9/d5d/d8f/fee
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d16f/f143 is 1835008 (448 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     146:      73520..     73549:     30:        117: shared
   1:      179..     194:      71814..     71829:     16:      73582: shared
   2:      195..     195:      72068..     72068:      1:      71830: shared
   3:      262..     290:      73643..     73671:     29:      72135: shared
   4:      439..     447:      67842..     67850:      9:      73820: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143: 5 extents found
after filter: 301137920#122880#479232#shared 294150144#65536#733184#shared 295190528#4096#798720#shared 301641728#118784#1073152#shared 277880832#36864#1798144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 301137920 /mnt/scratch
inode 517 offset 479232 root 258
inode 517 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 294150144 /mnt/scratch
inode 517 offset 733184 root 258
inode 517 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 295190528 /mnt/scratch
inode 517 offset 798720 root 258
inode 517 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 301641728 /mnt/scratch
inode 517 offset 1073152 root 258
inode 517 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f143
517
# /bin/btrfs inspect-internal logical-resolve -P 277880832 /mnt/scratch
inode 481 offset 262144 root 258
inode 517 offset 1798144 root 258
inode 481 offset 262144 root 5
inode 517 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f143
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/ff4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/ff4 is 2351504 (575 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      225..     230:      65361..     65366:      6:        225: shared
   1:      231..     247:      70284..     70300:     17:      65367: shared
   2:      258..     267:      69759..     69768:     10:      70311: shared
   3:      268..     277:      62009..     62018:     10:      69769: shared
   4:      278..     278:      62607..     62607:      1:      62019: shared
   5:      279..     279:      62609..     62609:      1:      62608: unwritten,shared
   6:      364..     383:      66689..     66708:     20:      62694: last,shared
/mnt/scratch/snap1/p0/d9/d3f/ff4: 7 extents found
after filter: 267718656#24576#921600#shared 287883264#69632#946176#shared 285732864#40960#1056768#shared 253988864#40960#1097728#shared 256438272#4096#1138688#shared 256446464#4096#1142784#unwritten,shared 273158144#81920#1490944#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 267718656 /mnt/scratch
inode 400 offset 921600 root 258
inode 400 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 287883264 /mnt/scratch
inode 400 offset 946176 root 258
inode 400 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 285732864 /mnt/scratch
inode 400 offset 1056768 root 258
inode 400 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 253988864 /mnt/scratch
inode 400 offset 1097728 root 258
inode 400 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 256438272 /mnt/scratch
inode 400 offset 1138688 root 258
inode 400 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515642817
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 256446464 /mnt/scratch
inode 400 offset 1142784 root 258
inode 400 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/ff4
400
# /bin/btrfs inspect-internal logical-resolve -P 273158144 /mnt/scratch
inode 400 offset 1490944 root 258
inode 400 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 400 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/ff4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123 is 1716224 (419 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      155..     157:      60319..     60321:      3:        155: unwritten,shared
   1:      184..     194:      69720..     69730:     11:      60348: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123: 2 extents found
after filter: 247066624#12288#634880#unwritten,shared 285573120#45056#753664#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123
491
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123
491
# /bin/btrfs inspect-internal logical-resolve -P 285573120 /mnt/scratch
inode 491 offset 753664 root 258
inode 491 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 491 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f123
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f184
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f184 is 423101 (104 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       95..     103:      73281..     73289:      9:         95: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f184: 1 extent found
after filter: 300158976#36864#389120#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f184
548
# /bin/btrfs inspect-internal logical-resolve -P 300158976 /mnt/scratch
inode 548 offset 389120 root 258
inode 548 offset 389120 root 5
# /bin/btrfs inspect-internal inode-resolve 548 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f184
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/f99
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/f99 is 679502 (166 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      42:      62983..     62996:     14:         29: shared
   1:       43..      43:      63723..     63723:      1:      62997: shared
   2:       59..      76:      70176..     70193:     18:      63739: unwritten,shared
   3:       78..      78:      60319..     60319:      1:      70195: last,unwritten,shared
/mnt/scratch/snap1/p0/d9/d5d/f99: 4 extents found
after filter: 257978368#57344#118784#shared 261009408#4096#176128#shared 287440896#73728#241664#unwritten,shared 247066624#4096#319488#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f99
380
# /bin/btrfs inspect-internal logical-resolve -P 257978368 /mnt/scratch
inode 380 offset 118784 root 258
inode 380 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 380 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f99
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f99
380
# /bin/btrfs inspect-internal logical-resolve -P 261009408 /mnt/scratch
inode 380 offset 176128 root 258
inode 380 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 380 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f99
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f99
380
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 380 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f99
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/f99
380
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 380 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/f99
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d8f/f17e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d8f/f17e is 27252 (7 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..       6:      73425..     73425:      1:          6: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/d8f/f17e: 1 extent found
after filter: 300748800#4096#24576#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/f17e
561
# /bin/btrfs inspect-internal logical-resolve -P 300748800 /mnt/scratch
inode 561 offset 24576 root 258
inode 561 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 561 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d8f/f17e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/f115
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/f115 is 631535 (155 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      128..     137:      70180..     70189:     10:        128: unwritten,shared
   1:      141..     141:      70193..     70193:      1:             unwritten,shared
   2:      142..     154:      70450..     70462:     13:      70194: last,shared,eof
/mnt/scratch/snap1/p0/d9/f115: 2 extents found
after filter: 287457280#40960#524288#unwritten,shared 287510528#4096#577536#unwritten,shared 288563200#53248#581632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/f115
478
# /bin/btrfs inspect-internal logical-resolve -P 287457280 /mnt/scratch
inode 308 offset 2166784 root 258
inode 330 offset 1024000 root 258
inode 478 offset 524288 root 258
inode 380 offset 258048 root 258
inode 317 offset 2359296 root 258
inode 502 offset 798720 root 258
inode 488 offset 1232896 root 258
inode 414 offset 299008 root 258
inode 296 offset 770048 root 258
inode 296 offset 770048 root 5
inode 308 offset 2166784 root 5
inode 313 offset 2506752 root 258
inode 313 offset 3289088 root 258
inode 313 offset 3289088 root 258
inode 313 offset 2506752 root 5
inode 313 offset 3289088 root 5
inode 313 offset 3289088 root 5
inode 330 offset 1024000 root 5
inode 379 offset 1077248 root 258
inode 379 offset 1077248 root 5
inode 478 offset 524288 root 5
inode 380 offset 258048 root 5
inode 317 offset 2359296 root 5
inode 502 offset 798720 root 5
inode 488 offset 1232896 root 5
inode 414 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f115
# stat -c %i /mnt/scratch/snap1/p0/d9/f115
478
# /bin/btrfs inspect-internal logical-resolve -P 287510528 /mnt/scratch
inode 308 offset 2220032 root 258
inode 330 offset 1077248 root 258
inode 274 offset 126976 root 258
inode 478 offset 577536 root 258
inode 380 offset 311296 root 258
inode 317 offset 2412544 root 258
inode 502 offset 851968 root 258
inode 488 offset 1286144 root 258
inode 414 offset 352256 root 258
inode 296 offset 823296 root 258
inode 296 offset 823296 root 5
inode 308 offset 2220032 root 5
inode 313 offset 2560000 root 258
inode 313 offset 3342336 root 258
inode 313 offset 3342336 root 258
inode 313 offset 2560000 root 5
inode 313 offset 3342336 root 5
inode 313 offset 3342336 root 5
inode 330 offset 1077248 root 5
inode 379 offset 1130496 root 258
inode 379 offset 1130496 root 5
inode 274 offset 126976 root 5
inode 478 offset 577536 root 5
inode 380 offset 311296 root 5
inode 317 offset 2412544 root 5
inode 502 offset 851968 root 5
inode 488 offset 1286144 root 5
inode 414 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f115
# stat -c %i /mnt/scratch/snap1/p0/d9/f115
478
# /bin/btrfs inspect-internal logical-resolve -P 288563200 /mnt/scratch
inode 478 offset 581632 root 258
inode 478 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 478 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f115
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/f33
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/f33 is 3198253 (781 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      18:      60688..     60694:      7:         12: shared
   1:       19..      22:       3455..      3458:      4:      60695: shared
   2:      162..     162:       3399..      3399:      1:       3598: shared
   3:      223..     245:      65656..     65678:     23:       3460: shared
   4:      252..     265:      58841..     58854:     14:      65685: shared
   5:      266..     284:      73334..     73352:     19:      58855: shared
   6:      303..     381:      59370..     59448:     79:      73371: unwritten,shared
   7:      383..     448:      59450..     59515:     66:             unwritten,shared
   8:      478..     483:      58887..     58892:      6:      59545: unwritten,shared
   9:      504..     524:      58913..     58933:     21:             unwritten,shared
  10:      525..     525:      69222..     69222:      1:      58934: shared
  11:      526..     567:      58935..     58976:     42:      69223: unwritten,shared
  12:      655..     675:      69223..     69243:     21:      59064: shared
  13:      676..     676:      72027..     72027:      1:      69244: shared
  14:      679..     710:      73035..     73066:     32:      72030: shared
  15:      760..     780:      72028..     72048:     21:      73116: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/f33: 14 extents found
after filter: 248578048#28672#49152#shared 14151680#16384#77824#shared 13922304#4096#663552#shared 268926976#94208#913408#shared 241012736#57344#1032192#shared 300376064#77824#1089536#shared 243179520#323584#1241088#unwritten,shared 243507200#270336#1568768#unwritten,shared 241201152#24576#1957888#unwritten,shared 241307648#86016#2064384#unwritten,shared 283533312#4096#2150400#shared 241397760#172032#2154496#unwritten,shared 283537408#86016#2682880#shared 295022592#4096#2768896#shared 299151360#131072#2781184#shared 295026688#86016#3112960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 248578048 /mnt/scratch
inode 299 offset 49152 root 258
inode 299 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 14151680 /mnt/scratch
inode 299 offset 77824 root 258
inode 299 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 13922304 /mnt/scratch
inode 260 offset 1019904 root 258
inode 260 offset 1019904 root 258
inode 299 offset 663552 root 258
inode 260 offset 1019904 root 5
inode 260 offset 1019904 root 5
inode 299 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 268926976 /mnt/scratch
inode 299 offset 913408 root 258
inode 299 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 241012736 /mnt/scratch
inode 299 offset 1032192 root 258
inode 299 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 300376064 /mnt/scratch
inode 299 offset 1089536 root 258
inode 299 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 243179520 /mnt/scratch
inode 299 offset 1241088 root 258
inode 299 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 243507200 /mnt/scratch
inode 299 offset 1568768 root 258
inode 299 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 241201152 /mnt/scratch
inode 299 offset 1957888 root 258
inode 299 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 241307648 /mnt/scratch
inode 299 offset 2064384 root 258
inode 299 offset 2064384 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 283533312 /mnt/scratch
inode 299 offset 2150400 root 258
inode 299 offset 2150400 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 241397760 /mnt/scratch
inode 299 offset 2154496 root 258
inode 299 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 283537408 /mnt/scratch
inode 299 offset 2682880 root 258
inode 299 offset 2682880 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 295022592 /mnt/scratch
inode 299 offset 2768896 root 258
inode 299 offset 2768896 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 299151360 /mnt/scratch
inode 299 offset 2781184 root 258
inode 299 offset 2781184 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 295026688 /mnt/scratch
inode 299 offset 3112960 root 258
inode 299 offset 3112960 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f33
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f10f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f10f is 1079790 (264 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..      65:      67087..     67101:     15:         51: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f10f: 1 extent found
after filter: 274788352#61440#208896#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f10f
409
# /bin/btrfs inspect-internal logical-resolve -P 274788352 /mnt/scratch
inode 409 offset 208896 root 258
inode 409 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 409 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f10f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d22/f98
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d22/f98 is 2181922 (533 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      172..     201:      70847..     70876:     30:        172: shared
   1:      216..     237:      63739..     63760:     22:      70891: shared
   2:      238..     238:      64387..     64387:      1:      63761: shared
   3:      259..     276:      70176..     70193:     18:      64408: unwritten,shared
   4:      285..     291:      73959..     73965:      7:      70202: shared
   5:      398..     400:      64388..     64390:      3:      74072: shared
   6:      401..     401:      73380..     73380:      1:      64391: shared
   7:      516..     532:      73381..     73397:     17:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d22/f98: 7 extents found
after filter: 290189312#122880#704512#shared 261074944#90112#884736#shared 263729152#4096#974848#shared 287440896#73728#1060864#unwritten,shared 302936064#28672#1167360#shared 263733248#12288#1630208#shared 300564480#4096#1642496#shared 300568576#69632#2113536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 290189312 /mnt/scratch
inode 379 offset 704512 root 258
inode 379 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 261074944 /mnt/scratch
inode 379 offset 884736 root 258
inode 379 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 263729152 /mnt/scratch
inode 379 offset 974848 root 258
inode 379 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 302936064 /mnt/scratch
inode 379 offset 1167360 root 258
inode 379 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 263733248 /mnt/scratch
inode 379 offset 1630208 root 258
inode 379 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 300564480 /mnt/scratch
inode 379 offset 1642496 root 258
inode 379 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f98
379
# /bin/btrfs inspect-internal logical-resolve -P 300568576 /mnt/scratch
inode 379 offset 2113536 root 258
inode 379 offset 2113536 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f98
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/fae
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/fae is 2785280 (680 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       96..     127:      73915..     73946:     32:         96: shared
   1:      350..     375:      66663..     66688:     26:      74169: shared
   2:      470..     470:      73195..     73195:      1:      66783: shared
   3:      555..     670:      67391..     67506:    116:      73280: unwritten,shared
   4:      671..     679:      67507..     67515:      9:             shared,eof
   5:      680..     758:      67516..     67594:     79:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/fae: 4 extents found
after filter: 302755840#131072#393216#shared 273051648#106496#1433600#shared 299806720#4096#1925120#shared 276033536#475136#2273280#unwritten,shared 276508672#36864#2748416#shared,eof 276545536#323584#2785280#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 302755840 /mnt/scratch
inode 396 offset 393216 root 258
inode 396 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fae
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 273051648 /mnt/scratch
inode 396 offset 1433600 root 258
inode 396 offset 1433600 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516122846
/mnt/scratch/snap1/p0/d9/fae
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 299806720 /mnt/scratch
inode 396 offset 1925120 root 258
inode 396 offset 1925120 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fae
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 276033536 /mnt/scratch
inode 396 offset 2273280 root 258
inode 396 offset 2273280 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fae
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 276508672 /mnt/scratch
inode 396 offset 2748416 root 258
inode 396 offset 2748416 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fae
# stat -c %i /mnt/scratch/snap1/p0/d9/fae
396
# /bin/btrfs inspect-internal logical-resolve -P 276545536 /mnt/scratch
inode 396 offset 2785280 root 258
inode 396 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/fae
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/f14
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/f14 is 2179080 (533 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      11:      59679..     59685:      7:          5: shared
   1:       14..      16:      70176..     70178:      3:      59688: unwritten,shared
   2:       28..      31:      70190..     70193:      4:             unwritten,shared
   3:       62..      70:       3602..      3610:      9:      70224: shared
   4:       71..      71:      58665..     58665:      1:       3611: shared
   5:       80..      93:      63414..     63427:     14:      58674: shared
   6:       94..     126:      69617..     69649:     33:      63428: shared
   7:      127..     141:      62152..     62166:     15:      69650: shared
   8:      155..     156:      64557..     64558:      2:      62180: shared
   9:      157..     163:      64494..     64500:      7:      64559: shared
  10:      164..     185:      65307..     65328:     22:      64501: shared
  11:      194..     201:       3072..      3079:      8:      65337: shared
  12:      219..     228:      70782..     70791:     10:       3097: shared
  13:      276..     285:      70072..     70081:     10:      70839: shared
  14:      308..     335:      62898..     62925:     28:      70104: shared
  15:      346..     346:      65971..     65971:      1:      62936: shared
  16:      391..     393:      69112..     69114:      3:      66016: shared
  17:      507..     531:      66312..     66336:     25:      69228: shared
  18:      532..     532:      67595..     67595:      1:      66337: shared,eof
  19:      536..     744:      66371..     66579:    209:      67599: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/f14: 19 extents found
after filter: 244445184#28672#20480#shared 287440896#12288#57344#unwritten,shared 287498240#16384#114688#unwritten,shared 14753792#36864#253952#shared 240291840#4096#290816#shared 259743744#57344#327680#shared 285151232#135168#385024#shared 254574592#61440#520192#shared 264425472#8192#634880#shared 264167424#28672#643072#shared 267497472#90112#671744#shared 12582912#32768#794624#shared 289923072#40960#897024#shared 287014912#40960#1130496#shared 257630208#114688#1261568#shared 270217216#4096#1417216#shared 283082752#12288#1601536#shared 271613952#102400#2076672#shared 276869120#4096#2179072#shared,eof 271855616#856064#2195456#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 244445184 /mnt/scratch
inode 274 offset 20480 root 258
inode 274 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 287498240 /mnt/scratch
inode 308 offset 2207744 root 258
inode 330 offset 1064960 root 258
inode 274 offset 114688 root 258
inode 380 offset 299008 root 258
inode 317 offset 2400256 root 258
inode 502 offset 839680 root 258
inode 488 offset 1273856 root 258
inode 414 offset 339968 root 258
inode 296 offset 811008 root 258
inode 296 offset 811008 root 5
inode 308 offset 2207744 root 5
inode 313 offset 2547712 root 258
inode 313 offset 3330048 root 258
inode 313 offset 3330048 root 258
inode 313 offset 2547712 root 5
inode 313 offset 3330048 root 5
inode 313 offset 3330048 root 5
inode 330 offset 1064960 root 5
inode 379 offset 1118208 root 258
inode 379 offset 1118208 root 5
inode 274 offset 114688 root 5
inode 380 offset 299008 root 5
inode 317 offset 2400256 root 5
inode 502 offset 839680 root 5
inode 488 offset 1273856 root 5
inode 414 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 14753792 /mnt/scratch
inode 274 offset 253952 root 258
inode 274 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 274 offset 290816 root 258
inode 274 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 259743744 /mnt/scratch
inode 274 offset 327680 root 258
inode 274 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 285151232 /mnt/scratch
inode 274 offset 385024 root 258
inode 274 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 254574592 /mnt/scratch
inode 274 offset 520192 root 258
inode 274 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 264425472 /mnt/scratch
inode 274 offset 634880 root 258
inode 274 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 264167424 /mnt/scratch
inode 274 offset 643072 root 258
inode 274 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 267497472 /mnt/scratch
inode 274 offset 671744 root 258
inode 274 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 12582912 /mnt/scratch
inode 279 offset 163840 root 258
inode 274 offset 794624 root 258
inode 279 offset 163840 root 5
inode 274 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 289923072 /mnt/scratch
inode 274 offset 897024 root 258
inode 274 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 287014912 /mnt/scratch
inode 274 offset 1130496 root 258
inode 274 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 257630208 /mnt/scratch
inode 274 offset 1261568 root 258
inode 274 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 270217216 /mnt/scratch
inode 274 offset 1417216 root 258
inode 274 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 283082752 /mnt/scratch
inode 274 offset 1601536 root 258
inode 274 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 271613952 /mnt/scratch
inode 274 offset 2076672 root 258
inode 274 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 276869120 /mnt/scratch
inode 274 offset 2179072 root 258
inode 274 offset 2179072 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/f14
274
# /bin/btrfs inspect-internal logical-resolve -P 271855616 /mnt/scratch
inode 274 offset 2195456 root 258
inode 274 offset 2195456 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0 is 1589248 (388 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      104..     129:      69386..     69411:     26:        104: shared
   1:      130..     130:      69575..     69575:      1:      69412: shared
   2:      247..     247:      73951..     73951:      1:      69692: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0: 3 extents found
after filter: 284205056#106496#425984#shared 284979200#4096#532480#shared 302903296#4096#1011712#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
397
# /bin/btrfs inspect-internal logical-resolve -P 284205056 /mnt/scratch
inode 397 offset 425984 root 258
inode 397 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
397
# /bin/btrfs inspect-internal logical-resolve -P 284979200 /mnt/scratch
inode 397 offset 532480 root 258
inode 397 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
397
# /bin/btrfs inspect-internal logical-resolve -P 302903296 /mnt/scratch
inode 397 offset 1011712 root 258
inode 397 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/f53
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/f53 is 3560292 (870 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       59..      88:      65107..     65136:     30:         59: shared
   1:      171..     173:      60933..     60935:      3:      65219: unwritten,shared
   2:      174..     201:      60630..     60657:     28:      60936: shared
   3:      202..     202:      60927..     60927:      1:      60658: shared
   4:      203..     230:      60936..     60963:     28:      60928: unwritten,shared
   5:      235..     236:      60968..     60969:      2:             unwritten,shared
   6:      237..     237:      60970..     60970:      1:             shared
   7:      352..     358:      73952..     73958:      7:      61085: shared
   8:      359..     363:      69447..     69451:      5:      73959: shared
   9:      444..     445:      73151..     73152:      2:      69532: unwritten,shared
  10:      446..     475:      62853..     62882:     30:      73153: shared
  11:      476..     476:      65240..     65240:      1:      62883: shared
  12:      477..     507:      73153..     73183:     31:      65241: unwritten,shared
  13:      602..     604:      60319..     60321:      3:      73278: unwritten,shared
  14:      636..     636:      73506..     73506:      1:      60353: shared
  15:      857..     869:      73507..     73519:     13:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/f53: 13 extents found
after filter: 266678272#122880#241664#shared 249581568#12288#700416#unwritten,shared 248340480#114688#712704#shared 249556992#4096#827392#shared 249593856#114688#831488#unwritten,shared 249724928#8192#962560#unwritten,shared 249733120#4096#970752#shared 302907392#28672#1441792#shared 284454912#20480#1470464#shared 299626496#8192#1818624#unwritten,shared 257445888#122880#1826816#shared 267223040#4096#1949696#shared 299634688#126976#1953792#unwritten,shared 247066624#12288#2465792#unwritten,shared 301080576#4096#2605056#shared 301084672#53248#3510272#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 266678272 /mnt/scratch
inode 326 offset 241664 root 258
inode 326 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 249581568 /mnt/scratch
inode 326 offset 700416 root 258
inode 326 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 248340480 /mnt/scratch
inode 326 offset 712704 root 258
inode 326 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 249556992 /mnt/scratch
inode 326 offset 827392 root 258
inode 326 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 249593856 /mnt/scratch
inode 326 offset 831488 root 258
inode 326 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 249724928 /mnt/scratch
inode 326 offset 962560 root 258
inode 326 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 249733120 /mnt/scratch
inode 326 offset 970752 root 258
inode 326 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 302907392 /mnt/scratch
inode 326 offset 1441792 root 258
inode 326 offset 1441792 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 284454912 /mnt/scratch
inode 326 offset 1470464 root 258
inode 326 offset 1470464 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 299626496 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515487938
inode 326 offset 1818624 root 258
inode 326 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 257445888 /mnt/scratch
inode 326 offset 1826816 root 258
inode 326 offset 1826816 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 267223040 /mnt/scratch
inode 326 offset 1949696 root 258
inode 326 offset 1949696 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 299634688 /mnt/scratch
inode 326 offset 1953792 root 258
inode 326 offset 1953792 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 301080576 /mnt/scratch
inode 326 offset 2605056 root 258
inode 326 offset 2605056 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f53
326
# /bin/btrfs inspect-internal logical-resolve -P 301084672 /mnt/scratch
inode 326 offset 3510272 root 258
inode 326 offset 3510272 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/f53
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/f13f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/f13f is 342087 (84 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       65..      83:      72049..     72067:     19:         65: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/f13f: 1 extent found
after filter: 295112704#77824#266240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/f13f
514
# /bin/btrfs inspect-internal logical-resolve -P 295112704 /mnt/scratch
inode 514 offset 266240 root 258
inode 514 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f13f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3 is 464268 (114 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..      56:      69714..     69719:      6:         51: shared
   1:       69..      86:      70176..     70193:     18:      69732: unwritten,shared
   2:       87..     102:      67899..     67914:     16:      70194: shared
   3:      106..     113:      69535..     69542:      8:      67918: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3: 4 extents found
after filter: 285548544#24576#208896#shared 287440896#73728#282624#unwritten,shared 278114304#65536#356352#shared 284815360#32768#434176#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
414
# /bin/btrfs inspect-internal logical-resolve -P 285548544 /mnt/scratch
inode 414 offset 208896 root 258
inode 414 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
414
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
414
# /bin/btrfs inspect-internal logical-resolve -P 278114304 /mnt/scratch
inode 414 offset 356352 root 258
inode 414 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
414
# /bin/btrfs inspect-internal logical-resolve -P 284815360 /mnt/scratch
inode 414 offset 434176 root 258
inode 414 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 414 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fc3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a is 573440 (140 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      27:      67646..     67648:      3:         25: shared
   1:       28..      52:      67214..     67238:     25:      67649: shared
   2:       53..      58:      66218..     66223:      6:      67239: shared
   3:       59..      63:      65619..     65623:      5:      66224: shared
   4:       87..     112:      63879..     63904:     26:      65647: shared
   5:      143..     303:      63556..     63716:    161:      63935: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a: 6 extents found
after filter: 277078016#12288#102400#shared 275308544#102400#114688#shared 271228928#24576#217088#shared 268775424#20480#241664#shared 261648384#106496#356352#shared 260325376#659456#585728#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 277078016 /mnt/scratch
inode 381 offset 102400 root 258
inode 381 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 275308544 /mnt/scratch
inode 381 offset 114688 root 258
inode 381 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 271228928 /mnt/scratch
inode 381 offset 217088 root 258
inode 381 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 381 offset 241664 root 258
inode 381 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 261648384 /mnt/scratch
inode 381 offset 356352 root 258
inode 381 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
381
# /bin/btrfs inspect-internal logical-resolve -P 260325376 /mnt/scratch
inode 381 offset 585728 root 258
inode 381 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f9a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa is 1589248 (388 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      104..     129:      69386..     69411:     26:        104: shared
   1:      130..     130:      69575..     69575:      1:      69412: shared
   2:      247..     247:      73951..     73951:      1:      69692: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa: 3 extents found
after filter: 284205056#106496#425984#shared 284979200#4096#532480#shared 302903296#4096#1011712#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
397
# /bin/btrfs inspect-internal logical-resolve -P 284205056 /mnt/scratch
inode 397 offset 425984 root 258
inode 397 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
397
# /bin/btrfs inspect-internal logical-resolve -P 284979200 /mnt/scratch
inode 397 offset 532480 root 258
inode 397 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
397
# /bin/btrfs inspect-internal logical-resolve -P 302903296 /mnt/scratch
inode 397 offset 1011712 root 258
inode 397 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f181
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f1e0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f1aa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/fd7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/fd7 is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/fd7: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515426302
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/fd7
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f13a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f13a is 178561 (44 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      43:      71015..     71031:     17:         27: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f13a: 1 extent found
after filter: 290877440#69632#110592#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/d12a/f13a
510
# /bin/btrfs inspect-internal logical-resolve -P 290877440 /mnt/scratch
inode 510 offset 110592 root 258
inode 510 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/d12a/f13a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d16f/f186 is 3969024 (969 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..       8:       5042..      5042:      1:          8: shared
   1:      101..     114:      59720..     59733:     14:       5135: shared
   2:      115..     117:       4648..      4650:      3:      59734: shared
   3:      118..     124:      58834..     58840:      7:       4651: shared
   4:      125..     129:       4658..      4662:      5:      58841: shared
   5:      146..     146:      60830..     60830:      1:       4679: shared
   6:      195..     195:      59714..     59714:      1:      60879: shared
   7:      237..     251:      68262..     68276:     15:      59756: shared
   8:      366..     382:      60796..     60812:     17:      68391: shared
   9:      583..     604:      61880..     61901:     22:      61013: shared
  10:      761..     790:      63064..     63093:     30:      62058: last,shared
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186: 11 extents found
after filter: 20652032#4096#32768#shared 244613120#57344#413696#shared 19038208#12288#471040#shared 240984064#28672#483328#shared 19079168#20480#512000#shared 249159680#4096#598016#shared 244588544#4096#798720#shared 279601152#61440#970752#shared 249020416#69632#1499136#shared 253460480#90112#2387968#shared 258310144#122880#3117056#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 20652032 /mnt/scratch
inode 278 offset 32768 root 258
inode 278 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 244613120 /mnt/scratch
inode 278 offset 413696 root 258
inode 278 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 19038208 /mnt/scratch
inode 278 offset 471040 root 258
inode 278 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 240984064 /mnt/scratch
inode 278 offset 483328 root 258
inode 278 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 278 offset 512000 root 258
inode 278 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 249159680 /mnt/scratch
inode 278 offset 598016 root 258
inode 278 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 244588544 /mnt/scratch
inode 278 offset 798720 root 258
inode 278 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 279601152 /mnt/scratch
inode 278 offset 970752 root 258
inode 278 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 249020416 /mnt/scratch
inode 278 offset 1499136 root 258
inode 278 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 253460480 /mnt/scratch
inode 278 offset 2387968 root 258
inode 278 offset 2387968 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d16f/f186
278
# /bin/btrfs inspect-internal logical-resolve -P 258310144 /mnt/scratch
inode 278 offset 3117056 root 258
inode 278 offset 3117056 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d16f/f186
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92 is 2502656 (611 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      135..     137:      60319..     60321:      3:        135: unwritten,shared
   1:      198..     207:      67102..     67111:     10:      60382: shared
   2:      208..     214:      62576..     62582:      7:      67112: shared
   3:      349..     365:      63768..     63784:     17:      62717: shared
   4:      366..     366:      66170..     66170:      1:      63785: shared
   5:      393..     463:      71441..     71511:     71:      66197: unwritten,shared
   6:      482..     486:      71530..     71534:      5:             unwritten,shared
   7:      530..     538:      71578..     71586:      9:             unwritten,shared
   8:      583..     587:      65804..     65808:      5:      71631: shared
   9:      597..     610:      69944..     69957:     14:      65818: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92: 8 extents found
after filter: 247066624#12288#552960#unwritten,shared 274849792#40960#811008#shared 256311296#28672#851968#shared 261193728#69632#1429504#shared 271032320#4096#1499136#shared 292622336#290816#1609728#unwritten,shared 292986880#20480#1974272#unwritten,shared 293183488#36864#2170880#unwritten,shared 269533184#20480#2387968#shared 286490624#57344#2445312#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 274849792 /mnt/scratch
inode 375 offset 811008 root 258
inode 375 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 256311296 /mnt/scratch
inode 375 offset 851968 root 258
inode 375 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 261193728 /mnt/scratch
inode 375 offset 1429504 root 258
inode 375 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 271032320 /mnt/scratch
inode 375 offset 1499136 root 258
inode 375 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 292622336 /mnt/scratch
inode 375 offset 1609728 root 258
inode 375 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 292986880 /mnt/scratch
inode 375 offset 1974272 root 258
inode 375 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 293183488 /mnt/scratch
inode 375 offset 2170880 root 258
inode 375 offset 2170880 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 269533184 /mnt/scratch
inode 375 offset 2387968 root 258
inode 375 offset 2387968 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
375
# /bin/btrfs inspect-internal logical-resolve -P 286490624 /mnt/scratch
inode 375 offset 2445312 root 258
inode 375 offset 2445312 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f92
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e is 637246 (156 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     125:      73686..     73694:      9:        117: unwritten,shared
   1:      126..     154:      68827..     68855:     29:      73695: shared
   2:      155..     155:      73685..     73685:      1:      68856: shared,eof
   3:      156..     234:      68857..     68935:     79:      73686: unwritten,shared,eof
   4:      235..     370:      73695..     73830:    136:      68936: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e: 5 extents found
after filter: 301817856#36864#479232#unwritten,shared 281915392#118784#516096#shared 301813760#4096#634880#shared,eof 282038272#323584#638976#unwritten,shared,eof 301854720#557056#962560#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
487
# /bin/btrfs inspect-internal logical-resolve -P 301817856 /mnt/scratch
inode 487 offset 479232 root 258
inode 487 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
487
# /bin/btrfs inspect-internal logical-resolve -P 281915392 /mnt/scratch
inode 487 offset 516096 root 258
inode 487 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
487
# /bin/btrfs inspect-internal logical-resolve -P 301813760 /mnt/scratch
inode 487 offset 634880 root 258
inode 487 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
487
# /bin/btrfs inspect-internal logical-resolve -P 282038272 /mnt/scratch
inode 487 offset 638976 root 258
inode 487 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
487
# /bin/btrfs inspect-internal logical-resolve -P 301854720 /mnt/scratch
inode 487 offset 962560 root 258
inode 487 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f11e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162 is 684032 (167 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      117..     139:      71277..     71299:     23:        117: unwritten,shared
   1:      140..     166:      70715..     70741:     27:      71300: shared,eof
   2:      167..     307:      71300..     71440:    141:      70742: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162: 3 extents found
after filter: 291950592#94208#479232#unwritten,shared 289648640#110592#573440#shared,eof 292044800#577536#684032#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
542
# /bin/btrfs inspect-internal logical-resolve -P 291950592 /mnt/scratch
inode 542 offset 479232 root 258
inode 542 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
542
# /bin/btrfs inspect-internal logical-resolve -P 289648640 /mnt/scratch
inode 542 offset 573440 root 258
inode 542 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
542
# /bin/btrfs inspect-internal logical-resolve -P 292044800 /mnt/scratch
inode 542 offset 684032 root 258
inode 542 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/da6/f162
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109 is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
seed = 1515949975
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/f2b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/f2b is 5006206 (1223 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      111..     121:      73845..     73855:     11:        111: shared
   1:      143..     143:      59648..     59648:      1:      73877: shared
   2:      357..     382:      64280..     64305:     26:      59862: shared
   3:      397..     408:      59649..     59660:     12:      64320: shared
   4:      494..     524:      63129..     63159:     31:      59746: shared
   5:      618..     624:      59194..     59200:      7:      63253: shared
   6:      754..     770:      59661..     59677:     17:      59330: shared
   7:      771..     771:      60745..     60745:      1:      59678: shared
   8:      918..     920:      65038..     65040:      3:      60892: shared
   9:      974..     999:      62191..     62216:     26:      65094: shared
  10:     1000..    1000:      69513..     69513:      1:      62217: last,shared
/mnt/scratch/snap1/p0/d9/f2b: 11 extents found
after filter: 302469120#45056#454656#shared 244318208#4096#585728#shared 263290880#106496#1462272#shared 244322304#49152#1626112#shared 258576384#126976#2023424#shared 242458624#28672#2531328#shared 244371456#69632#3088384#shared 248811520#4096#3158016#shared 266395648#12288#3760128#shared 254734336#106496#3989504#shared 284725248#4096#4096000#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 302469120 /mnt/scratch
inode 276 offset 454656 root 258
inode 276 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 244318208 /mnt/scratch
inode 276 offset 585728 root 258
inode 276 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 263290880 /mnt/scratch
inode 276 offset 1462272 root 258
inode 276 offset 1462272 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 244322304 /mnt/scratch
inode 276 offset 1626112 root 258
inode 276 offset 1626112 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 258576384 /mnt/scratch
inode 276 offset 2023424 root 258
inode 276 offset 2023424 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 242458624 /mnt/scratch
inode 276 offset 2531328 root 258
inode 276 offset 2531328 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 244371456 /mnt/scratch
inode 276 offset 3088384 root 258
inode 276 offset 3088384 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 248811520 /mnt/scratch
inode 276 offset 3158016 root 258
inode 276 offset 3158016 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 266395648 /mnt/scratch
inode 276 offset 3760128 root 258
inode 276 offset 3760128 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 254734336 /mnt/scratch
inode 276 offset 3989504 root 258
inode 276 offset 3989504 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# stat -c %i /mnt/scratch/snap1/p0/d9/f2b
276
# /bin/btrfs inspect-internal logical-resolve -P 284725248 /mnt/scratch
inode 276 offset 4096000 root 258
inode 276 offset 4096000 root 5
# /bin/btrfs inspect-internal inode-resolve 276 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f2b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/d48/f91
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/d48/f91 is 398086 (98 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       56..      71:      70261..     70276:     16:         56: last,shared
/mnt/scratch/snap1/p0/d9/d11/d13/d48/f91: 1 extent found
after filter: 287789056#65536#229376#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/f91
374
# /bin/btrfs inspect-internal logical-resolve -P 287789056 /mnt/scratch
inode 374 offset 229376 root 258
inode 374 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d13/d48/f91
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1 is 4763648 (1163 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       69..      85:      66580..     66596:     17:         69: shared
   1:      133..     150:      59792..     59809:     18:      66644: shared
   2:      151..     167:      59022..     59038:     17:      59810: shared
   3:      235..     241:      60107..     60113:      7:      59106: unwritten,shared
   4:      242..     246:      60317..     60321:      5:      60114: unwritten,shared
   5:      265..     265:      60340..     60340:      1:             unwritten,shared
   6:      391..     395:      61985..     61989:      5:      60466: shared
   7:      650..     658:      63184..     63192:      9:      62244: shared
   8:      659..     659:      66101..     66101:      1:      63193: shared
   9:      752..     752:      67917..     67917:      1:      66194: shared
  10:      753..     780:      67618..     67645:     28:      67918: shared
  11:      843..     859:      66102..     66118:     17:      67708: shared
  12:      860..     860:      70023..     70023:      1:      66119: shared
  13:      983..    1014:      72204..     72235:     32:      70146: shared
  14:     1015..    1033:      69925..     69943:     19:      72236: shared
  15:     1139..    1162:      72101..     72124:     24:      70049: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1: 15 extents found
after filter: 272711680#69632#282624#shared 244908032#73728#544768#shared 241754112#69632#618496#shared 246198272#28672#962560#unwritten,shared 247058432#20480#991232#unwritten,shared 247152640#4096#1085440#unwritten,shared 253890560#20480#1601536#shared 258801664#36864#2662400#shared 270749696#4096#2699264#shared 278188032#4096#3080192#shared 276963328#114688#3084288#shared 270753792#69632#3452928#shared 286814208#4096#3522560#shared 295747584#131072#4026368#shared 286412800#77824#4157440#shared 295325696#98304#4665344#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 272711680 /mnt/scratch
inode 318 offset 282624 root 258
inode 318 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 244908032 /mnt/scratch
inode 318 offset 544768 root 258
inode 318 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 241754112 /mnt/scratch
inode 318 offset 618496 root 258
inode 318 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 247058432 /mnt/scratch
inode 353 offset 176128 root 5
inode 353 offset 176128 root 5
inode 318 offset 991232 root 5
inode 318 offset 991232 root 258
inode 353 offset 176128 root 258
inode 353 offset 176128 root 258
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 253890560 /mnt/scratch
inode 318 offset 1601536 root 258
inode 318 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 258801664 /mnt/scratch
inode 318 offset 2662400 root 258
inode 318 offset 2662400 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 270749696 /mnt/scratch
inode 318 offset 2699264 root 258
inode 318 offset 2699264 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 278188032 /mnt/scratch
inode 318 offset 3080192 root 258
inode 318 offset 3080192 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 276963328 /mnt/scratch
inode 318 offset 3084288 root 258
inode 318 offset 3084288 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 270753792 /mnt/scratch
inode 318 offset 3452928 root 258
inode 318 offset 3452928 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 286814208 /mnt/scratch
inode 318 offset 3522560 root 258
inode 318 offset 3522560 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 295747584 /mnt/scratch
inode 318 offset 4026368 root 258
inode 318 offset 4026368 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 286412800 /mnt/scratch
inode 318 offset 4157440 root 258
inode 318 offset 4157440 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
318
# /bin/btrfs inspect-internal logical-resolve -P 295325696 /mnt/scratch
inode 318 offset 4665344 root 258
inode 318 offset 4665344 root 5
# /bin/btrfs inspect-internal inode-resolve 318 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/fd1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a is 1155072 (282 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      70:      72630..     72646:     17:         54: unwritten,shared
   1:       98..     126:      72674..     72702:     29:             unwritten,shared
   2:      254..     281:      73615..     73642:     28:      72830: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a: 2 extents found
after filter: 297492480#69632#221184#unwritten,shared 297672704#118784#401408#unwritten,shared 301527040#114688#1040384#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
483
# /bin/btrfs inspect-internal logical-resolve -P 297492480 /mnt/scratch
inode 483 offset 221184 root 258
inode 483 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
483
# /bin/btrfs inspect-internal logical-resolve -P 297672704 /mnt/scratch
inode 483 offset 401408 root 258
inode 483 offset 401408 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
483
# /bin/btrfs inspect-internal logical-resolve -P 301527040 /mnt/scratch
inode 483 offset 1040384 root 258
inode 483 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f11a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134 is 602806 (148 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       53..      58:      62126..     62131:      6:         53: shared
   1:      138..     147:      71632..     71641:     10:      62211: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134: 2 extents found
after filter: 254468096#24576#217088#shared 293404672#40960#565248#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134
506
# /bin/btrfs inspect-internal logical-resolve -P 254468096 /mnt/scratch
inode 506 offset 217088 root 258
inode 296 offset 2953216 root 258
inode 296 offset 2953216 root 5
inode 506 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134
506
# /bin/btrfs inspect-internal logical-resolve -P 293404672 /mnt/scratch
inode 506 offset 565248 root 258
inode 506 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 506 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f134
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f102
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f102 is 376832 (92 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       91..      91:      66973..     66973:      1:         91: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f102: 1 extent found
after filter: 274321408#4096#372736#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f102
465
# /bin/btrfs inspect-internal logical-resolve -P 274321408 /mnt/scratch
inode 465 offset 372736 root 258
inode 465 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 465 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d35/d100/d147/f102
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9 is 1638400 (400 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      57:      71064..     71096:     33:         25: shared
   1:      241..     242:      69985..     69986:      2:      71280: shared
   2:      243..     243:      71987..     71987:      1:      69987: shared
   3:      295..     295:      71863..     71863:      1:      72039: shared
   4:      371..     399:      72454..     72482:     29:      71939: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9: 5 extents found
after filter: 291078144#135168#102400#shared 286658560#8192#987136#shared 294858752#4096#995328#shared 294350848#4096#1208320#shared 296771584#118784#1519616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
431
# /bin/btrfs inspect-internal logical-resolve -P 291078144 /mnt/scratch
inode 431 offset 102400 root 258
inode 431 offset 102400 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515570991
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
431
# /bin/btrfs inspect-internal logical-resolve -P 286658560 /mnt/scratch
inode 431 offset 987136 root 258
inode 431 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
431
# /bin/btrfs inspect-internal logical-resolve -P 294858752 /mnt/scratch
inode 431 offset 995328 root 258
inode 431 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
431
# /bin/btrfs inspect-internal logical-resolve -P 294350848 /mnt/scratch
inode 431 offset 1208320 root 258
inode 431 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
431
# /bin/btrfs inspect-internal logical-resolve -P 296771584 /mnt/scratch
inode 431 offset 1519616 root 258
inode 431 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/dcc/f107
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/dcc/f107 is 220032 (54 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      53:      69488..     69512:     25:         29: last,shared,eof
/mnt/scratch/snap1/p0/d9/d3f/dcc/f107: 1 extent found
after filter: 284622848#102400#118784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/f107
470
# /bin/btrfs inspect-internal logical-resolve -P 284622848 /mnt/scratch
inode 470 offset 118784 root 258
inode 578 offset 593920 root 258
inode 470 offset 118784 root 5
inode 578 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f107
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/f57
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/f57 is 1122304 (274 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      155..     167:      71801..     71813:     13:        155: shared
   1:      246..     263:      70176..     70193:     18:      71892: unwritten,shared
   2:      299..     408:      70302..     70411:    110:      70229: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/f57: 3 extents found
after filter: 294096896#53248#634880#shared 287440896#73728#1007616#unwritten,shared 287956992#450560#1224704#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/f57
330
# /bin/btrfs inspect-internal logical-resolve -P 294096896 /mnt/scratch
inode 330 offset 634880 root 258
inode 330 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/f57
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/f57
330
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/f57
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/f57
330
# /bin/btrfs inspect-internal logical-resolve -P 287956992 /mnt/scratch
inode 330 offset 1224704 root 258
inode 330 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 330 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/f57
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/f41
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/f41 is 4657152 (1137 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       7:      58723..     58729:      7:          1: shared
   1:       79..      84:      69025..     69030:      6:      58801: unwritten,shared
   2:      106..     112:      69052..     69058:      7:             unwritten,shared
   3:      113..     119:       3138..      3144:      7:      69059: shared
   4:      120..     125:      69059..     69064:      6:       3145: unwritten,shared
   5:      126..     140:      63219..     63233:     15:      69065: shared
   6:      141..     149:      69065..     69073:      9:      63234: unwritten,shared
   7:      167..     195:      60584..     60612:     29:      69091: shared
   8:      254..     262:       3422..      3430:      9:      60671: shared
   9:      273..     275:      60319..     60321:      3:       3441: unwritten,shared
  10:      590..     609:      64752..     64771:     20:      60636: shared
  11:      688..     691:      59201..     59204:      4:      64850: shared
  12:      724..     747:      59857..     59880:     24:      59237: shared
  13:      818..     821:      60107..     60110:      4:      59951: unwritten,shared
  14:      915..     929:      72157..     72171:     15:      60204: shared
  15:     1117..    1136:      73582..     73601:     20:      72359: last,shared,eof
/mnt/scratch/snap1/p0/d9/d3f/f41: 15 extents found
after filter: 240529408#28672#4096#shared 282726400#24576#323584#unwritten,shared 282836992#28672#434176#unwritten,shared 12853248#28672#462848#shared 282865664#24576#491520#unwritten,shared 258945024#61440#516096#shared 282890240#36864#577536#unwritten,shared 248152064#118784#684032#shared 14016512#36864#1040384#shared 247066624#12288#1118208#unwritten,shared 265224192#81920#2416640#shared 242487296#16384#2818048#shared 245174272#98304#2965504#shared 246198272#16384#3350528#unwritten,shared 295555072#61440#3747840#shared 301391872#81920#4575232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 240529408 /mnt/scratch
inode 291 offset 4096 root 258
inode 291 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 282726400 /mnt/scratch
inode 291 offset 323584 root 258
inode 291 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 282836992 /mnt/scratch
inode 291 offset 434176 root 258
inode 291 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 12853248 /mnt/scratch
inode 291 offset 462848 root 258
inode 291 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 282865664 /mnt/scratch
inode 291 offset 491520 root 258
inode 291 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 258945024 /mnt/scratch
inode 291 offset 516096 root 258
inode 291 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 282890240 /mnt/scratch
inode 291 offset 577536 root 258
inode 291 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 248152064 /mnt/scratch
inode 291 offset 684032 root 258
inode 291 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 14016512 /mnt/scratch
inode 291 offset 1040384 root 258
inode 291 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 265224192 /mnt/scratch
inode 291 offset 2416640 root 258
inode 291 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 242487296 /mnt/scratch
inode 291 offset 2818048 root 258
inode 291 offset 2818048 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 245174272 /mnt/scratch
inode 291 offset 2965504 root 258
inode 291 offset 2965504 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 295555072 /mnt/scratch
inode 291 offset 3747840 root 258
inode 291 offset 3747840 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f41
291
# /bin/btrfs inspect-internal logical-resolve -P 301391872 /mnt/scratch
inode 291 offset 4575232 root 258
inode 291 offset 4575232 root 5
# /bin/btrfs inspect-internal inode-resolve 291 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/f27
/mnt/scratch/snap1/p0/d9/d3f/f41
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/dce/f105
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/dce/f105 is 954731 (234 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      218..     233:      69809..     69824:     16:        218: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/dce/f105: 1 extent found
after filter: 285937664#65536#892928#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/dce/f105
468
# /bin/btrfs inspect-internal logical-resolve -P 285937664 /mnt/scratch
inode 468 offset 892928 root 258
inode 468 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/dce/f105
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/dbe/f18a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/dbe/f18a is 573440 (140 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      115..     139:      73010..     73034:     25:        115: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/dbe/f18a: 1 extent found
after filter: 299048960#102400#471040#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f18a
567
# /bin/btrfs inspect-internal logical-resolve -P 299048960 /mnt/scratch
inode 567 offset 471040 root 258
inode 567 offset 471040 root 5
# /bin/btrfs inspect-internal inode-resolve 567 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/dbe/f18a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d8f/fee
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d8f/fee is 1043865 (255 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       4:      60319..     60321:      3:          2: unwritten,shared
   1:       52..      54:      60319..     60321:      3:      60369: last,unwritten,shared
/mnt/scratch/snap1/p0/d9/d5d/d8f/fee: 2 extents found
after filter: 247066624#12288#8192#unwritten,shared 247066624#12288#212992#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/fee
448
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f133
/mnt/scratch/snap1/p0/d9/d5d/d8f/fee
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d8f/fee
448
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f133
/mnt/scratch/snap1/p0/d9/d5d/d8f/fee
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88 is 3709501 (906 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      129..     133:      61096..     61100:      5:        129: shared
   1:      134..     134:      62852..     62852:      1:      61101: shared
   2:      204..     223:      69415..     69434:     20:      62922: shared
   3:      297..     300:      62343..     62346:      4:      69508: shared
   4:      341..     368:      63787..     63814:     28:      62387: shared
   5:      369..     373:      62602..     62606:      5:      63815: shared
   6:      434..     440:      69435..     69441:      7:      62667: shared
   7:      480..     499:      68213..     68232:     20:      69481: shared
   8:      887..     905:      73487..     73505:     19:      68620: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88: 9 extents found
after filter: 250249216#20480#528384#shared 257441792#4096#548864#shared 284323840#81920#835584#shared 255356928#16384#1216512#shared 261271552#114688#1396736#shared 256417792#20480#1511424#shared 284405760#28672#1777664#shared 279400448#81920#1966080#shared 301002752#77824#3633152#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 250249216 /mnt/scratch
inode 338 offset 528384 root 258
inode 338 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 257441792 /mnt/scratch
inode 338 offset 548864 root 258
inode 338 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 284323840 /mnt/scratch
inode 338 offset 835584 root 258
inode 338 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 255356928 /mnt/scratch
inode 338 offset 1216512 root 258
inode 338 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
background rm
338
# /bin/btrfs inspect-internal logical-resolve -P 261271552 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516112404
inode 338 offset 1396736 root 258
inode 338 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 256417792 /mnt/scratch
inode 338 offset 1511424 root 258
inode 338 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 284405760 /mnt/scratch
inode 338 offset 1777664 root 258
inode 338 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 279400448 /mnt/scratch
inode 338 offset 1966080 root 258
inode 338 offset 1966080 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
338
# /bin/btrfs inspect-internal logical-resolve -P 301002752 /mnt/scratch
inode 338 offset 3633152 root 258
inode 338 offset 3633152 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f88
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/dbe/f142
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/dbe/f142 is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/dbe/f142: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/dbe/f142
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fea
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fea is 722396 (177 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      135..     155:      66022..     66042:     21:        135: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fea: 1 extent found
after filter: 270426112#86016#552960#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fea
445
# /bin/btrfs inspect-internal logical-resolve -P 270426112 /mnt/scratch
inode 445 offset 552960 root 258
inode 445 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 445 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fea
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7 is 3149824 (769 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      39:      64392..     64416:     25:         15: shared
   1:       40..      40:      65575..     65575:      1:      64417: shared
   2:      224..     228:      70764..     70768:      5:      65759: shared
   3:      229..     256:      65679..     65706:     28:      70769: shared
   4:      257..     283:      65707..     65733:     27:             unwritten,shared
   5:      284..     288:      63110..     63114:      5:      65734: shared
   6:      289..     344:      65734..     65789:     56:      63115: unwritten,shared
   7:      380..     406:      73398..     73424:     27:      65825: shared
   8:      598..     611:      66935..     66948:     14:      73616: shared
   9:      742..     768:      67128..     67154:     27:      67079: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7: 9 extents found
after filter: 263749632#102400#61440#shared 268595200#4096#163840#shared 289849344#20480#917504#shared 269021184#114688#937984#shared 269135872#110592#1052672#unwritten,shared 258498560#20480#1163264#shared 269246464#229376#1183744#unwritten,shared 300638208#110592#1556480#shared 274165760#57344#2449408#shared 274956288#110592#3039232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 263749632 /mnt/scratch
inode 404 offset 61440 root 258
inode 404 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 268595200 /mnt/scratch
inode 404 offset 163840 root 258
inode 404 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 289849344 /mnt/scratch
inode 404 offset 917504 root 258
inode 404 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 269021184 /mnt/scratch
inode 404 offset 937984 root 258
inode 404 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 269135872 /mnt/scratch
inode 404 offset 1052672 root 258
inode 404 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 258498560 /mnt/scratch
inode 383 offset 712704 root 258
inode 404 offset 1163264 root 258
inode 404 offset 1163264 root 5
inode 383 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 269246464 /mnt/scratch
inode 404 offset 1183744 root 258
inode 404 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 300638208 /mnt/scratch
inode 404 offset 1556480 root 258
inode 404 offset 1556480 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 274165760 /mnt/scratch
inode 404 offset 2449408 root 258
inode 404 offset 2449408 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
404
# /bin/btrfs inspect-internal logical-resolve -P 274956288 /mnt/scratch
inode 404 offset 3039232 root 258
inode 404 offset 3039232 root 5
# /bin/btrfs inspect-internal inode-resolve 404 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/fb7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/ffb
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/ffb is 1126400 (275 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      60:      72511..     72528:     18:         43: shared
   1:       61..      79:      68946..     68964:     19:      72529: shared
   2:      250..     274:      71252..     71276:     25:      69135: shared,eof
   3:      318..     362:      67978..     68022:     45:      71320: unwritten,shared,eof
   4:      363..     367:      66599..     66603:      5:      68023: unwritten,shared,eof
   5:      368..     557:      68023..     68212:    190:      66604: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d36/ffb: 6 extents found
after filter: 297005056#73728#176128#shared 282402816#77824#249856#shared 291848192#102400#1024000#shared,eof 278437888#184320#1302528#unwritten,shared,eof 272789504#20480#1486848#unwritten,shared,eof 278622208#778240#1507328#last,unwritten,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516159275
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 297005056 /mnt/scratch
inode 459 offset 176128 root 258
inode 459 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 282402816 /mnt/scratch
inode 459 offset 249856 root 258
inode 459 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 291848192 /mnt/scratch
inode 459 offset 1024000 root 258
inode 459 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 278437888 /mnt/scratch
inode 459 offset 1302528 root 258
inode 459 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 272789504 /mnt/scratch
inode 459 offset 1486848 root 258
inode 459 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/ffb
459
# /bin/btrfs inspect-internal logical-resolve -P 278622208 /mnt/scratch
inode 459 offset 1507328 root 258
inode 459 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/f16d
/mnt/scratch/snap1/p0/d9/d36/ffb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3 is 610304 (149 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      26:      69521..     69534:     14:         13: shared
   1:       34..      60:      66974..     67000:     27:      69542: unwritten,shared
   2:       65..      73:      67005..     67013:      9:             unwritten,shared
   3:      105..     116:      67045..     67056:     12:             unwritten,shared
   4:      120..     123:      67060..     67063:      4:             shared
   5:      124..     148:      68422..     68446:     25:      67064: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3: 3 extents found
after filter: 284758016#57344#53248#shared 274325504#110592#139264#unwritten,shared 274452480#36864#266240#unwritten,shared 274616320#49152#430080#unwritten,shared 274677760#16384#491520#shared 280256512#102400#507904#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 284758016 /mnt/scratch
inode 453 offset 53248 root 258
inode 453 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 274325504 /mnt/scratch
inode 453 offset 139264 root 258
inode 453 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 274452480 /mnt/scratch
inode 453 offset 266240 root 258
inode 453 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 274616320 /mnt/scratch
inode 453 offset 430080 root 258
inode 453 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 274677760 /mnt/scratch
inode 453 offset 491520 root 258
inode 453 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
453
# /bin/btrfs inspect-internal logical-resolve -P 280256512 /mnt/scratch
inode 453 offset 507904 root 258
inode 453 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 453 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/ff3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/f146
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/f146 is 794560 (194 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      192..     193:      70425..     70426:      2:        192: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/f146: 1 extent found
after filter: 288460800#8192#786432#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/f146
520
# /bin/btrfs inspect-internal logical-resolve -P 288460800 /mnt/scratch
inode 520 offset 786432 root 258
inode 520 offset 786432 root 5
# /bin/btrfs inspect-internal inode-resolve 520 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180 is 220032 (54 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      53:      69488..     69512:     25:         29: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180: 1 extent found
after filter: 284622848#102400#118784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180
470
# /bin/btrfs inspect-internal logical-resolve -P 284622848 /mnt/scratch
inode 470 offset 118784 root 258
inode 578 offset 593920 root 258
inode 470 offset 118784 root 5
inode 578 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/f107
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/f180
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85 is 2294118 (561 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      54:      64337..     64341:      5:         50: shared
   1:       55..      55:      66094..     66094:      1:      64342: shared
   2:      175..     179:      66095..     66099:      5:             shared
   3:      180..     180:      69277..     69277:      1:      66100: shared
   4:      244..     256:      69278..     69290:     13:             shared
   5:      490..     493:      69291..     69294:      4:             shared
   6:      494..     494:      69731..     69731:      1:      69295: last,shared
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85: 4 extents found
after filter: 263524352#20480#204800#shared 270721024#4096#225280#shared 270725120#20480#716800#shared 283758592#4096#737280#shared 283762688#53248#999424#shared 283815936#16384#2007040#shared 285618176#4096#2023424#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 263524352 /mnt/scratch
inode 363 offset 204800 root 258
inode 363 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 270721024 /mnt/scratch
inode 363 offset 225280 root 258
inode 363 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 270725120 /mnt/scratch
inode 363 offset 716800 root 258
inode 363 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 283758592 /mnt/scratch
inode 363 offset 737280 root 258
inode 363 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 283762688 /mnt/scratch
inode 363 offset 999424 root 258
inode 363 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 283815936 /mnt/scratch
inode 363 offset 2007040 root 258
inode 363 offset 2007040 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
363
# /bin/btrfs inspect-internal logical-resolve -P 285618176 /mnt/scratch
inode 363 offset 2023424 root 258
inode 363 offset 2023424 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d82/f85
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/f183
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/f183 is 758942 (186 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      177..     185:      73196..     73204:      9:        177: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/f183: 1 extent found
after filter: 299810816#36864#724992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/f183
562
# /bin/btrfs inspect-internal logical-resolve -P 299810816 /mnt/scratch
inode 562 offset 724992 root 258
inode 562 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 562 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/f183
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d16f/f19a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d16f/f19a is 847872 (207 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d9/d5d/d16f/f19a: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/f49
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/f49 is 2687579 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      80:      59810..     59813:      4:         77: unwritten,shared
   1:      161..     176:      60864..     60879:     16:      59894: shared
   2:      306..     325:      64574..     64593:     20:      61009: shared
   3:      338..     338:      60340..     60340:      1:      64606: unwritten,shared
   4:      369..     375:      62113..     62119:      7:      60371: shared
   5:      376..     376:      63738..     63738:      1:      62120: shared
   6:      414..     437:      63353..     63376:     24:      63776: shared
   7:      474..     504:      64237..     64267:     31:      63413: shared
   8:      560..     562:      70164..     70166:      3:      64323: unwritten,shared
   9:      574..     656:      70178..     70260:     83:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d3f/f49: 9 extents found
after filter: 244981760#16384#315392#unwritten,shared 249298944#65536#659456#shared 264495104#81920#1253376#shared 247152640#4096#1384448#unwritten,shared 254414848#28672#1511424#shared 261070848#4096#1540096#shared 259493888#98304#1695744#shared 263114752#126976#1941504#shared 287391744#12288#2293760#unwritten,shared 287449088#339968#2351104#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 244981760 /mnt/scratch
inode 317 offset 315392 root 258
inode 317 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 249298944 /mnt/scratch
inode 317 offset 659456 root 258
inode 317 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 264495104 /mnt/scratch
inode 317 offset 1253376 root 258
inode 317 offset 1253376 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 254414848 /mnt/scratch
inode 317 offset 1511424 root 258
inode 317 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 261070848 /mnt/scratch
inode 317 offset 1540096 root 258
inode 317 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 259493888 /mnt/scratch
inode 317 offset 1695744 root 258
inode 317 offset 1695744 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 263114752 /mnt/scratch
inode 317 offset 1941504 root 258
inode 317 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 287391744 /mnt/scratch
inode 317 offset 2293760 root 258
inode 317 offset 2293760 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f49
317
# /bin/btrfs inspect-internal logical-resolve -P 287449088 /mnt/scratch
inode 308 offset 2158592 root 258
inode 330 offset 1015808 root 258
inode 274 offset 65536 root 258
inode 380 offset 249856 root 258
inode 317 offset 2351104 root 258
inode 502 offset 790528 root 258
inode 488 offset 1224704 root 258
inode 414 offset 290816 root 258
inode 296 offset 761856 root 258
inode 296 offset 761856 root 5
inode 308 offset 2158592 root 5
inode 313 offset 2498560 root 258
inode 313 offset 2498560 root 5
inode 330 offset 1015808 root 5
inode 379 offset 1069056 root 258
inode 379 offset 1069056 root 5
inode 274 offset 65536 root 5
inode 380 offset 249856 root 5
inode 317 offset 2351104 root 5
inode 502 offset 790528 root 5
inode 488 offset 1224704 root 5
inode 414 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f49
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/da2/da0/ddd/f112
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/da2/da0/ddd/f112 is 1040384 (254 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      253..     253:      71889..     71889:      1:        253: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/da2/da0/ddd/f112: 1 extent found
after filter: 294457344#4096#1036288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/ddd/f112
475
# /bin/btrfs inspect-internal logical-resolve -P 294457344 /mnt/scratch
inode 475 offset 1036288 root 258
inode 475 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 475 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/ddd/f112
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d113/f173
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d113/f173 is 1007454 (246 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       64..      91:      67842..     67869:     28:         64: shared
   1:      230..     245:      72187..     72202:     16:      68008: shared,eof
   2:      276..     415:      70503..     70642:    140:      72233: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d113/f173: 3 extents found
after filter: 277880832#114688#262144#shared 295677952#65536#942080#shared,eof 288780288#573440#1130496#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/f173
481
# /bin/btrfs inspect-internal logical-resolve -P 277880832 /mnt/scratch
inode 481 offset 262144 root 258
inode 517 offset 1798144 root 258
inode 481 offset 262144 root 5
inode 517 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 481 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/f173
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/f173
481
# /bin/btrfs inspect-internal logical-resolve -P 295677952 /mnt/scratch
inode 481 offset 942080 root 258
inode 481 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 481 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/f173
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d113/f173
481
# /bin/btrfs inspect-internal logical-resolve -P 288780288 /mnt/scratch
inode 481 offset 1130496 root 258
inode 481 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 481 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d113/f173
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/f8a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/f8a is 1196032 (292 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       3:      60107..     60108:      2:          2: unwritten,shared
   1:       30..      31:      72977..     72978:      2:      60135: unwritten,shared
   2:       32..      32:      60340..     60340:      1:      72979: unwritten,shared
   3:       33..      35:      72979..     72981:      3:      60341: unwritten,shared
   4:       36..      36:      63160..     63160:      1:      72982: shared
   5:       37..      37:      69115..     69115:      1:      63161: shared
   6:       38..      65:      72982..     73009:     28:      69116: unwritten,shared
   7:      165..     172:      69116..     69123:      8:      73109: shared
   8:      173..     173:      73184..     73184:      1:      69124: last,shared
/mnt/scratch/snap1/p0/d9/d3f/f8a: 9 extents found
after filter: 246198272#8192#8192#unwritten,shared 298913792#8192#122880#unwritten,shared 247152640#4096#131072#unwritten,shared 298921984#12288#135168#unwritten,shared 258703360#4096#147456#shared 283095040#4096#151552#shared 298934272#114688#155648#unwritten,shared 283099136#32768#675840#shared 299761664#4096#708608#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 246198272 /mnt/scratch
inode 268 offset 278528 root 258
inode 291 offset 3350528 root 258
inode 318 offset 962560 root 258
inode 367 offset 8192 root 258
inode 268 offset 278528 root 5
inode 291 offset 3350528 root 5
inode 318 offset 962560 root 5
inode 367 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 298913792 /mnt/scratch
inode 367 offset 122880 root 258
inode 367 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515593804
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 298921984 /mnt/scratch
inode 367 offset 135168 root 258
inode 367 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 258703360 /mnt/scratch
inode 367 offset 147456 root 258
inode 367 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 283095040 /mnt/scratch
inode 367 offset 151552 root 258
inode 367 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 298934272 /mnt/scratch
inode 367 offset 155648 root 258
inode 367 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 283099136 /mnt/scratch
inode 367 offset 675840 root 258
inode 367 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/f8a
367
# /bin/btrfs inspect-internal logical-resolve -P 299761664 /mnt/scratch
inode 367 offset 708608 root 258
inode 367 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/f8a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/f3d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/f3d is 3436544 (839 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       76..      83:      60525..     60532:      8:         76: shared
   1:       84..      95:      69769..     69780:     12:      60533: shared
   2:       96..     114:      59628..     59646:     19:      69781: shared
   3:      179..     204:      58995..     59020:     26:      59711: shared
   4:      241..     246:      59039..     59044:      6:      59057: unwritten,shared
   5:      248..     270:      59046..     59068:     23:             unwritten,shared
   6:      271..     297:      69353..     69379:     27:      59069: shared
   7:      313..     338:      59111..     59136:     26:      69395: unwritten,shared
   8:      363..     379:      59161..     59177:     17:             unwritten,shared
   9:      380..     392:      62885..     62897:     13:      59178: shared
  10:      393..     395:      59191..     59193:      3:      62898: unwritten,shared
  11:      424..     439:      58995..     59010:     16:      59222: shared
  12:      525..     542:      70176..     70193:     18:      59096: unwritten,shared
  13:      550..     573:      62223..     62246:     24:      70201: shared
  14:      574..     574:      63762..     63762:      1:      62247: shared
  15:      737..     769:      73882..     73914:     33:      63925: shared
  16:      821..     838:      63396..     63413:     18:      73966: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/f3d: 15 extents found
after filter: 247910400#32768#311296#shared 285773824#49152#344064#shared 244236288#77824#393216#shared 241643520#106496#733184#shared 241823744#24576#987136#unwritten,shared 241852416#94208#1015808#unwritten,shared 284069888#110592#1110016#shared 242118656#106496#1282048#unwritten,shared 242323456#69632#1486848#unwritten,shared 257576960#53248#1556480#shared 242446336#12288#1609728#unwritten,shared 241643520#65536#1736704#shared 287440896#73728#2150400#unwritten,shared 254865408#98304#2252800#shared 261169152#4096#2351104#shared 302620672#135168#3018752#shared 259670016#73728#3362816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 247910400 /mnt/scratch
inode 308 offset 311296 root 258
inode 308 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 285773824 /mnt/scratch
inode 308 offset 344064 root 258
inode 308 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 244236288 /mnt/scratch
inode 308 offset 393216 root 258
inode 308 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 241643520 /mnt/scratch
inode 308 offset 733184 root 258
inode 308 offset 1736704 root 258
inode 308 offset 1736704 root 258
inode 308 offset 733184 root 5
inode 308 offset 1736704 root 5
inode 308 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 241823744 /mnt/scratch
inode 308 offset 987136 root 258
inode 308 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 241852416 /mnt/scratch
inode 308 offset 1015808 root 258
inode 308 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 284069888 /mnt/scratch
inode 308 offset 1110016 root 258
inode 308 offset 1110016 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 242118656 /mnt/scratch
inode 308 offset 1282048 root 258
inode 308 offset 1282048 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 242323456 /mnt/scratch
inode 308 offset 1486848 root 258
inode 308 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 257576960 /mnt/scratch
inode 308 offset 1556480 root 258
inode 308 offset 1556480 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 242446336 /mnt/scratch
inode 308 offset 1609728 root 258
inode 308 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 241643520 /mnt/scratch
inode 308 offset 733184 root 258
inode 308 offset 1736704 root 258
inode 308 offset 1736704 root 258
inode 308 offset 733184 root 5
inode 308 offset 1736704 root 5
inode 308 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 254865408 /mnt/scratch
inode 308 offset 2252800 root 258
inode 308 offset 2252800 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 261169152 /mnt/scratch
inode 308 offset 2351104 root 258
inode 308 offset 2351104 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 302620672 /mnt/scratch
inode 308 offset 3018752 root 258
inode 308 offset 3018752 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f3d
308
# /bin/btrfs inspect-internal logical-resolve -P 259670016 /mnt/scratch
inode 308 offset 3362816 root 258
inode 308 offset 3362816 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f3d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/f2d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/f2d is 2433024 (594 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      12:       3104..      3104:      1:         12: shared
   1:       13..      13:       3421..      3421:      1:       3105: shared
   2:       15..      20:       4263..      4268:      6:       3423: shared
   3:       55..      62:      59778..     59785:      8:       4303: unwritten,shared
   4:       63..      92:       4274..      4303:     30:      59786: shared
   5:      103..     109:       3413..      3419:      7:       4314: shared
   6:      110..     129:       4304..      4323:     20:       3420: shared
   7:      130..     130:       3654..      3654:      1:       4324: shared
   8:      131..     153:      60904..     60926:     23:       3655: shared
   9:      156..     177:      70742..     70763:     22:      60929: shared
  10:      178..     186:       4175..      4183:      9:      70764: shared
  11:      187..     187:       3406..      3406:      1:       4184: shared
  12:      199..     199:       3388..      3388:      1:       3418: shared
  13:      248..     261:       3398..      3411:     14:       3437: shared
  14:      262..     262:       3436..      3436:      1:       3412: shared
  15:      266..     275:       3437..      3446:     10:             shared
  16:      276..     276:       3460..      3460:      1:       3447: shared
  17:      277..     278:       3907..      3908:      2:       3461: unwritten,shared
  18:      279..     291:       3909..      3921:     13:             shared
  19:      292..     309:       3922..      3939:     18:             unwritten,shared
  20:      310..     311:       3940..      3941:      2:             shared
  21:      312..     325:      73831..     73844:     14:       3942: shared
  22:      326..     327:       3956..      3957:      2:      73845: unwritten,shared
  23:      328..     328:       3958..      3958:      1:             shared
  24:      329..     356:      70136..     70163:     28:       3959: unwritten,shared
  25:      357..     372:      61134..     61149:     16:      70164: shared
  26:      373..     373:      64336..     64336:      1:      61150: shared
  27:      583..     583:      61198..     61198:      1:      64546: unwritten,shared
  28:      594..     756:      61209..     61371:    163:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/f2d: 23 extents found
after filter: 12713984#4096#49152#shared 14012416#4096#53248#shared 17461248#24576#61440#shared 244850688#32768#225280#unwritten,shared 17506304#122880#258048#shared 13979648#28672#421888#shared 17629184#81920#450560#shared 14966784#4096#532480#shared 249462784#94208#536576#shared 289759232#90112#638976#shared 17100800#36864#729088#shared 13950976#4096#765952#shared 13877248#4096#815104#shared 13918208#57344#1015808#shared 14073856#4096#1073152#shared 14077952#40960#1089536#shared 14172160#4096#1130496#shared 16003072#8192#1134592#unwritten,shared 16011264#53248#1142784#shared 16064512#73728#1196032#unwritten,shared 16138240#8192#1269760#shared 302411776#57344#1277952#shared 16203776#8192#1335296#unwritten,shared 16211968#4096#1343488#shared 287277056#114688#1347584#unwritten,shared 250404864#65536#1462272#shared 263520256#4096#1527808#shared 250667008#4096#2387968#unwritten,shared 250712064#667648#2433024#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 12713984 /mnt/scratch
inode 260 offset 49152 root 258
inode 260 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 14012416 /mnt/scratch
inode 260 offset 53248 root 258
inode 260 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 17461248 /mnt/scratch
inode 260 offset 61440 root 258
inode 260 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 244850688 /mnt/scratch
inode 260 offset 225280 root 258
inode 260 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 17506304 /mnt/scratch
inode 260 offset 258048 root 258
inode 260 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 13979648 /mnt/scratch
inode 260 offset 421888 root 258
inode 260 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 17629184 /mnt/scratch
inode 260 offset 450560 root 258
inode 260 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 14966784 /mnt/scratch
inode 260 offset 532480 root 258
inode 260 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 249462784 /mnt/scratch
inode 260 offset 536576 root 258
inode 260 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 289759232 /mnt/scratch
inode 260 offset 638976 root 258
inode 260 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 17100800 /mnt/scratch
inode 260 offset 729088 root 258
inode 260 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 13950976 /mnt/scratch
inode 260 offset 765952 root 258
inode 260 offset 1048576 root 258
inode 260 offset 1048576 root 258
inode 260 offset 765952 root 5
inode 260 offset 1048576 root 5
inode 260 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 13877248 /mnt/scratch
inode 260 offset 815104 root 258
inode 260 offset 815104 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515336513
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 13918208 /mnt/scratch
inode 260 offset 1015808 root 258
inode 260 offset 1015808 root 258
inode 260 offset 1015808 root 5
inode 260 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 14073856 /mnt/scratch
inode 260 offset 1073152 root 258
inode 260 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 14077952 /mnt/scratch
inode 260 offset 1089536 root 258
inode 260 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 14172160 /mnt/scratch
inode 260 offset 1130496 root 258
inode 260 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16003072 /mnt/scratch
inode 260 offset 1134592 root 258
inode 260 offset 1134592 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16011264 /mnt/scratch
inode 260 offset 1142784 root 258
inode 260 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16064512 /mnt/scratch
inode 260 offset 1196032 root 258
inode 260 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16138240 /mnt/scratch
inode 260 offset 1269760 root 258
inode 260 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 302411776 /mnt/scratch
inode 260 offset 1277952 root 258
inode 260 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16203776 /mnt/scratch
inode 260 offset 1335296 root 258
inode 260 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 16211968 /mnt/scratch
inode 260 offset 1343488 root 258
inode 260 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 287277056 /mnt/scratch
inode 260 offset 1347584 root 258
inode 260 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 250404864 /mnt/scratch
inode 260 offset 1462272 root 258
inode 260 offset 1462272 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 263520256 /mnt/scratch
inode 260 offset 1527808 root 258
inode 260 offset 1527808 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 250667008 /mnt/scratch
inode 260 offset 2387968 root 258
inode 260 offset 2387968 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/f2d
260
# /bin/btrfs inspect-internal logical-resolve -P 250712064 /mnt/scratch
inode 260 offset 2433024 root 258
inode 260 offset 2433024 root 5
# /bin/btrfs inspect-internal inode-resolve 260 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/f2d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84 is 2223864 (543 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      14:      60319..     60321:      3:         12: unwritten,shared
   1:       34..      41:      67079..     67086:      8:      60341: shared
   2:       48..      53:      65809..     65814:      6:      67093: unwritten,shared
   3:       54..      65:      65815..     65826:     12:             shared
   4:       66..      84:      65827..     65845:     19:             unwritten,shared
   5:       85..     101:      62349..     62365:     17:      65846: unwritten,shared
   6:      102..     140:      65846..     65884:     39:      62366: unwritten,shared
   7:      145..     155:      65889..     65899:     11:             unwritten,shared
   8:      159..     159:      60340..     60340:      1:      65903: unwritten,shared
   9:      160..     167:      62424..     62431:      8:      60341: unwritten,shared
  10:      168..     171:      65903..     65906:      4:      62432: shared
  11:      172..     174:      71629..     71631:      3:      65907: shared
  12:      175..     182:      65910..     65917:      8:      71632: shared
  13:      183..     184:      62447..     62448:      2:      65918: shared
  14:      185..     190:      65918..     65923:      6:      62449: shared
  15:      191..     193:      62455..     62457:      3:      65924: shared
  16:      194..     202:      62458..     62466:      9:             unwritten,shared
  17:      203..     204:      65924..     65925:      2:      62467: unwritten,shared
  18:      205..     207:      62469..     62471:      3:      65926: unwritten,shared
  19:      239..     243:      65952..     65956:      5:      62503: unwritten,shared
  20:      244..     257:      62508..     62521:     14:      65957: unwritten,shared
  21:      258..     271:      65957..     65970:     14:      62522: unwritten,shared
  22:      272..     284:      62536..     62548:     13:      65971: unwritten,shared
  23:      285..     285:      62549..     62549:      1:             shared
  24:      528..     542:      73319..     73333:     15:      62792: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84: 20 extents found
after filter: 247066624#12288#49152#unwritten,shared 274755584#32768#139264#shared 269553664#24576#196608#unwritten,shared 269578240#49152#221184#shared 269627392#77824#270336#unwritten,shared 255381504#69632#348160#unwritten,shared 269705216#159744#417792#unwritten,shared 269881344#45056#593920#unwritten,shared 247152640#4096#651264#unwritten,shared 255688704#32768#655360#unwritten,shared 269938688#16384#688128#shared 293392384#12288#704512#shared 269967360#32768#716800#shared 255782912#8192#749568#shared 270000128#24576#757760#shared 255815680#12288#782336#shared 255827968#36864#794624#unwritten,shared 270024704#8192#831488#unwritten,shared 255873024#12288#839680#unwritten,shared 270139392#20480#978944#unwritten,shared 256032768#57344#999424#unwritten,shared 270159872#57344#1056768#unwritten,shared 256147456#53248#1114112#unwritten,shared 256200704#4096#1167360#shared 300314624#61440#2162688#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 247066624 /mnt/scratch
inode 491 offset 634880 root 5
inode 333 offset 970752 root 5
inode 335 offset 49152 root 5
inode 353 offset 282624 root 5
inode 353 offset 53248 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 353 offset 184320 root 5
inode 353 offset 282624 root 5
inode 348 offset 90112 root 5
inode 448 offset 212992 root 258
inode 448 offset 212992 root 258
inode 448 offset 212992 root 5
inode 448 offset 212992 root 5
inode 448 offset 8192 root 258
inode 448 offset 8192 root 5
inode 291 offset 1118208 root 5
inode 315 offset 724992 root 258
inode 315 offset 724992 root 5
inode 375 offset 552960 root 258
inode 375 offset 552960 root 5
inode 380 offset 319488 root 5
inode 318 offset 999424 root 5
inode 326 offset 2465792 root 258
inode 326 offset 2465792 root 5
inode 318 offset 999424 root 258
inode 380 offset 319488 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 53248 root 258
inode 353 offset 184320 root 258
inode 353 offset 282624 root 258
inode 353 offset 282624 root 258
inode 291 offset 1118208 root 258
inode 335 offset 49152 root 258
inode 333 offset 970752 root 258
inode 348 offset 90112 root 258
inode 491 offset 634880 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 274755584 /mnt/scratch
inode 335 offset 139264 root 258
inode 335 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269553664 /mnt/scratch
inode 335 offset 196608 root 258
inode 335 offset 196608 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269578240 /mnt/scratch
inode 335 offset 221184 root 258
inode 335 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269627392 /mnt/scratch
inode 335 offset 270336 root 258
inode 335 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255381504 /mnt/scratch
inode 335 offset 348160 root 258
inode 335 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269705216 /mnt/scratch
inode 335 offset 417792 root 258
inode 335 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269881344 /mnt/scratch
inode 335 offset 593920 root 258
inode 335 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 335 offset 651264 root 5
inode 335 offset 651264 root 5
inode 313 offset 638976 root 258
inode 313 offset 638976 root 5
inode 317 offset 1384448 root 5
inode 318 offset 1085440 root 5
inode 367 offset 131072 root 5
inode 318 offset 1085440 root 258
inode 317 offset 1384448 root 258
inode 367 offset 131072 root 258
inode 335 offset 651264 root 258
inode 335 offset 651264 root 258
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255688704 /mnt/scratch
inode 335 offset 655360 root 258
inode 335 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269938688 /mnt/scratch
inode 335 offset 688128 root 258
inode 335 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 293392384 /mnt/scratch
inode 335 offset 704512 root 258
inode 335 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 269967360 /mnt/scratch
inode 335 offset 716800 root 258
inode 335 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255782912 /mnt/scratch
inode 335 offset 749568 root 258
inode 335 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 270000128 /mnt/scratch
inode 335 offset 757760 root 258
inode 335 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255815680 /mnt/scratch
inode 335 offset 782336 root 258
inode 335 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255827968 /mnt/scratch
inode 335 offset 794624 root 258
inode 335 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 270024704 /mnt/scratch
inode 335 offset 831488 root 258
inode 335 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 255873024 /mnt/scratch
inode 335 offset 839680 root 258
inode 335 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 270139392 /mnt/scratch
inode 335 offset 978944 root 258
inode 335 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 256032768 /mnt/scratch
inode 335 offset 999424 root 258
inode 335 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516230191
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 270159872 /mnt/scratch
inode 335 offset 1056768 root 258
inode 335 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 256147456 /mnt/scratch
inode 335 offset 1114112 root 258
inode 335 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 256200704 /mnt/scratch
inode 335 offset 1167360 root 258
inode 335 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
335
# /bin/btrfs inspect-internal logical-resolve -P 300314624 /mnt/scratch
inode 335 offset 2162688 root 258
inode 335 offset 2162688 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/f84
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d22/f1d0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d22/f1d0 is 163840 (40 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      39:      73672..     73684:     13:         27: last,shared,eof
/mnt/scratch/snap1/p0/d9/d22/f1d0: 1 extent found
after filter: 301760512#53248#110592#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d22/f1d0
625
# /bin/btrfs inspect-internal logical-resolve -P 301760512 /mnt/scratch
inode 625 offset 110592 root 258
inode 625 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 625 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d22/f1d0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d5d/d9e/f17d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d5d/d9e/f17d is 819200 (200 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       30..      33:      73947..     73950:      4:         30: shared
   1:      177..     199:      72343..     72365:     23:      74094: last,shared,eof
/mnt/scratch/snap1/p0/d9/d5d/d9e/f17d: 2 extents found
after filter: 302886912#16384#122880#shared 296316928#94208#724992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f17d
560
# /bin/btrfs inspect-internal logical-resolve -P 302886912 /mnt/scratch
inode 560 offset 122880 root 258
inode 560 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 560 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d9e/f17d
# stat -c %i /mnt/scratch/snap1/p0/d9/d5d/d9e/f17d
560
# /bin/btrfs inspect-internal logical-resolve -P 296316928 /mnt/scratch
inode 560 offset 724992 root 258
inode 560 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 560 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d5d/d9e/f17d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa is 968649 (237 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      147..     157:      69200..     69210:     11:        147: shared
   1:      230..     236:      69211..     69217:      7:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa: 1 extent found
after filter: 283443200#45056#602112#shared 283488256#28672#942080#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa
458
# /bin/btrfs inspect-internal logical-resolve -P 283443200 /mnt/scratch
inode 458 offset 602112 root 258
inode 458 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa
458
# /bin/btrfs inspect-internal logical-resolve -P 283488256 /mnt/scratch
inode 458 offset 942080 root 258
inode 458 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/dc4/ffa
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/da2/da0/f1b3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/da2/da0/f1b3 is 427885 (105 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       88..     104:      73426..     73442:     17:         88: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f1b3: 1 extent found
after filter: 300752896#69632#360448#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/da0/f1b3
603
# /bin/btrfs inspect-internal logical-resolve -P 300752896 /mnt/scratch
inode 603 offset 360448 root 258
inode 603 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 603 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/da0/f1b3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed is 1638400 (400 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      57:      71064..     71096:     33:         25: shared
   1:      241..     242:      69985..     69986:      2:      71280: shared
   2:      243..     243:      71987..     71987:      1:      69987: shared
   3:      295..     295:      71863..     71863:      1:      72039: shared
   4:      371..     399:      72454..     72482:     29:      71939: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed: 5 extents found
after filter: 291078144#135168#102400#shared 286658560#8192#987136#shared 294858752#4096#995328#shared 294350848#4096#1208320#shared 296771584#118784#1519616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
431
# /bin/btrfs inspect-internal logical-resolve -P 291078144 /mnt/scratch
inode 431 offset 102400 root 258
inode 431 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
431
# /bin/btrfs inspect-internal logical-resolve -P 286658560 /mnt/scratch
inode 431 offset 987136 root 258
inode 431 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
431
# /bin/btrfs inspect-internal logical-resolve -P 294858752 /mnt/scratch
inode 431 offset 995328 root 258
inode 431 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
431
# /bin/btrfs inspect-internal logical-resolve -P 294350848 /mnt/scratch
inode 431 offset 1208320 root 258
inode 431 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
431
# /bin/btrfs inspect-internal logical-resolve -P 296771584 /mnt/scratch
inode 431 offset 1519616 root 258
inode 431 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f10b
/mnt/scratch/snap1/p0/d9/d11/d13/d48/d1a0/fed
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/d7c/dc9/d14b/f1d9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/f126
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/f126 is 999424 (244 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      120..     146:      70645..     70671:     27:        120: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/f126: 1 extent found
after filter: 289361920#110592#491520#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/f126
493
# /bin/btrfs inspect-internal logical-resolve -P 289361920 /mnt/scratch
inode 493 offset 491520 root 258
inode 493 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/f126
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d17/dce/f149
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d17/dce/f149 is 348953 (86 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      85:      73966..     73974:      9:         77: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d17/dce/f149: 1 extent found
after filter: 302964736#36864#315392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d17/dce/f149
522
# /bin/btrfs inspect-internal logical-resolve -P 302964736 /mnt/scratch
inode 522 offset 315392 root 258
inode 522 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 522 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d17/dce/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/ff0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/ff0 is 1302528 (318 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       84..      92:      66709..     66717:      9:         84: shared
   1:      194..     208:      70121..     70135:     15:      66819: shared
   2:      228..     231:      69125..     69128:      4:      70155: shared
   3:      296..     317:      67192..     67213:     22:      69193: last,shared,eof
/mnt/scratch/snap1/p0/d9/ff0: 4 extents found
after filter: 273240064#36864#344064#shared 287215616#61440#794624#shared 283136000#16384#933888#shared 275218432#90112#1212416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/ff0
450
# /bin/btrfs inspect-internal logical-resolve -P 273240064 /mnt/scratch
inode 450 offset 344064 root 258
inode 450 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/ff0
# stat -c %i /mnt/scratch/snap1/p0/d9/ff0
450
# /bin/btrfs inspect-internal logical-resolve -P 287215616 /mnt/scratch
inode 450 offset 794624 root 258
inode 450 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/ff0
# stat -c %i /mnt/scratch/snap1/p0/d9/ff0
450
# /bin/btrfs inspect-internal logical-resolve -P 283136000 /mnt/scratch
inode 450 offset 933888 root 258
inode 450 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/ff0
# stat -c %i /mnt/scratch/snap1/p0/d9/ff0
450
# /bin/btrfs inspect-internal logical-resolve -P 275218432 /mnt/scratch
inode 450 offset 1212416 root 258
inode 450 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 450 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/ff0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f is 1423079 (348 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       75..      87:      69452..     69464:     13:         75: shared
   1:      191..     208:      70176..     70193:     18:      69568: unwritten,shared
   2:      289..     309:      73291..     73311:     21:      70274: shared
   3:      310..     310:      73122..     73122:      1:      73312: shared
   4:      325..     347:      69465..     69487:     23:      73137: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f: 5 extents found
after filter: 284475392#53248#307200#shared 287440896#73728#782336#unwritten,shared 300199936#86016#1183744#shared 299507712#4096#1269760#shared 284528640#94208#1331200#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
502
# /bin/btrfs inspect-internal logical-resolve -P 284475392 /mnt/scratch
inode 502 offset 307200 root 258
inode 502 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
502
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
502
# /bin/btrfs inspect-internal logical-resolve -P 300199936 /mnt/scratch
inode 502 offset 1183744 root 258
inode 502 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
502
# /bin/btrfs inspect-internal logical-resolve -P 299507712 /mnt/scratch
inode 502 offset 1269760 root 258
inode 502 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
502
# /bin/btrfs inspect-internal logical-resolve -P 284528640 /mnt/scratch
inode 502 offset 1331200 root 258
inode 502 offset 1331200 root 5
# /bin/btrfs inspect-internal inode-resolve 502 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/f12f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d13/f2f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d13/f2f is 2179080 (533 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      11:      59679..     59685:      7:          5: shared
   1:       14..      16:      70176..     70178:      3:      59688: unwritten,shared
   2:       28..      31:      70190..     70193:      4:             unwritten,shared
   3:       62..      70:       3602..      3610:      9:      70224: shared
   4:       71..      71:      58665..     58665:      1:       3611: shared
   5:       80..      93:      63414..     63427:     14:      58674: shared
   6:       94..     126:      69617..     69649:     33:      63428: shared
   7:      127..     141:      62152..     62166:     15:      69650: shared
   8:      155..     156:      64557..     64558:      2:      62180: shared
   9:      157..     163:      64494..     64500:      7:      64559: shared
  10:      164..     185:      65307..     65328:     22:      64501: shared
  11:      194..     201:       3072..      3079:      8:      65337: shared
  12:      219..     228:      70782..     70791:     10:       3097: shared
  13:      276..     285:      70072..     70081:     10:      70839: shared
  14:      308..     335:      62898..     62925:     28:      70104: shared
  15:      346..     346:      65971..     65971:      1:      62936: shared
  16:      391..     393:      69112..     69114:      3:      66016: shared
  17:      507..     531:      66312..     66336:     25:      69228: shared
  18:      532..     532:      67595..     67595:      1:      66337: shared,eof
  19:      536..     744:      66371..     66579:    209:      67599: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d13/f2f: 19 extents found
after filter: 244445184#28672#20480#shared 287440896#12288#57344#unwritten,shared 287498240#16384#114688#unwritten,shared 14753792#36864#253952#shared 240291840#4096#290816#shared 259743744#57344#327680#shared 285151232#135168#385024#shared 254574592#61440#520192#shared 264425472#8192#634880#shared 264167424#28672#643072#shared 267497472#90112#671744#shared 12582912#32768#794624#shared 289923072#40960#897024#shared 287014912#40960#1130496#shared 257630208#114688#1261568#shared 270217216#4096#1417216#shared 283082752#12288#1601536#shared 271613952#102400#2076672#shared 276869120#4096#2179072#shared,eof 271855616#856064#2195456#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 244445184 /mnt/scratch
inode 274 offset 20480 root 258
inode 274 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 308 offset 2150400 root 258
inode 330 offset 1007616 root 258
inode 274 offset 57344 root 258
inode 380 offset 241664 root 258
inode 383 offset 110592 root 258
inode 502 offset 782336 root 258
inode 488 offset 1216512 root 258
inode 414 offset 282624 root 258
inode 296 offset 753664 root 258
inode 296 offset 753664 root 5
inode 308 offset 2150400 root 5
inode 313 offset 2490368 root 258
inode 313 offset 2490368 root 5
inode 330 offset 1007616 root 5
inode 379 offset 1060864 root 258
inode 379 offset 1060864 root 5
inode 274 offset 57344 root 5
inode 380 offset 241664 root 5
inode 383 offset 110592 root 5
inode 502 offset 782336 root 5
inode 488 offset 1216512 root 5
inode 414 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 287498240 /mnt/scratch
inode 308 offset 2207744 root 258
inode 330 offset 1064960 root 258
inode 274 offset 114688 root 258
inode 380 offset 299008 root 258
inode 317 offset 2400256 root 258
inode 502 offset 839680 root 258
inode 488 offset 1273856 root 258
inode 414 offset 339968 root 258
inode 296 offset 811008 root 258
inode 296 offset 811008 root 5
inode 308 offset 2207744 root 5
inode 313 offset 2547712 root 258
inode 313 offset 3330048 root 258
inode 313 offset 3330048 root 258
inode 313 offset 2547712 root 5
inode 313 offset 3330048 root 5
inode 313 offset 3330048 root 5
inode 330 offset 1064960 root 5
inode 379 offset 1118208 root 258
inode 379 offset 1118208 root 5
inode 274 offset 114688 root 5
inode 380 offset 299008 root 5
inode 317 offset 2400256 root 5
inode 502 offset 839680 root 5
inode 488 offset 1273856 root 5
inode 414 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 14753792 /mnt/scratch
inode 274 offset 253952 root 258
inode 274 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 274 offset 290816 root 258
inode 274 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 259743744 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 274 offset 327680 root 258
inode 274 offset 327680 root 5
seed = 1515966184
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 285151232 /mnt/scratch
inode 274 offset 385024 root 258
inode 274 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 254574592 /mnt/scratch
inode 274 offset 520192 root 258
inode 274 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 264425472 /mnt/scratch
inode 274 offset 634880 root 258
inode 274 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 264167424 /mnt/scratch
inode 274 offset 643072 root 258
inode 274 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 267497472 /mnt/scratch
inode 274 offset 671744 root 258
inode 274 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 12582912 /mnt/scratch
inode 279 offset 163840 root 258
inode 274 offset 794624 root 258
inode 279 offset 163840 root 5
inode 274 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 289923072 /mnt/scratch
inode 274 offset 897024 root 258
inode 274 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 287014912 /mnt/scratch
inode 274 offset 1130496 root 258
inode 274 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 257630208 /mnt/scratch
inode 274 offset 1261568 root 258
inode 274 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 270217216 /mnt/scratch
inode 274 offset 1417216 root 258
inode 274 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 283082752 /mnt/scratch
inode 274 offset 1601536 root 258
inode 274 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 271613952 /mnt/scratch
inode 274 offset 2076672 root 258
inode 274 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 276869120 /mnt/scratch
inode 274 offset 2179072 root 258
inode 274 offset 2179072 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d13/f2f
274
# /bin/btrfs inspect-internal logical-resolve -P 271855616 /mnt/scratch
inode 274 offset 2195456 root 258
inode 274 offset 2195456 root 5
# /bin/btrfs inspect-internal inode-resolve 274 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/f14
/mnt/scratch/snap1/p0/d9/d11/d13/f2f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9 is 1414350 (346 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       11..      41:      65378..     65408:     31:         11: shared
   1:       42..      42:      67662..     67662:      1:      65409: shared
   2:       64..      72:      67311..     67319:      9:      67684: shared
   3:       73..      90:      61112..     61129:     18:      67320: shared
   4:      123..     149:      73353..     73379:     27:      61162: last,shared
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9: 5 extents found
after filter: 267788288#126976#45056#shared 277143552#4096#172032#shared 275705856#36864#262144#shared 250314752#73728#299008#shared 300453888#110592#503808#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
406
# /bin/btrfs inspect-internal logical-resolve -P 267788288 /mnt/scratch
inode 406 offset 45056 root 258
inode 406 offset 45056 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
406
# /bin/btrfs inspect-internal logical-resolve -P 277143552 /mnt/scratch
inode 406 offset 172032 root 258
inode 406 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
406
# /bin/btrfs inspect-internal logical-resolve -P 275705856 /mnt/scratch
inode 406 offset 262144 root 258
inode 406 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
406
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
# stat -c %i /mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
406
# /bin/btrfs inspect-internal logical-resolve -P 300453888 /mnt/scratch
inode 406 offset 503808 root 258
inode 406 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 406 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d3f/dcc/fb9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104 is 1832301 (448 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      114..     142:      69245..     69273:     29:        114: shared
   1:      155..     174:      67663..     67682:     20:      69286: shared
   2:      212..     240:      71663..     71691:     29:      67720: shared
   3:      241..     241:      73856..     73856:      1:      71692: shared
   4:      438..     447:      73857..     73866:     10:             last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104: 4 extents found
after filter: 283627520#118784#466944#shared 277147648#81920#634880#shared 293531648#118784#868352#shared 302514176#4096#987136#shared 302518272#40960#1794048#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
467
# /bin/btrfs inspect-internal logical-resolve -P 283627520 /mnt/scratch
inode 467 offset 466944 root 258
inode 467 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
467
# /bin/btrfs inspect-internal logical-resolve -P 277147648 /mnt/scratch
inode 467 offset 634880 root 258
inode 467 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
467
# /bin/btrfs inspect-internal logical-resolve -P 293531648 /mnt/scratch
inode 467 offset 868352 root 258
inode 467 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
467
# /bin/btrfs inspect-internal logical-resolve -P 302514176 /mnt/scratch
inode 467 offset 987136 root 258
inode 467 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
467
# /bin/btrfs inspect-internal logical-resolve -P 302518272 /mnt/scratch
inode 467 offset 1794048 root 258
inode 467 offset 1794048 root 5
# /bin/btrfs inspect-internal inode-resolve 467 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/dc8/d121/f104
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a is 2691072 (657 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     187:      71648..     71661:     14:        174: shared
   1:      235..     236:      73074..     73075:      2:      71709: shared
   2:      288..     301:      73076..     73089:     14:             shared
   3:      302..     315:      72616..     72629:     14:      73090: shared
   4:      391..     417:      69958..     69984:     27:      72705: shared
   5:      437..     464:      71988..     72015:     28:      70004: shared
   6:      465..     468:      67316..     67319:      4:      72016: shared
   7:      469..     484:      61112..     61127:     16:      67320: shared
   8:      485..     506:      69893..     69914:     22:      61128: shared
   9:      511..     513:      62012..     62014:      3:      69919: shared
  10:      514..     514:      72016..     72016:      1:      62015: shared
  11:      582..     609:      72483..     72510:     28:      72084: shared
  12:      632..     656:      71864..     71888:     25:      72533: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a: 12 extents found
after filter: 293470208#57344#712704#shared 299311104#8192#962560#shared 299319296#57344#1179648#shared 297435136#57344#1236992#shared 286547968#110592#1601536#shared 294862848#114688#1789952#shared 275726336#16384#1904640#shared 250314752#65536#1921024#shared 286281728#90112#1986560#shared 254001152#12288#2093056#shared 294977536#4096#2105344#shared 296890368#114688#2383872#shared 294354944#102400#2588672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 293470208 /mnt/scratch
inode 312 offset 712704 root 258
inode 312 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 299311104 /mnt/scratch
inode 312 offset 962560 root 258
inode 312 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 312 offset 1179648 root 258
inode 312 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 297435136 /mnt/scratch
inode 312 offset 1236992 root 258
inode 312 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 286547968 /mnt/scratch
inode 312 offset 1601536 root 258
inode 312 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 294862848 /mnt/scratch
inode 312 offset 1789952 root 258
inode 312 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 312 offset 1904640 root 258
inode 312 offset 1904640 root 5
inode 406 offset 282624 root 258
inode 406 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 250314752 /mnt/scratch
inode 406 offset 299008 root 258
inode 406 offset 299008 root 5
inode 312 offset 1921024 root 258
inode 312 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 286281728 /mnt/scratch
inode 472 offset 94208 root 258
inode 472 offset 94208 root 5
inode 312 offset 1986560 root 258
inode 312 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 254001152 /mnt/scratch
inode 400 offset 1110016 root 258
inode 400 offset 1110016 root 5
inode 312 offset 2093056 root 258
inode 312 offset 2093056 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 294977536 /mnt/scratch
inode 312 offset 2105344 root 258
inode 312 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 296890368 /mnt/scratch
inode 312 offset 2383872 root 258
inode 312 offset 2383872 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
312
# /bin/btrfs inspect-internal logical-resolve -P 294354944 /mnt/scratch
inode 312 offset 2588672 root 258
inode 312 offset 2588672 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/fd7
/mnt/scratch/snap1/p0/d9/d5d/d9e/f43
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/f5a
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/d4f/d50/fd0
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d67/da9/db2/f109
/mnt/scratch/snap1/p0/d9/d36/d3c/d66/d90/f19c
/mnt/scratch/snap1/p0/d9/d36/dbe/f142
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/f10e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/f10e is 503808 (123 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..      92:      73268..     73280:     13:         80: shared
   1:      108..     122:      67113..     67127:     15:      73296: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/f10e: 2 extents found
after filter: 300105728#53248#327680#shared 274894848#61440#442368#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f10e
473
# /bin/btrfs inspect-internal logical-resolve -P 300105728 /mnt/scratch
inode 473 offset 327680 root 258
inode 473 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/f10e
background rm
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f10e
473
# /bin/btrfs inspect-internal logical-resolve -P 274894848 /mnt/scratch
inode 473 offset 442368 root 258
inode 473 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/f10e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d36/d8c/f12c
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515585199
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d36/d8c/f12c is 1291077 (316 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      285..     315:      73456..     73486:     31:        285: last,shared,eof
/mnt/scratch/snap1/p0/d9/d36/d8c/f12c: 1 extent found
after filter: 300875776#126976#1167360#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d36/d8c/f12c
499
# /bin/btrfs inspect-internal logical-resolve -P 300875776 /mnt/scratch
inode 499 offset 1167360 root 258
inode 499 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d36/d8c/f12c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d15/f3b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d15/f3b is 1702863 (416 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      160..     179:      61625..     61644:     20:        160: shared
   1:      201..     224:      60293..     60316:     24:      61666: shared
   2:      225..     235:      59817..     59827:     11:      60317: shared
   3:      325..     325:      58666..     58666:      1:      59917: last,shared
/mnt/scratch/snap1/p0/d9/d15/f3b: 4 extents found
after filter: 252416000#81920#655360#shared 246960128#98304#823296#shared 245010432#45056#921600#shared 240295936#4096#1331200#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f3b
306
# /bin/btrfs inspect-internal logical-resolve -P 252416000 /mnt/scratch
inode 306 offset 655360 root 258
inode 306 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f3b
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f3b
306
# /bin/btrfs inspect-internal logical-resolve -P 246960128 /mnt/scratch
inode 306 offset 823296 root 258
inode 306 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f3b
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f3b
306
# /bin/btrfs inspect-internal logical-resolve -P 245010432 /mnt/scratch
inode 306 offset 921600 root 258
inode 306 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f3b
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f3b
306
# /bin/btrfs inspect-internal logical-resolve -P 240295936 /mnt/scratch
inode 306 offset 1331200 root 258
inode 306 offset 1331200 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f3b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/da2/fb1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/da2/fb1 is 857199 (210 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      114..     135:      64215..     64236:     22:        114: shared
   1:      207..     209:      67299..     67301:      3:      64308: last,shared,eof
/mnt/scratch/snap1/p0/d9/d11/da2/fb1: 2 extents found
after filter: 263024640#90112#466944#shared 275656704#12288#847872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/fb1
399
# /bin/btrfs inspect-internal logical-resolve -P 263024640 /mnt/scratch
inode 399 offset 466944 root 258
inode 399 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/fb1
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/da2/fb1
399
# /bin/btrfs inspect-internal logical-resolve -P 275656704 /mnt/scratch
inode 399 offset 847872 root 258
inode 399 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 399 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/da2/fb1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6 is 955259 (234 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      201..     232:      65972..     66003:     32:        201: shared
   1:      233..     233:      69414..     69414:      1:      66004: shared,eof
   2:      491..     500:      68412..     68421:     10:      69672: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6: 3 extents found
after filter: 270221312#131072#823296#shared 284319744#4096#954368#shared,eof 280215552#40960#2011136#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
429
# /bin/btrfs inspect-internal logical-resolve -P 270221312 /mnt/scratch
inode 429 offset 823296 root 258
inode 429 offset 823296 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
429
# /bin/btrfs inspect-internal logical-resolve -P 284319744 /mnt/scratch
inode 429 offset 954368 root 258
inode 429 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
429
# /bin/btrfs inspect-internal logical-resolve -P 280215552 /mnt/scratch
inode 429 offset 2011136 root 258
inode 429 offset 2011136 root 5
# /bin/btrfs inspect-internal inode-resolve 429 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/d59/dcb/fd6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d11/d1c/f10c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d11/d1c/f10c is 276157 (68 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      44:      69887..     69914:     28:         17: last,shared
/mnt/scratch/snap1/p0/d9/d11/d1c/f10c: 1 extent found
after filter: 286257152#114688#69632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d9/d11/d1c/f10c
472
# /bin/btrfs inspect-internal logical-resolve -P 286257152 /mnt/scratch
inode 472 offset 69632 root 258
inode 472 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 472 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d11/d1c/f10c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d9/d15/f190
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d9/d15/f190 is 1116661 (273 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      253..     272:      72259..     72278:     20:        253: last,shared,eof
/mnt/scratch/snap1/p0/d9/d15/f190: 1 extent found
after filter: 295972864#81920#1036288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d9/d15/f190
573
# /bin/btrfs inspect-internal logical-resolve -P 295972864 /mnt/scratch
inode 573 offset 1036288 root 258
inode 573 offset 1036288 root 5
# /bin/btrfs inspect-internal inode-resolve 573 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d9/d15/f190
background rm
