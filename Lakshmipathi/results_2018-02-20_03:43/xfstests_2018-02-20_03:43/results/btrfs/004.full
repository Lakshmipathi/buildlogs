*** mkfs -dsize=2097152000

btrfs-progs v4.15.1
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               4abd6e3a-b45a-45a6-be44-b8522dd46de1
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1519320055
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1518414135
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1518701804
# _scratch_unmount
# _scratch_mount -o atime
background noise by 8358
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519378738
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/fad
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/fad is 1855183 (453 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      42:      65099..     65114:     16:         27: shared
   1:      119..     129:      63054..     63064:     11:      65191: unwritten,shared
   2:      142..     142:      70454..     70454:      1:      63077: shared
   3:      214..     220:      65115..     65121:      7:      70526: shared
   4:      221..     221:      62364..     62364:      1:      65122: shared
   5:      222..     222:      68200..     68200:      1:      62365: shared
   6:      440..     452:      68201..     68213:     13:             last,shared,eof
/mnt/scratch/snap1/p0/d2/fad: 6 extents found
after filter: 266645504#65536#110592#shared 258269184#45056#487424#unwritten,shared 288579584#4096#581632#shared 266711040#28672#876544#shared 255442944#4096#905216#shared 279347200#4096#909312#shared 279351296#53248#1802240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 266645504 /mnt/scratch
inode 397 offset 110592 root 258
inode 397 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 258269184 /mnt/scratch
inode 367 offset 438272 root 5
inode 365 offset 1400832 root 5
inode 304 offset 1052672 root 5
inode 320 offset 1970176 root 5
inode 320 offset 782336 root 5
inode 320 offset 1970176 root 5
inode 269 offset 1585152 root 258
inode 269 offset 1585152 root 5
inode 290 offset 2301952 root 5
inode 290 offset 2301952 root 5
inode 292 offset 253952 root 5
inode 264 offset 2347008 root 258
inode 266 offset 122880 root 258
inode 264 offset 2347008 root 5
inode 266 offset 122880 root 5
inode 332 offset 94208 root 5
inode 397 offset 487424 root 258
inode 397 offset 487424 root 5
inode 349 offset 331776 root 5
inode 376 offset 884736 root 258
inode 376 offset 884736 root 5
inode 307 offset 655360 root 5
inode 307 offset 536576 root 5
inode 307 offset 655360 root 5
inode 350 offset 659456 root 5
inode 280 offset 2191360 root 5
inode 385 offset 110592 root 5
inode 320 offset 782336 root 258
inode 320 offset 1970176 root 258
inode 320 offset 1970176 root 258
inode 307 offset 655360 root 258
inode 307 offset 536576 root 258
inode 307 offset 655360 root 258
inode 349 offset 331776 root 258
inode 292 offset 253952 root 258
inode 290 offset 2301952 root 258
inode 290 offset 2301952 root 258
inode 350 offset 659456 root 258
inode 332 offset 94208 root 258
inode 280 offset 2191360 root 258
inode 365 offset 1400832 root 258
inode 367 offset 438272 root 258
inode 385 offset 110592 root 258
inode 304 offset 1052672 root 258
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 288579584 /mnt/scratch
inode 397 offset 581632 root 258
inode 397 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 266711040 /mnt/scratch
inode 397 offset 876544 root 258
inode 397 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 255442944 /mnt/scratch
inode 397 offset 905216 root 258
inode 397 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 279347200 /mnt/scratch
inode 397 offset 909312 root 258
inode 397 offset 909312 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# stat -c %i /mnt/scratch/snap1/p0/d2/fad
397
# /bin/btrfs inspect-internal logical-resolve -P 279351296 /mnt/scratch
inode 397 offset 1802240 root 258
inode 397 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fad
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f1d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f1d is 4717697 (1152 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      33:      61817..     61829:     13:         21: unwritten,shared
   1:       34..      39:       4658..      4663:      6:      61830: unwritten,shared
   2:      172..     172:       4133..      4133:      1:       4796: shared
   3:      179..     186:       4272..      4279:      8:       4140: shared
   4:      207..     213:      59856..     59862:      7:       4300: shared
   5:      315..     315:      59405..     59405:      1:      59964: shared
   6:      383..     386:      62575..     62578:      4:      59473: unwritten,shared
   7:      440..     446:      59406..     59412:      7:      62632: shared
   8:      447..     447:      60023..     60023:      1:      59413: shared
   9:      498..     505:      60024..     60031:      8:             shared
  10:      506..     506:      61527..     61527:      1:      60032: shared
  11:      507..     523:      60033..     60049:     17:      61528: shared
  12:      524..     524:      63173..     63173:      1:      60050: shared
  13:      600..     629:      64332..     64361:     30:      63249: shared
  14:      708..     709:      59736..     59737:      2:      64440: shared
  15:      912..     938:      69413..     69439:     27:      59940: shared
  16:      946..     955:      67890..     67899:     10:      69447: shared
  17:      956..     956:      70964..     70964:      1:      67900: shared
  18:     1122..    1151:      70965..     70994:     30:             last,shared,eof
/mnt/scratch/snap1/p0/d2/f1d: 17 extents found
after filter: 253202432#53248#86016#unwritten,shared 19079168#24576#139264#unwritten,shared 16928768#4096#704512#shared 17498112#32768#733184#shared 245170176#28672#847872#shared 243322880#4096#1290240#shared 256307200#16384#1568768#unwritten,shared 243326976#28672#1802240#shared 245854208#4096#1830912#shared 245858304#32768#2039808#shared 252014592#4096#2072576#shared 245895168#69632#2076672#shared 258756608#4096#2146304#shared 263503872#122880#2457600#shared 244678656#8192#2899968#shared 284315648#110592#3735552#shared 278077440#40960#3874816#shared 290668544#4096#3915776#shared 290672640#122880#4595712#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 253202432 /mnt/scratch
inode 320 offset 970752 root 258
inode 323 offset 8192 root 258
inode 320 offset 970752 root 258
inode 304 offset 1183744 root 258
inode 304 offset 475136 root 258
inode 304 offset 1183744 root 258
inode 281 offset 86016 root 258
inode 299 offset 225280 root 258
inode 320 offset 970752 root 5
inode 323 offset 8192 root 5
inode 320 offset 970752 root 5
inode 304 offset 1183744 root 5
inode 304 offset 475136 root 5
inode 304 offset 1183744 root 5
inode 281 offset 86016 root 5
inode 299 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 16928768 /mnt/scratch
inode 412 offset 536576 root 258
inode 412 offset 536576 root 5
inode 281 offset 704512 root 258
inode 281 offset 704512 root 5
inode 273 offset 94208 root 258
inode 273 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 17498112 /mnt/scratch
inode 281 offset 733184 root 258
inode 281 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 245170176 /mnt/scratch
inode 281 offset 847872 root 258
inode 281 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 243322880 /mnt/scratch
inode 281 offset 1290240 root 258
inode 281 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 256307200 /mnt/scratch
inode 392 offset 57344 root 258
inode 377 offset 811008 root 258
inode 377 offset 811008 root 5
inode 392 offset 57344 root 5
inode 281 offset 1568768 root 258
inode 281 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 243326976 /mnt/scratch
inode 281 offset 1802240 root 258
inode 281 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 245854208 /mnt/scratch
inode 281 offset 1830912 root 258
inode 281 offset 1830912 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 245858304 /mnt/scratch
inode 281 offset 2039808 root 258
inode 281 offset 2039808 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 252014592 /mnt/scratch
inode 281 offset 2072576 root 258
inode 281 offset 2072576 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 245895168 /mnt/scratch
inode 281 offset 2076672 root 258
inode 281 offset 2076672 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 258756608 /mnt/scratch
inode 281 offset 2146304 root 258
inode 281 offset 2146304 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 263503872 /mnt/scratch
inode 281 offset 2457600 root 258
inode 281 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 244678656 /mnt/scratch
inode 337 offset 892928 root 258
inode 337 offset 892928 root 5
inode 281 offset 2899968 root 258
inode 281 offset 2899968 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 284315648 /mnt/scratch
inode 281 offset 3735552 root 258
inode 281 offset 3735552 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 278077440 /mnt/scratch
inode 281 offset 3874816 root 258
inode 281 offset 3874816 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 290668544 /mnt/scratch
inode 281 offset 3915776 root 258
inode 281 offset 3915776 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518444892
/mnt/scratch/snap1/p0/d2/f1d
# stat -c %i /mnt/scratch/snap1/p0/d2/f1d
281
# /bin/btrfs inspect-internal logical-resolve -P 290672640 /mnt/scratch
inode 281 offset 4595712 root 258
inode 281 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 281 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/f172
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/f172 is 1191936 (291 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      123..     142:      67509..     67528:     20:        123: shared
   1:      276..     290:      68876..     68890:     15:      67662: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/f172: 2 extents found
after filter: 276516864#81920#503808#shared 282116096#61440#1130496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f172
452
# /bin/btrfs inspect-internal logical-resolve -P 276516864 /mnt/scratch
inode 452 offset 503808 root 258
inode 452 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f172
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f172
452
# /bin/btrfs inspect-internal logical-resolve -P 282116096 /mnt/scratch
inode 452 offset 1130496 root 258
inode 452 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 452 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f172
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f9f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f9f is 2412544 (589 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      22:      66573..     66577:      5:         18: shared
   1:       68..      76:      59102..     59110:      9:      66623: unwritten,shared
   2:       77..     100:      60754..     60777:     24:      59111: shared
   3:      126..     130:      59799..     59803:      5:      60803: shared
   4:      199..     218:      60822..     60841:     20:      59872: shared
   5:      219..     246:      62268..     62295:     28:      60842: shared
   6:      273..     279:      61967..     61973:      7:      62322: shared
   7:      280..     280:      62296..     62296:      1:      61974: shared
   8:      395..     422:      62297..     62324:     28:             shared
   9:      423..     423:      65033..     65033:      1:      62325: shared
  10:      444..     609:      70517..     70682:    166:      65054: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f9f: 10 extents found
after filter: 272683008#20480#73728#shared 242081792#36864#278528#unwritten,shared 248848384#98304#315392#shared 244936704#20480#516096#shared 249126912#81920#815104#shared 255049728#114688#897024#shared 253816832#28672#1118208#shared 255164416#4096#1146880#shared 255168512#114688#1617920#shared 266375168#4096#1732608#shared 288837632#679936#1818624#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 272683008 /mnt/scratch
inode 346 offset 73728 root 258
inode 346 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 248848384 /mnt/scratch
inode 346 offset 315392 root 258
inode 346 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 244936704 /mnt/scratch
inode 346 offset 516096 root 258
inode 346 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 249126912 /mnt/scratch
inode 346 offset 815104 root 258
inode 346 offset 815104 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 255049728 /mnt/scratch
inode 346 offset 897024 root 258
inode 346 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 253816832 /mnt/scratch
inode 346 offset 1118208 root 258
inode 346 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 255164416 /mnt/scratch
inode 346 offset 1146880 root 258
inode 346 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 255168512 /mnt/scratch
inode 346 offset 1617920 root 258
inode 346 offset 1617920 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 266375168 /mnt/scratch
inode 346 offset 1732608 root 258
inode 346 offset 1732608 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f9f
346
# /bin/btrfs inspect-internal logical-resolve -P 288837632 /mnt/scratch
inode 346 offset 1818624 root 258
inode 346 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f9f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125 is 1474463 (360 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       22..      23:       4132..      4133:      2:         22: shared
   1:       40..      40:      68338..     68338:      1:       4150: shared
   2:       72..      82:      68339..     68349:     11:             shared
   3:       83..      83:      69311..     69311:      1:      68350: shared
   4:      331..     359:      69312..     69340:     29:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125: 3 extents found
after filter: 16924672#8192#90112#shared 279912448#4096#163840#shared 279916544#45056#294912#shared 283897856#4096#339968#shared 283901952#118784#1355776#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
273
# /bin/btrfs inspect-internal logical-resolve -P 16924672 /mnt/scratch
inode 412 offset 532480 root 258
inode 412 offset 532480 root 5
inode 273 offset 90112 root 258
inode 273 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
273
# /bin/btrfs inspect-internal logical-resolve -P 279912448 /mnt/scratch
inode 273 offset 163840 root 258
inode 273 offset 163840 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
273
# /bin/btrfs inspect-internal logical-resolve -P 279916544 /mnt/scratch
inode 273 offset 294912 root 258
inode 273 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
273
# /bin/btrfs inspect-internal logical-resolve -P 283897856 /mnt/scratch
inode 273 offset 339968 root 258
inode 273 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
273
# /bin/btrfs inspect-internal logical-resolve -P 283901952 /mnt/scratch
inode 273 offset 1355776 root 258
inode 273 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 273 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f125
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/ff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/ff is 2875392 (702 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       69..      72:      67684..     67687:      4:         69: unwritten,shared
   1:       82..      87:      67697..     67702:      6:             unwritten,shared
   2:       88..     115:      68895..     68922:     28:      67703: shared
   3:      116..     120:      67721..     67725:      5:      68923: unwritten,shared
   4:      148..     148:      67753..     67753:      1:             unwritten,shared
   5:      149..     150:      67561..     67562:      2:      67754: shared
   6:      151..     157:      67754..     67760:      7:      67563: unwritten,shared
   7:      173..     174:      67776..     67777:      2:             unwritten,shared
   8:      175..     177:       4897..      4899:      3:      67778: shared
   9:      178..     182:      67778..     67782:      5:       4900: unwritten,shared
  10:      243..     254:      59115..     59126:     12:      67843: unwritten,shared
  11:      351..     365:       4192..      4206:     15:      59223: shared
  12:      366..     366:       4385..      4385:      1:       4207: shared
  13:      376..     384:       4386..      4394:      9:             shared
  14:      428..     455:      61075..     61102:     28:       4438: shared
  15:      456..     456:      67857..     67857:      1:      61103: shared
  16:      580..     610:      71657..     71687:     31:      67981: shared
  17:      672..     701:      71061..     71090:     30:      71749: last,shared,eof
/mnt/scratch/snap1/p0/d2/ff: 14 extents found
after filter: 277233664#16384#282624#unwritten,shared 277286912#24576#335872#unwritten,shared 282193920#114688#360448#shared 277385216#20480#475136#unwritten,shared 277516288#4096#606208#unwritten,shared 276729856#8192#610304#shared 277520384#28672#618496#unwritten,shared 277610496#8192#708608#unwritten,shared 20058112#12288#716800#shared 277618688#20480#729088#unwritten,shared 242135040#49152#995328#unwritten,shared 17170432#61440#1437696#shared 17960960#4096#1499136#shared 17965056#36864#1540096#shared 250163200#114688#1753088#shared 277942272#4096#1867776#shared 293507072#126976#2375680#shared 291065856#122880#2752512#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277233664 /mnt/scratch
inode 272 offset 282624 root 258
inode 272 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277286912 /mnt/scratch
inode 272 offset 335872 root 258
inode 272 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 282193920 /mnt/scratch
inode 272 offset 360448 root 258
inode 272 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277385216 /mnt/scratch
inode 272 offset 475136 root 258
inode 272 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277516288 /mnt/scratch
inode 272 offset 606208 root 258
inode 272 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 276729856 /mnt/scratch
inode 272 offset 610304 root 258
inode 272 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277520384 /mnt/scratch
inode 272 offset 618496 root 258
inode 272 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277610496 /mnt/scratch
inode 272 offset 708608 root 258
inode 272 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 20058112 /mnt/scratch
inode 272 offset 716800 root 258
inode 272 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277618688 /mnt/scratch
inode 272 offset 729088 root 258
inode 272 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 242135040 /mnt/scratch
inode 294 offset 1187840 root 5
inode 294 offset 1187840 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 208896 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
inode 268 offset 1077248 root 5
inode 292 offset 299008 root 5
inode 299 offset 901120 root 5
inode 301 offset 573440 root 5
inode 299 offset 442368 root 5
inode 299 offset 901120 root 5
inode 262 offset 3448832 root 5
inode 350 offset 94208 root 5
inode 272 offset 995328 root 258
inode 272 offset 995328 root 5
inode 264 offset 159744 root 258
inode 264 offset 1024000 root 258
inode 264 offset 1024000 root 258
inode 264 offset 159744 root 5
inode 264 offset 1024000 root 5
inode 264 offset 1024000 root 5
inode 280 offset 208896 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 299 offset 442368 root 258
inode 299 offset 901120 root 258
inode 301 offset 573440 root 258
inode 299 offset 901120 root 258
inode 350 offset 94208 root 258
inode 262 offset 3448832 root 258
inode 292 offset 299008 root 258
inode 294 offset 1187840 root 258
inode 294 offset 1187840 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 272 offset 1437696 root 258
inode 272 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 17960960 /mnt/scratch
inode 272 offset 1499136 root 258
inode 272 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 17965056 /mnt/scratch
inode 272 offset 1540096 root 258
inode 272 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 250163200 /mnt/scratch
inode 272 offset 1753088 root 258
inode 272 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 277942272 /mnt/scratch
inode 272 offset 1867776 root 258
inode 272 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 293507072 /mnt/scratch
inode 272 offset 2375680 root 258
inode 272 offset 2375680 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/ff
272
# /bin/btrfs inspect-internal logical-resolve -P 291065856 /mnt/scratch
inode 272 offset 2752512 root 258
inode 272 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/f53
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/f53 is 2459137 (601 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      19:      59102..     59113:     12:          8: unwritten,shared
   1:       20..      20:      60054..     60054:      1:      59114: shared
   2:       21..      21:      69650..     69650:      1:      60055: shared
   3:      302..     316:      65647..     65661:     15:      69931: shared
   4:      367..     374:      60079..     60086:      8:      65712: shared
   5:      375..     375:      62366..     62366:      1:      60087: shared
   6:      469..     482:      62194..     62207:     14:      62460: shared
   7:      512..     513:      70096..     70097:      2:      62237: shared
   8:      545..     549:      68304..     68308:      5:      70129: shared
   9:      593..     600:      66490..     66497:      8:      68352: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d3c/f53: 10 extents found
after filter: 242081792#49152#32768#unwritten,shared 245981184#4096#81920#shared 285286400#4096#86016#shared 268890112#61440#1236992#shared 246083584#32768#1503232#shared 255451136#4096#1536000#shared 254746624#57344#1921024#shared 287113216#8192#2097152#shared 279773184#20480#2232320#shared 272343040#32768#2428928#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519356041
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 245981184 /mnt/scratch
inode 325 offset 81920 root 258
inode 325 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 285286400 /mnt/scratch
inode 325 offset 86016 root 258
inode 325 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 268890112 /mnt/scratch
inode 325 offset 1236992 root 258
inode 325 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 246083584 /mnt/scratch
inode 325 offset 1503232 root 258
inode 325 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 255451136 /mnt/scratch
inode 325 offset 1536000 root 258
inode 325 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 254746624 /mnt/scratch
inode 325 offset 1921024 root 258
inode 325 offset 1921024 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 287113216 /mnt/scratch
inode 325 offset 2097152 root 258
inode 325 offset 2097152 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 279773184 /mnt/scratch
inode 325 offset 2232320 root 258
inode 325 offset 2232320 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f53
325
# /bin/btrfs inspect-internal logical-resolve -P 272343040 /mnt/scratch
inode 325 offset 2428928 root 258
inode 325 offset 2428928 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f53
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f14
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f14 is 3108864 (759 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      29:      66628..     66642:     15:         15: shared
   1:       43..      63:       3864..      3884:     21:      66656: shared
   2:       64..      71:       5300..      5307:      8:       3885: shared
   3:       80..      80:      67783..     67783:      1:       5316: shared
   4:       81..      95:      70995..     71009:     15:      67784: shared
   5:       96..     100:      67799..     67803:      5:      71010: shared
   6:      146..     174:       4242..      4270:     29:      67849: shared
   7:      206..     208:      69238..     69240:      3:       4302: unwritten,shared
   8:      227..     232:       4280..      4285:      6:      69259: shared
   9:      233..     240:      71960..     71967:      8:       4286: shared
  10:      241..     241:      71582..     71582:      1:      71968: shared
  11:      242..     251:       4295..      4304:     10:      71583: shared
  12:      252..     252:       4322..      4322:      1:       4305: shared
  13:      291..     296:      59118..     59123:      6:       4361: unwritten,shared
  14:      304..     317:      64987..     65000:     14:      59131: shared
  15:      322..     337:      59300..     59315:     16:      65005: shared
  16:      338..     338:      67001..     67001:      1:      59316: shared
  17:      410..     418:      70087..     70095:      9:      67073: shared
  18:      515..     525:      66238..     66248:     11:      70192: shared
  19:      551..     555:      67804..     67808:      5:      66274: shared
  20:      556..     556:      68384..     68384:      1:      67809: shared
  21:      624..     653:      71552..     71581:     30:      68452: shared
  22:      662..     678:      71010..     71026:     17:      71590: shared
  23:      739..     743:      68385..     68389:      5:      71087: shared
  24:      744..     744:      69072..     69072:      1:      68390: shared
  25:      758..     758:      68894..     68894:      1:      69086: last,shared,eof
/mnt/scratch/snap1/p0/d2/f14: 26 extents found
after filter: 272908288#61440#61440#shared 15826944#86016#176128#shared 21708800#32768#262144#shared 277639168#4096#327680#shared 290795520#61440#331776#shared 277704704#20480#393216#shared 17375232#118784#598016#shared 283598848#12288#843776#unwritten,shared 17530880#24576#929792#shared 294748160#32768#954368#shared 293199872#4096#987136#shared 17592320#40960#991232#shared 17702912#4096#1032192#shared 242147328#24576#1191936#unwritten,shared 266186752#57344#1245184#shared 242892800#65536#1318912#shared 274436096#4096#1384448#shared 287076352#36864#1679360#shared 271310848#45056#2109440#shared 277725184#20480#2256896#shared 280100864#4096#2277376#shared 293076992#122880#2555904#shared 290856960#69632#2711552#shared 280104960#20480#3026944#shared 282918912#4096#3047424#shared 282189824#4096#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 272908288 /mnt/scratch
inode 275 offset 61440 root 258
inode 275 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 15826944 /mnt/scratch
inode 275 offset 176128 root 258
inode 275 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 21708800 /mnt/scratch
inode 275 offset 262144 root 258
inode 275 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 277639168 /mnt/scratch
inode 275 offset 327680 root 258
inode 275 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 290795520 /mnt/scratch
inode 275 offset 331776 root 258
inode 275 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 17375232 /mnt/scratch
inode 275 offset 598016 root 258
inode 275 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 283598848 /mnt/scratch
inode 275 offset 843776 root 258
inode 275 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 17530880 /mnt/scratch
inode 275 offset 929792 root 258
inode 275 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 294748160 /mnt/scratch
inode 275 offset 954368 root 258
inode 275 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 293199872 /mnt/scratch
inode 275 offset 987136 root 258
inode 275 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 275 offset 991232 root 258
inode 275 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 17702912 /mnt/scratch
inode 275 offset 1032192 root 258
inode 275 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 242147328 /mnt/scratch
inode 275 offset 1191936 root 258
inode 275 offset 1191936 root 5
inode 294 offset 1200128 root 5
inode 294 offset 1200128 root 5
inode 280 offset 946176 root 5
inode 280 offset 221184 root 5
inode 280 offset 946176 root 5
inode 280 offset 946176 root 5
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 5
inode 268 offset 1089536 root 5
inode 292 offset 311296 root 5
inode 299 offset 913408 root 5
inode 301 offset 585728 root 5
inode 299 offset 454656 root 5
inode 299 offset 913408 root 5
inode 262 offset 3461120 root 5
inode 272 offset 1007616 root 258
inode 272 offset 1007616 root 5
inode 264 offset 172032 root 258
inode 264 offset 1036288 root 258
inode 264 offset 1036288 root 258
inode 264 offset 172032 root 5
inode 264 offset 1036288 root 5
inode 264 offset 1036288 root 5
inode 280 offset 221184 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 299 offset 454656 root 258
inode 299 offset 913408 root 258
inode 301 offset 585728 root 258
inode 299 offset 913408 root 258
inode 262 offset 3461120 root 258
inode 292 offset 311296 root 258
inode 294 offset 1200128 root 258
inode 294 offset 1200128 root 258
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 266186752 /mnt/scratch
inode 275 offset 1245184 root 258
inode 275 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 242892800 /mnt/scratch
inode 275 offset 1318912 root 258
inode 275 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 274436096 /mnt/scratch
inode 275 offset 1384448 root 258
inode 275 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 287076352 /mnt/scratch
inode 275 offset 1679360 root 258
inode 275 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 271310848 /mnt/scratch
inode 459 offset 565248 root 258
inode 275 offset 2109440 root 258
inode 459 offset 565248 root 5
inode 275 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 277725184 /mnt/scratch
inode 275 offset 2256896 root 258
inode 275 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 280100864 /mnt/scratch
inode 275 offset 2277376 root 258
inode 275 offset 2277376 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 293076992 /mnt/scratch
inode 275 offset 2555904 root 258
inode 275 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 290856960 /mnt/scratch
inode 275 offset 2711552 root 258
inode 275 offset 2711552 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518564455
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 280104960 /mnt/scratch
inode 275 offset 3026944 root 258
inode 275 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 282918912 /mnt/scratch
inode 275 offset 3047424 root 258
inode 275 offset 3047424 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/f14
275
# /bin/btrfs inspect-internal logical-resolve -P 282189824 /mnt/scratch
inode 275 offset 3104768 root 258
inode 275 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d161/f187
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d161/f187 is 80425 (20 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      19:      72098..     72114:     17:          3: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d161/f187: 1 extent found
after filter: 295313408#69632#12288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d161/f187
560
# /bin/btrfs inspect-internal logical-resolve -P 295313408 /mnt/scratch
inode 560 offset 12288 root 258
inode 560 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 560 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d161/f187
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110 is 1121783 (274 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       91..      91:      69382..     69382:      1:         91: shared
   1:       92..     105:      68624..     68637:     14:      69383: shared
   2:      106..     106:      70181..     70181:      1:      68638: shared
   3:      169..     184:      70182..     70197:     16:             shared
   4:      185..     185:      72171..     72171:      1:      70198: shared
   5:      258..     273:      72172..     72187:     16:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110: 4 extents found
after filter: 284188672#4096#372736#shared 281083904#57344#376832#shared 287461376#4096#434176#shared 287465472#65536#692224#shared 295612416#4096#757760#shared 295616512#65536#1056768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 284188672 /mnt/scratch
inode 470 offset 372736 root 258
inode 470 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 281083904 /mnt/scratch
inode 470 offset 376832 root 258
inode 470 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 287461376 /mnt/scratch
inode 470 offset 434176 root 258
inode 470 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 287465472 /mnt/scratch
inode 470 offset 692224 root 258
inode 470 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 295612416 /mnt/scratch
inode 470 offset 757760 root 258
inode 470 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
470
# /bin/btrfs inspect-internal logical-resolve -P 295616512 /mnt/scratch
inode 470 offset 1056768 root 258
inode 470 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 470 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/de3/f110
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f19
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f19 is 3108864 (759 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      29:      66628..     66642:     15:         15: shared
   1:       43..      63:       3864..      3884:     21:      66656: shared
   2:       64..      71:       5300..      5307:      8:       3885: shared
   3:       80..      80:      67783..     67783:      1:       5316: shared
   4:       81..      95:      70995..     71009:     15:      67784: shared
   5:       96..     100:      67799..     67803:      5:      71010: shared
   6:      146..     174:       4242..      4270:     29:      67849: shared
   7:      206..     208:      69238..     69240:      3:       4302: unwritten,shared
   8:      227..     232:       4280..      4285:      6:      69259: shared
   9:      233..     240:      71960..     71967:      8:       4286: shared
  10:      241..     241:      71582..     71582:      1:      71968: shared
  11:      242..     251:       4295..      4304:     10:      71583: shared
  12:      252..     252:       4322..      4322:      1:       4305: shared
  13:      291..     296:      59118..     59123:      6:       4361: unwritten,shared
  14:      304..     317:      64987..     65000:     14:      59131: shared
  15:      322..     337:      59300..     59315:     16:      65005: shared
  16:      338..     338:      67001..     67001:      1:      59316: shared
  17:      410..     418:      70087..     70095:      9:      67073: shared
  18:      515..     525:      66238..     66248:     11:      70192: shared
  19:      551..     555:      67804..     67808:      5:      66274: shared
  20:      556..     556:      68384..     68384:      1:      67809: shared
  21:      624..     653:      71552..     71581:     30:      68452: shared
  22:      662..     678:      71010..     71026:     17:      71590: shared
  23:      739..     743:      68385..     68389:      5:      71087: shared
  24:      744..     744:      69072..     69072:      1:      68390: shared
  25:      758..     758:      68894..     68894:      1:      69086: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/f19: 26 extents found
after filter: 272908288#61440#61440#shared 15826944#86016#176128#shared 21708800#32768#262144#shared 277639168#4096#327680#shared 290795520#61440#331776#shared 277704704#20480#393216#shared 17375232#118784#598016#shared 283598848#12288#843776#unwritten,shared 17530880#24576#929792#shared 294748160#32768#954368#shared 293199872#4096#987136#shared 17592320#40960#991232#shared 17702912#4096#1032192#shared 242147328#24576#1191936#unwritten,shared 266186752#57344#1245184#shared 242892800#65536#1318912#shared 274436096#4096#1384448#shared 287076352#36864#1679360#shared 271310848#45056#2109440#shared 277725184#20480#2256896#shared 280100864#4096#2277376#shared 293076992#122880#2555904#shared 290856960#69632#2711552#shared 280104960#20480#3026944#shared 282918912#4096#3047424#shared 282189824#4096#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 272908288 /mnt/scratch
inode 275 offset 61440 root 258
inode 275 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 15826944 /mnt/scratch
inode 275 offset 176128 root 258
inode 275 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 21708800 /mnt/scratch
inode 275 offset 262144 root 258
inode 275 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 277639168 /mnt/scratch
inode 275 offset 327680 root 258
inode 275 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 290795520 /mnt/scratch
inode 275 offset 331776 root 258
inode 275 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 17375232 /mnt/scratch
inode 275 offset 598016 root 258
inode 275 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 283598848 /mnt/scratch
inode 275 offset 843776 root 258
inode 275 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 17530880 /mnt/scratch
inode 275 offset 929792 root 258
inode 275 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 294748160 /mnt/scratch
inode 275 offset 954368 root 258
inode 275 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 293199872 /mnt/scratch
inode 275 offset 987136 root 258
inode 275 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 275 offset 991232 root 258
inode 275 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 17702912 /mnt/scratch
inode 275 offset 1032192 root 258
inode 275 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 242147328 /mnt/scratch
inode 275 offset 1191936 root 258
inode 275 offset 1191936 root 5
inode 294 offset 1200128 root 5
inode 294 offset 1200128 root 5
inode 280 offset 946176 root 5
inode 280 offset 221184 root 5
inode 280 offset 946176 root 5
inode 280 offset 946176 root 5
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 5
inode 268 offset 1089536 root 5
inode 292 offset 311296 root 5
inode 299 offset 913408 root 5
inode 301 offset 585728 root 5
inode 299 offset 454656 root 5
inode 299 offset 913408 root 5
inode 262 offset 3461120 root 5
inode 272 offset 1007616 root 258
inode 272 offset 1007616 root 5
inode 264 offset 172032 root 258
inode 264 offset 1036288 root 258
inode 264 offset 1036288 root 258
inode 264 offset 172032 root 5
inode 264 offset 1036288 root 5
inode 264 offset 1036288 root 5
inode 280 offset 221184 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 299 offset 454656 root 258
inode 299 offset 913408 root 258
inode 301 offset 585728 root 258
inode 299 offset 913408 root 258
inode 262 offset 3461120 root 258
inode 292 offset 311296 root 258
inode 294 offset 1200128 root 258
inode 294 offset 1200128 root 258
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 266186752 /mnt/scratch
inode 275 offset 1245184 root 258
inode 275 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 242892800 /mnt/scratch
inode 275 offset 1318912 root 258
inode 275 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 274436096 /mnt/scratch
inode 275 offset 1384448 root 258
inode 275 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 287076352 /mnt/scratch
inode 275 offset 1679360 root 258
inode 275 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 271310848 /mnt/scratch
inode 459 offset 565248 root 258
inode 275 offset 2109440 root 258
inode 459 offset 565248 root 5
inode 275 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 277725184 /mnt/scratch
inode 275 offset 2256896 root 258
inode 275 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 280100864 /mnt/scratch
inode 275 offset 2277376 root 258
inode 275 offset 2277376 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 293076992 /mnt/scratch
inode 275 offset 2555904 root 258
inode 275 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 290856960 /mnt/scratch
inode 275 offset 2711552 root 258
inode 275 offset 2711552 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 280104960 /mnt/scratch
inode 275 offset 3026944 root 258
inode 275 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 282918912 /mnt/scratch
inode 275 offset 3047424 root 258
inode 275 offset 3047424 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519107932
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f19
275
# /bin/btrfs inspect-internal logical-resolve -P 282189824 /mnt/scratch
inode 275 offset 3104768 root 258
inode 275 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162 is 1246959 (305 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      171..     179:      69206..     69214:      9:        171: shared
   1:      276..     304:      69655..     69683:     29:      69311: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162: 2 extents found
after filter: 283467776#36864#700416#shared 285306880#118784#1130496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162
428
# /bin/btrfs inspect-internal logical-resolve -P 283467776 /mnt/scratch
inode 428 offset 700416 root 258
inode 428 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162
428
# /bin/btrfs inspect-internal logical-resolve -P 285306880 /mnt/scratch
inode 428 offset 1130496 root 258
inode 428 offset 1130496 root 5
# /bin/btrfs inspect-internal inode-resolve 428 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f162
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/f33
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/f33 is 1924643 (470 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      35:      70300..     70310:     11:         25: shared
   1:       36..      67:      61798..     61829:     32:      70311: unwritten,shared
   2:       68..      75:       4658..      4665:      8:      61830: unwritten,shared
   3:       79..      88:       4669..      4678:     10:             unwritten,shared
   4:       89..      94:      61830..     61835:      6:       4679: unwritten,shared
   5:       95..      96:      59102..     59103:      2:      61836: unwritten,shared
   6:       97..     104:      61836..     61843:      8:      59104: unwritten,shared
   7:      105..     119:      59112..     59126:     15:      61844: unwritten,shared
   8:      120..     122:       4412..      4414:      3:      59127: unwritten,shared
   9:      123..     148:      61844..     61869:     26:       4415: unwritten,shared
  10:      149..     169:      61538..     61558:     21:      61870: shared
  11:      170..     172:      61870..     61872:      3:      61559: unwritten,shared
  12:      196..     204:      61896..     61904:      9:             unwritten,shared
  13:      205..     206:      61905..     61906:      2:             shared
  14:      207..     207:      62220..     62220:      1:      61907: shared
  15:      208..     224:      59103..     59119:     17:      62221: unwritten,shared
  16:      225..     232:      61907..     61914:      8:      59120: unwritten,shared
  17:      310..     316:      61823..     61829:      7:      61992: unwritten,shared
  18:      317..     327:       4658..      4668:     11:      61830: unwritten,shared
  19:      462..     469:      59556..     59563:      8:       4803: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/f33: 17 extents found
after filter: 287948800#45056#102400#shared 253124608#131072#147456#unwritten,shared 19079168#32768#278528#unwritten,shared 19124224#40960#323584#unwritten,shared 253255680#24576#364544#unwritten,shared 242081792#8192#389120#unwritten,shared 253280256#32768#397312#unwritten,shared 242122752#61440#430080#unwritten,shared 18071552#12288#491520#unwritten,shared 253313024#106496#503808#unwritten,shared 252059648#86016#610304#shared 253419520#12288#696320#unwritten,shared 253526016#36864#802816#unwritten,shared 253562880#8192#839680#shared 254853120#4096#847872#shared 242085888#69632#851968#unwritten,shared 253571072#32768#921600#unwritten,shared 253227008#28672#1269760#unwritten,shared 19079168#45056#1298432#unwritten,shared 243941376#32768#1892352#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 287948800 /mnt/scratch
inode 299 offset 102400 root 258
inode 299 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253124608 /mnt/scratch
inode 299 offset 147456 root 258
inode 299 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 19124224 /mnt/scratch
inode 299 offset 323584 root 258
inode 299 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253255680 /mnt/scratch
inode 299 offset 364544 root 258
inode 299 offset 364544 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253280256 /mnt/scratch
inode 299 offset 397312 root 258
inode 299 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 242122752 /mnt/scratch
inode 294 offset 1970176 root 5
inode 294 offset 1970176 root 5
inode 294 offset 1970176 root 5
inode 280 offset 720896 root 5
inode 280 offset 921600 root 5
inode 280 offset 720896 root 5
inode 280 offset 921600 root 5
inode 280 offset 720896 root 5
inode 280 offset 921600 root 5
inode 299 offset 888832 root 5
inode 299 offset 430080 root 5
inode 299 offset 888832 root 5
inode 262 offset 3436544 root 5
inode 325 offset 73728 root 5
inode 264 offset 147456 root 258
inode 264 offset 1011712 root 258
inode 264 offset 1011712 root 258
inode 264 offset 147456 root 5
inode 264 offset 1011712 root 5
inode 264 offset 1011712 root 5
inode 325 offset 73728 root 258
inode 280 offset 720896 root 258
inode 280 offset 921600 root 258
inode 280 offset 720896 root 258
inode 280 offset 921600 root 258
inode 280 offset 720896 root 258
inode 280 offset 921600 root 258
inode 299 offset 430080 root 258
inode 299 offset 888832 root 258
inode 299 offset 888832 root 258
inode 262 offset 3436544 root 258
inode 294 offset 1970176 root 258
inode 294 offset 1970176 root 258
inode 294 offset 1970176 root 258
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 18071552 /mnt/scratch
inode 299 offset 491520 root 258
inode 299 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253313024 /mnt/scratch
inode 299 offset 503808 root 258
inode 299 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 252059648 /mnt/scratch
inode 299 offset 610304 root 258
inode 299 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253419520 /mnt/scratch
inode 299 offset 696320 root 258
inode 299 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253526016 /mnt/scratch
inode 299 offset 802816 root 258
inode 299 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253562880 /mnt/scratch
inode 299 offset 839680 root 258
inode 299 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 254853120 /mnt/scratch
inode 299 offset 847872 root 258
inode 299 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 242085888 /mnt/scratch
inode 294 offset 1933312 root 5
inode 294 offset 290816 root 5
inode 294 offset 1933312 root 5
inode 294 offset 1933312 root 5
inode 346 offset 282624 root 5
inode 280 offset 684032 root 5
inode 280 offset 884736 root 5
inode 280 offset 159744 root 5
inode 280 offset 684032 root 5
inode 280 offset 884736 root 5
inode 280 offset 684032 root 5
inode 280 offset 884736 root 5
inode 268 offset 532480 root 258
inode 268 offset 1028096 root 258
inode 268 offset 1028096 root 258
inode 268 offset 532480 root 5
inode 268 offset 1028096 root 5
inode 268 offset 1028096 root 5
inode 299 offset 851968 root 5
inode 299 offset 393216 root 5
inode 299 offset 851968 root 5
inode 307 offset 36864 root 5
inode 325 offset 36864 root 5
inode 324 offset 610304 root 5
inode 264 offset 110592 root 258
inode 264 offset 110592 root 5
inode 325 offset 36864 root 258
inode 324 offset 610304 root 258
inode 280 offset 159744 root 258
inode 280 offset 684032 root 258
inode 280 offset 884736 root 258
inode 280 offset 684032 root 258
inode 280 offset 884736 root 258
inode 280 offset 684032 root 258
inode 280 offset 884736 root 258
inode 299 offset 393216 root 258
inode 299 offset 851968 root 258
inode 299 offset 851968 root 258
inode 307 offset 36864 root 258
inode 346 offset 282624 root 258
inode 294 offset 290816 root 258
inode 294 offset 1933312 root 258
inode 294 offset 1933312 root 258
inode 294 offset 1933312 root 258
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253571072 /mnt/scratch
inode 299 offset 921600 root 258
inode 299 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 253227008 /mnt/scratch
inode 320 offset 995328 root 258
inode 320 offset 995328 root 258
inode 415 offset 413696 root 258
inode 304 offset 499712 root 258
inode 281 offset 110592 root 258
inode 299 offset 1269760 root 258
inode 299 offset 249856 root 258
inode 299 offset 1269760 root 258
inode 320 offset 995328 root 5
inode 320 offset 995328 root 5
inode 415 offset 413696 root 5
inode 304 offset 499712 root 5
inode 281 offset 110592 root 5
inode 299 offset 1269760 root 5
inode 299 offset 249856 root 5
inode 299 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f33
299
# /bin/btrfs inspect-internal logical-resolve -P 243941376 /mnt/scratch
inode 299 offset 1892352 root 258
inode 299 offset 1892352 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f33
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e is 2207744 (539 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      44:      61536..     61537:      2:         43: shared
   1:       45..      61:      59680..     59696:     17:      61538: shared
   2:      125..     139:      60279..     60293:     15:      59760: shared
   3:      200..     217:       3958..      3975:     18:      60354: shared
   4:      218..     218:      59278..     59278:      1:       3976: shared
   5:      269..     269:      59110..     59110:      1:      59329: unwritten,shared
   6:      304..     311:      59835..     59842:      8:      59145: shared
   7:      385..     397:      63052..     63064:     13:      59916: unwritten,shared
   8:      468..     468:      70199..     70199:      1:      63135: shared
   9:      521..     538:      69814..     69831:     18:      70252: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e: 10 extents found
after filter: 252051456#8192#176128#shared 244449280#69632#184320#shared 246902784#61440#512000#shared 16211968#73728#819200#shared 242802688#4096#892928#shared 242114560#4096#1101824#unwritten,shared 245084160#32768#1245184#shared 258260992#53248#1576960#unwritten,shared 287535104#4096#1916928#shared 285958144#73728#2134016#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 252051456 /mnt/scratch
inode 269 offset 176128 root 258
inode 269 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 244449280 /mnt/scratch
inode 269 offset 184320 root 258
inode 269 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 246902784 /mnt/scratch
inode 269 offset 512000 root 258
inode 269 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 16211968 /mnt/scratch
inode 269 offset 819200 root 258
inode 269 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 242802688 /mnt/scratch
inode 269 offset 892928 root 258
inode 269 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 242114560 /mnt/scratch
inode 294 offset 1961984 root 5
inode 294 offset 1961984 root 5
inode 294 offset 1961984 root 5
inode 346 offset 311296 root 5
inode 280 offset 712704 root 5
inode 280 offset 913408 root 5
inode 280 offset 712704 root 5
inode 280 offset 913408 root 5
inode 280 offset 712704 root 5
inode 280 offset 913408 root 5
inode 299 offset 880640 root 5
inode 299 offset 880640 root 5
inode 325 offset 65536 root 5
inode 264 offset 139264 root 258
inode 264 offset 1003520 root 258
inode 264 offset 1003520 root 258
inode 264 offset 139264 root 5
inode 264 offset 1003520 root 5
inode 264 offset 1003520 root 5
inode 269 offset 1101824 root 258
inode 269 offset 1101824 root 5
inode 325 offset 65536 root 258
inode 280 offset 712704 root 258
inode 280 offset 913408 root 258
inode 280 offset 712704 root 258
inode 280 offset 913408 root 258
inode 280 offset 712704 root 258
inode 280 offset 913408 root 258
inode 299 offset 880640 root 258
inode 299 offset 880640 root 258
inode 346 offset 311296 root 258
inode 294 offset 1961984 root 258
inode 294 offset 1961984 root 258
inode 294 offset 1961984 root 258
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 245084160 /mnt/scratch
inode 269 offset 1245184 root 258
inode 269 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 287535104 /mnt/scratch
inode 269 offset 1916928 root 258
inode 269 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
269
# /bin/btrfs inspect-internal logical-resolve -P 285958144 /mnt/scratch
inode 269 offset 2134016 root 258
inode 269 offset 2134016 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f9e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31 is 3335042 (815 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      151..     155:       5260..      5264:      5:        151: shared
   1:      162..     169:      69037..     69044:      8:       5271: shared
   2:      224..     238:       5049..      5063:     15:      69099: shared
   3:      239..     253:      67952..     67966:     15:       5064: shared
   4:      254..     254:       5079..      5079:      1:      67967: shared
   5:      374..     387:      59370..     59383:     14:       5199: shared
   6:      388..     388:      61307..     61307:      1:      59384: shared
   7:      536..     551:      61308..     61323:     16:             shared
   8:      552..     552:      68411..     68411:      1:      61324: shared
   9:      612..     629:      68562..     68579:     18:      68471: shared
  10:      792..     814:      68412..     68434:     23:      68742: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31: 10 extents found
after filter: 21544960#20480#618496#shared 282775552#32768#663552#shared 20680704#61440#917504#shared 278331392#61440#978944#shared 20803584#4096#1040384#shared 243179520#57344#1531904#shared 251113472#4096#1589248#shared 251117568#65536#2195456#shared 280211456#4096#2260992#shared 280829952#73728#2506752#shared 280215552#94208#3244032#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 21544960 /mnt/scratch
inode 297 offset 618496 root 258
inode 297 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 282775552 /mnt/scratch
inode 297 offset 663552 root 258
inode 297 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 20680704 /mnt/scratch
inode 297 offset 917504 root 258
inode 297 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 278331392 /mnt/scratch
inode 297 offset 978944 root 258
inode 297 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 20803584 /mnt/scratch
inode 297 offset 1040384 root 258
inode 297 offset 1040384 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 243179520 /mnt/scratch
inode 297 offset 1531904 root 258
inode 297 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 251113472 /mnt/scratch
inode 297 offset 1589248 root 258
inode 297 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 251117568 /mnt/scratch
inode 297 offset 2195456 root 258
inode 297 offset 2195456 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 280211456 /mnt/scratch
inode 297 offset 2260992 root 258
inode 297 offset 2260992 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 280829952 /mnt/scratch
inode 297 offset 2506752 root 258
inode 297 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
297
# /bin/btrfs inspect-internal logical-resolve -P 280215552 /mnt/scratch
inode 297 offset 3244032 root 258
inode 297 offset 3244032 root 5
# /bin/btrfs inspect-internal inode-resolve 297 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f31
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128 is 1159215 (284 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      169..     173:      68951..     68955:      5:        169: unwritten,shared
   1:      174..     177:      68956..     68959:      4:             shared
   2:      178..     254:      68960..     69036:     77:             unwritten,shared
   3:      267..     283:      70229..     70245:     17:      69049: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128: 2 extents found
after filter: 282423296#20480#692224#unwritten,shared 282443776#16384#712704#shared 282460160#315392#729088#unwritten,shared 287657984#69632#1093632#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
488
# /bin/btrfs inspect-internal logical-resolve -P 282423296 /mnt/scratch
inode 488 offset 692224 root 258
inode 488 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
488
# /bin/btrfs inspect-internal logical-resolve -P 282443776 /mnt/scratch
inode 488 offset 712704 root 258
inode 488 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
488
# /bin/btrfs inspect-internal logical-resolve -P 282460160 /mnt/scratch
inode 488 offset 729088 root 258
inode 488 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
488
# /bin/btrfs inspect-internal logical-resolve -P 287657984 /mnt/scratch
inode 488 offset 1093632 root 258
inode 488 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 488 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/f128
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad is 2183168 (533 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       59..      72:      67814..     67827:     14:         59: shared
   1:      279..     308:      69258..     69287:     30:      68034: shared
   2:      532..     532:      69349..     69349:      1:      69511: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad: 3 extents found
after filter: 277766144#57344#241664#shared 283680768#122880#1142784#shared 284053504#4096#2179072#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
443
# /bin/btrfs inspect-internal logical-resolve -P 277766144 /mnt/scratch
inode 443 offset 241664 root 258
inode 443 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
443
# /bin/btrfs inspect-internal logical-resolve -P 283680768 /mnt/scratch
inode 443 offset 1142784 root 258
inode 443 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
443
# /bin/btrfs inspect-internal logical-resolve -P 284053504 /mnt/scratch
inode 443 offset 2179072 root 258
inode 443 offset 2179072 root 5
# /bin/btrfs inspect-internal inode-resolve 443 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d163/f1ad
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6 is 1155246 (283 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      30:      62629..     62638:     10:         21: unwritten,shared
   1:       46..      78:      62654..     62686:     33:             unwritten,shared
   2:      102..     137:      62710..     62745:     36:             unwritten,shared
   3:      138..     143:      72115..     72120:      6:      62746: shared
   4:      255..     282:      65310..     65337:     28:      72232: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6: 3 extents found
after filter: 256528384#40960#86016#unwritten,shared 256630784#135168#188416#unwritten,shared 256860160#147456#417792#unwritten,shared 295383040#24576#565248#shared 267509760#114688#1044480#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
391
# /bin/btrfs inspect-internal logical-resolve -P 256528384 /mnt/scratch
inode 391 offset 86016 root 258
inode 391 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
391
# /bin/btrfs inspect-internal logical-resolve -P 256630784 /mnt/scratch
inode 391 offset 188416 root 258
inode 391 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
391
# /bin/btrfs inspect-internal logical-resolve -P 256860160 /mnt/scratch
inode 391 offset 417792 root 258
inode 391 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
391
# /bin/btrfs inspect-internal logical-resolve -P 295383040 /mnt/scratch
inode 391 offset 565248 root 258
inode 391 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518986998
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
391
# /bin/btrfs inspect-internal logical-resolve -P 267509760 /mnt/scratch
inode 391 offset 1044480 root 258
inode 391 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/fa6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/f19d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/f19d is 907156 (222 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      89:      70683..     70726:     44:         46: unwritten,shared
   1:      113..     132:      70750..     70769:     20:             unwritten,shared
   2:      217..     221:      71968..     71972:      5:      70854: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d3c/f19d: 2 extents found
after filter: 289517568#180224#188416#unwritten,shared 289792000#81920#462848#unwritten,shared 294780928#20480#888832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f19d
575
# /bin/btrfs inspect-internal logical-resolve -P 289517568 /mnt/scratch
inode 575 offset 188416 root 258
inode 575 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 575 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f19d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f19d
575
# /bin/btrfs inspect-internal logical-resolve -P 289792000 /mnt/scratch
inode 575 offset 462848 root 258
inode 575 offset 462848 root 5
# /bin/btrfs inspect-internal inode-resolve 575 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f19d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f19d
575
# /bin/btrfs inspect-internal logical-resolve -P 294780928 /mnt/scratch
inode 575 offset 888832 root 258
inode 575 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 575 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f19d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d is 1629993 (398 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      176..     192:      69852..     69868:     17:        176: shared
   1:      193..     193:      70876..     70876:      1:      69869: last,shared
/mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d: 2 extents found
after filter: 286113792#69632#720896#shared 290308096#4096#790528#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d
526
# /bin/btrfs inspect-internal logical-resolve -P 286113792 /mnt/scratch
inode 526 offset 720896 root 258
inode 526 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 526 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d
526
# /bin/btrfs inspect-internal logical-resolve -P 290308096 /mnt/scratch
inode 526 offset 790528 root 258
inode 526 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 526 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/d13a/d14a/f15d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/f114
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/f114 is 319488 (78 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       57..      77:      67322..     67342:     21:         57: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d3c/f114: 1 extent found
after filter: 275750912#86016#233472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f114
458
# /bin/btrfs inspect-internal logical-resolve -P 275750912 /mnt/scratch
inode 458 offset 233472 root 258
inode 458 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 458 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f114
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f29
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f29 is 3220540 (787 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       79..     109:      65579..     65609:     31:         79: shared
   1:      122..     145:      58729..     58752:     24:      65622: shared
   2:      158..     189:      64481..     64512:     32:      58765: shared
   3:      190..     201:       5288..      5299:     12:      64513: shared
   4:      256..     284:      58753..     58781:     29:       5354: shared
   5:      285..     285:      59385..     59385:      1:      58782: shared
   6:      390..     395:      63059..     63064:      6:      59490: unwritten,shared
   7:      421..     443:      61355..     61377:     23:      63090: shared
   8:      444..     450:      60771..     60777:      7:      61378: shared
   9:      458..     466:      63015..     63023:      9:      60785: shared
  10:      508..     511:      61826..     61829:      4:      63065: unwritten,shared
  11:      512..     522:       4658..      4668:     11:      61830: unwritten,shared
  12:      560..     593:      63052..     63085:     34:       4706: unwritten,shared
  13:      594..     594:      65693..     65693:      1:      63086: shared
  14:      600..     607:      65610..     65617:      8:      65699: shared
  15:      643..     644:      67031..     67032:      2:      65653: unwritten,shared
  16:      657..     712:      67045..     67100:     56:             unwritten,shared
  17:      725..     757:      67113..     67145:     33:             unwritten,shared
  18:      758..     786:      67002..     67030:     29:      67146: shared,eof
  19:      787..     894:      67146..     67253:    108:      67031: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/f29: 18 extents found
after filter: 268611584#126976#323584#shared 240553984#98304#499712#shared 264114176#131072#647168#shared 21659648#49152#778240#shared 240652288#118784#1048576#shared 243240960#4096#1167360#shared 258289664#24576#1597440#unwritten,shared 251310080#94208#1724416#shared 248918016#28672#1818624#shared 258109440#36864#1875968#shared 253239296#16384#2080768#unwritten,shared 19079168#45056#2097152#unwritten,shared 258260992#139264#2293760#unwritten,shared 269078528#4096#2433024#shared 268738560#32768#2457600#shared 274558976#8192#2633728#unwritten,shared 274616320#229376#2691072#unwritten,shared 274894848#135168#2969600#unwritten,shared 274440192#118784#3104768#shared,eof 275030016#442368#3223552#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 268611584 /mnt/scratch
inode 290 offset 323584 root 258
inode 290 offset 323584 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 240553984 /mnt/scratch
inode 290 offset 499712 root 258
inode 290 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 264114176 /mnt/scratch
inode 290 offset 647168 root 258
inode 290 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 21659648 /mnt/scratch
inode 290 offset 778240 root 258
inode 290 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 240652288 /mnt/scratch
inode 290 offset 1048576 root 258
inode 290 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 243240960 /mnt/scratch
inode 290 offset 1167360 root 258
inode 290 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 258289664 /mnt/scratch
inode 367 offset 458752 root 5
inode 365 offset 1421312 root 5
inode 363 offset 991232 root 5
inode 304 offset 1073152 root 5
inode 353 offset 118784 root 5
inode 320 offset 1990656 root 5
inode 320 offset 802816 root 5
inode 320 offset 1990656 root 5
inode 269 offset 1605632 root 258
inode 269 offset 1605632 root 5
inode 290 offset 1597440 root 5
inode 290 offset 2322432 root 5
inode 290 offset 2322432 root 5
inode 292 offset 274432 root 5
inode 264 offset 2367488 root 258
inode 266 offset 143360 root 258
inode 264 offset 2367488 root 5
inode 266 offset 143360 root 5
inode 332 offset 114688 root 5
inode 397 offset 507904 root 258
inode 397 offset 507904 root 5
inode 376 offset 905216 root 258
inode 376 offset 905216 root 5
inode 280 offset 2211840 root 5
inode 385 offset 131072 root 5
inode 320 offset 802816 root 258
inode 320 offset 1990656 root 258
inode 320 offset 1990656 root 258
inode 363 offset 991232 root 258
inode 365 offset 1421312 root 258
inode 367 offset 458752 root 258
inode 292 offset 274432 root 258
inode 290 offset 2322432 root 258
inode 290 offset 1597440 root 258
inode 290 offset 2322432 root 258
inode 332 offset 114688 root 258
inode 280 offset 2211840 root 258
inode 385 offset 131072 root 258
inode 353 offset 118784 root 258
inode 304 offset 1073152 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 251310080 /mnt/scratch
inode 290 offset 1724416 root 258
inode 290 offset 1724416 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 248918016 /mnt/scratch
inode 346 offset 385024 root 258
inode 290 offset 1818624 root 258
inode 346 offset 385024 root 5
inode 290 offset 1818624 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 258109440 /mnt/scratch
inode 290 offset 1875968 root 258
inode 290 offset 1875968 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 253239296 /mnt/scratch
inode 320 offset 1007616 root 258
inode 320 offset 1007616 root 258
inode 281 offset 122880 root 258
inode 290 offset 2080768 root 258
inode 299 offset 1282048 root 258
inode 299 offset 262144 root 258
inode 299 offset 1282048 root 258
inode 320 offset 1007616 root 5
inode 320 offset 1007616 root 5
inode 281 offset 122880 root 5
inode 290 offset 2080768 root 5
inode 299 offset 1282048 root 5
inode 299 offset 262144 root 5
inode 299 offset 1282048 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 269078528 /mnt/scratch
inode 290 offset 2433024 root 258
inode 290 offset 2433024 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 268738560 /mnt/scratch
inode 290 offset 2457600 root 258
inode 290 offset 2457600 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 274558976 /mnt/scratch
inode 290 offset 2633728 root 258
inode 290 offset 2633728 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 274616320 /mnt/scratch
inode 290 offset 2691072 root 258
inode 290 offset 2691072 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 274894848 /mnt/scratch
inode 290 offset 2969600 root 258
inode 290 offset 2969600 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 274440192 /mnt/scratch
inode 290 offset 3104768 root 258
inode 290 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f29
290
# /bin/btrfs inspect-internal logical-resolve -P 275030016 /mnt/scratch
inode 290 offset 3223552 root 258
inode 290 offset 3223552 root 5
# /bin/btrfs inspect-internal inode-resolve 290 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f29
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee is 1052672 (257 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      112..     120:      65276..     65284:      9:        112: shared
   1:      121..     151:      66677..     66707:     31:      65285: unwritten,shared
   2:      166..     203:      66722..     66759:     38:             unwritten,shared
   3:      234..     246:      65766..     65778:     13:      66790: unwritten,shared
   4:      247..     256:      65779..     65788:     10:             shared,eof
   5:      257..     381:      65789..     65913:    125:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee: 3 extents found
after filter: 267370496#36864#458752#shared 273108992#126976#495616#unwritten,shared 273293312#155648#679936#unwritten,shared 269377536#53248#958464#unwritten,shared 269430784#40960#1011712#shared,eof 269471744#512000#1052672#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 267370496 /mnt/scratch
inode 447 offset 417792 root 258
inode 444 offset 458752 root 258
inode 447 offset 417792 root 5
inode 444 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 273108992 /mnt/scratch
inode 444 offset 495616 root 258
inode 444 offset 495616 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 273293312 /mnt/scratch
inode 444 offset 679936 root 258
inode 444 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 269377536 /mnt/scratch
inode 444 offset 958464 root 258
inode 444 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 269430784 /mnt/scratch
inode 444 offset 1011712 root 258
inode 444 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
444
# /bin/btrfs inspect-internal logical-resolve -P 269471744 /mnt/scratch
inode 444 offset 1052672 root 258
inode 444 offset 1052672 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518590328
# /bin/btrfs inspect-internal inode-resolve 444 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fee
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/f121
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/f121 is 311296 (76 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/f121: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86 is 2207744 (539 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..       7:      64972..     64979:      8:             shared
   1:        8..      28:      64716..     64736:     21:      64980: shared
   2:      105..     117:      63052..     63064:     13:      64813: unwritten,shared
   3:      122..     141:      61054..     61073:     20:      63069: shared
   4:      142..     142:      66148..     66148:      1:      61074: shared
   5:      335..     343:      66149..     66157:      9:             shared
   6:      344..     344:      70346..     70346:      1:      66158: shared
   7:      525..     538:      70146..     70159:     14:      70527: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86: 7 extents found
after filter: 266125312#32768#0#shared 265076736#86016#32768#shared 258260992#53248#430080#unwritten,shared 250077184#81920#499712#shared 270942208#4096#581632#shared 270946304#36864#1372160#shared 288137216#4096#1409024#shared 287318016#57344#2150400#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 266125312 /mnt/scratch
inode 367 offset 0 root 258
inode 367 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 265076736 /mnt/scratch
inode 280 offset 3141632 root 258
inode 367 offset 32768 root 258
inode 280 offset 3141632 root 5
inode 367 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 250077184 /mnt/scratch
inode 367 offset 499712 root 258
inode 367 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 270942208 /mnt/scratch
inode 367 offset 581632 root 258
inode 367 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 270946304 /mnt/scratch
inode 367 offset 1372160 root 258
inode 367 offset 1372160 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 288137216 /mnt/scratch
inode 367 offset 1409024 root 258
inode 367 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
367
# /bin/btrfs inspect-internal logical-resolve -P 287318016 /mnt/scratch
inode 367 offset 2150400 root 258
inode 367 offset 2150400 root 5
# /bin/btrfs inspect-internal inode-resolve 367 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f86
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/f2b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/f2b is 1486848 (363 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      67:      63053..     63059:      7:         61: unwritten,shared
   1:       72..      72:      63064..     63064:      1:             unwritten,shared
   2:       73..      84:      59115..     59126:     12:      63065: unwritten,shared
   3:      137..     155:      61975..     61993:     19:      59179: shared
   4:      165..     165:       4790..      4790:      1:      62003: shared
   5:      174..     200:       4622..      4648:     27:       4799: shared
   6:      269..     269:      62327..     62327:      1:       4717: last,shared
/mnt/scratch/snap1/p0/d2/d25/f2b: 6 extents found
after filter: 258265088#28672#249856#unwritten,shared 258310144#4096#294912#unwritten,shared 242135040#49152#299008#unwritten,shared 253849600#77824#561152#shared 19619840#4096#675840#shared 18931712#110592#712704#shared 255291392#4096#1101824#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 258265088 /mnt/scratch
inode 367 offset 434176 root 5
inode 365 offset 1396736 root 5
inode 304 offset 1048576 root 5
inode 320 offset 1966080 root 5
inode 320 offset 778240 root 5
inode 320 offset 1966080 root 5
inode 269 offset 1581056 root 258
inode 269 offset 1581056 root 5
inode 290 offset 2297856 root 5
inode 290 offset 2297856 root 5
inode 292 offset 249856 root 5
inode 264 offset 2342912 root 258
inode 264 offset 2342912 root 5
inode 332 offset 90112 root 5
inode 349 offset 327680 root 5
inode 376 offset 880640 root 258
inode 376 offset 880640 root 5
inode 307 offset 651264 root 5
inode 307 offset 532480 root 5
inode 307 offset 651264 root 5
inode 350 offset 655360 root 5
inode 280 offset 2187264 root 5
inode 385 offset 106496 root 5
inode 320 offset 778240 root 258
inode 320 offset 1966080 root 258
inode 320 offset 1966080 root 258
inode 307 offset 651264 root 258
inode 307 offset 532480 root 258
inode 307 offset 651264 root 258
inode 349 offset 327680 root 258
inode 292 offset 249856 root 258
inode 290 offset 2297856 root 258
inode 290 offset 2297856 root 258
inode 350 offset 655360 root 258
inode 332 offset 90112 root 258
inode 280 offset 2187264 root 258
inode 365 offset 1396736 root 258
inode 367 offset 434176 root 258
inode 385 offset 106496 root 258
inode 304 offset 1048576 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 258310144 /mnt/scratch
inode 367 offset 479232 root 5
inode 365 offset 1441792 root 5
inode 363 offset 1011712 root 5
inode 304 offset 1093632 root 5
inode 353 offset 139264 root 5
inode 320 offset 2011136 root 5
inode 320 offset 823296 root 5
inode 320 offset 2011136 root 5
inode 269 offset 1626112 root 258
inode 269 offset 1626112 root 5
inode 290 offset 1617920 root 5
inode 290 offset 2342912 root 5
inode 290 offset 2342912 root 5
inode 292 offset 294912 root 5
inode 264 offset 2387968 root 258
inode 266 offset 163840 root 258
inode 264 offset 2387968 root 5
inode 266 offset 163840 root 5
inode 332 offset 135168 root 5
inode 397 offset 528384 root 258
inode 397 offset 528384 root 5
inode 317 offset 294912 root 5
inode 317 offset 303104 root 5
inode 317 offset 294912 root 5
inode 317 offset 303104 root 5
inode 376 offset 925696 root 258
inode 376 offset 925696 root 5
inode 280 offset 2232320 root 5
inode 385 offset 151552 root 5
inode 317 offset 294912 root 258
inode 317 offset 303104 root 258
inode 317 offset 294912 root 258
inode 317 offset 303104 root 258
inode 320 offset 823296 root 258
inode 320 offset 2011136 root 258
inode 320 offset 2011136 root 258
inode 363 offset 1011712 root 258
inode 365 offset 1441792 root 258
inode 367 offset 479232 root 258
inode 292 offset 294912 root 258
inode 290 offset 2342912 root 258
inode 290 offset 1617920 root 258
inode 290 offset 2342912 root 258
inode 332 offset 135168 root 258
inode 280 offset 2232320 root 258
inode 385 offset 151552 root 258
inode 353 offset 139264 root 258
inode 304 offset 1093632 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 242135040 /mnt/scratch
inode 294 offset 1187840 root 5
inode 294 offset 1187840 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 208896 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
inode 268 offset 1077248 root 5
inode 292 offset 299008 root 5
inode 299 offset 901120 root 5
inode 301 offset 573440 root 5
inode 299 offset 442368 root 5
inode 299 offset 901120 root 5
inode 262 offset 3448832 root 5
inode 350 offset 94208 root 5
inode 272 offset 995328 root 258
inode 272 offset 995328 root 5
inode 264 offset 159744 root 258
inode 264 offset 1024000 root 258
inode 264 offset 1024000 root 258
inode 264 offset 159744 root 5
inode 264 offset 1024000 root 5
inode 264 offset 1024000 root 5
inode 280 offset 208896 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 299 offset 442368 root 258
inode 299 offset 901120 root 258
inode 301 offset 573440 root 258
inode 299 offset 901120 root 258
inode 350 offset 94208 root 258
inode 262 offset 3448832 root 258
inode 292 offset 299008 root 258
inode 294 offset 1187840 root 258
inode 294 offset 1187840 root 258
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 253849600 /mnt/scratch
inode 292 offset 561152 root 258
inode 292 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 19619840 /mnt/scratch
inode 292 offset 675840 root 258
inode 292 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 18931712 /mnt/scratch
inode 292 offset 712704 root 258
inode 292 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f2b
292
# /bin/btrfs inspect-internal logical-resolve -P 255291392 /mnt/scratch
inode 292 offset 1101824 root 258
inode 292 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 292 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f2b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/f12e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/f12e is 1090524 (267 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      37:      63052..     63064:     13:         25: unwritten,shared
   1:       60..      62:      63846..     63848:      3:      63087: shared
   2:      138..     140:      69652..     69654:      3:      63924: last,shared
/mnt/scratch/snap1/p0/d2/d55/f12e: 3 extents found
after filter: 258260992#53248#102400#unwritten,shared 261513216#12288#245760#shared 285294592#12288#565248#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/f12e
385
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 385 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/f12e
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/f12e
385
# /bin/btrfs inspect-internal logical-resolve -P 261513216 /mnt/scratch
inode 385 offset 245760 root 258
inode 385 offset 245760 root 5
# /bin/btrfs inspect-internal inode-resolve 385 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/f12e
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/f12e
385
# /bin/btrfs inspect-internal logical-resolve -P 285294592 /mnt/scratch
inode 385 offset 565248 root 258
inode 385 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 385 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/f12e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f1ae
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f1ae is 884736 (216 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      215..     215:      71703..     71703:      1:        215: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f1ae: 1 extent found
after filter: 293695488#4096#880640#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f1ae
586
# /bin/btrfs inspect-internal logical-resolve -P 293695488 /mnt/scratch
inode 586 offset 880640 root 258
inode 586 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 586 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f1ae
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f16d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f16d is 999961 (245 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      235..     244:      72161..     72170:     10:        235: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f16d: 1 extent found
after filter: 295571456#40960#962560#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f16d
539
# /bin/btrfs inspect-internal logical-resolve -P 295571456 /mnt/scratch
inode 539 offset 962560 root 258
inode 539 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 539 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f16d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f20
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f20 is 2037597 (498 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      72:       3687..      3705:     19:         54: shared
   1:       74..     102:      71614..     71642:     29:       3707: shared
   2:      260..     260:      69634..     69634:      1:      71800: shared
   3:      489..     497:      71951..     71959:      9:      69863: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/f20: 4 extents found
after filter: 15101952#77824#221184#shared 293330944#118784#303104#shared 285220864#4096#1064960#shared 294711296#36864#2002944#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f20
270
# /bin/btrfs inspect-internal logical-resolve -P 15101952 /mnt/scratch
inode 270 offset 221184 root 258
inode 270 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f20
270
# /bin/btrfs inspect-internal logical-resolve -P 293330944 /mnt/scratch
inode 270 offset 303104 root 258
inode 270 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f20
270
# /bin/btrfs inspect-internal logical-resolve -P 285220864 /mnt/scratch
inode 270 offset 1064960 root 258
inode 270 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f20
270
# /bin/btrfs inspect-internal logical-resolve -P 294711296 /mnt/scratch
inode 270 offset 2002944 root 258
inode 270 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7 is 637185 (156 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      130..     131:       4132..      4133:      2:        130: shared
   1:      144..     155:      71917..     71928:     12:       4146: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7: 2 extents found
after filter: 16924672#8192#532480#shared 294572032#49152#589824#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7
412
# /bin/btrfs inspect-internal logical-resolve -P 16924672 /mnt/scratch
inode 412 offset 532480 root 258
inode 412 offset 532480 root 5
inode 273 offset 90112 root 258
inode 273 offset 90112 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7
412
# /bin/btrfs inspect-internal logical-resolve -P 294572032 /mnt/scratch
inode 412 offset 589824 root 258
inode 412 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fc7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104 is 1808395 (442 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       63..      77:      71824..     71838:     15:         63: shared
   1:      138..     148:      66238..     66248:     11:      71899: shared
   2:      366..     395:      68214..     68243:     30:      66466: shared
   3:      396..     396:      71911..     71911:      1:      68244: shared
   4:      437..     441:      71912..     71916:      5:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104: 4 extents found
after filter: 294191104#61440#258048#shared 271310848#45056#565248#shared 279404544#122880#1499136#shared 294547456#4096#1622016#shared 294551552#20480#1789952#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
459
# /bin/btrfs inspect-internal logical-resolve -P 294191104 /mnt/scratch
inode 459 offset 258048 root 258
inode 459 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
459
# /bin/btrfs inspect-internal logical-resolve -P 271310848 /mnt/scratch
inode 459 offset 565248 root 258
inode 275 offset 2109440 root 258
inode 459 offset 565248 root 5
inode 275 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
459
# /bin/btrfs inspect-internal logical-resolve -P 279404544 /mnt/scratch
inode 459 offset 1499136 root 258
inode 459 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
459
# /bin/btrfs inspect-internal logical-resolve -P 294547456 /mnt/scratch
inode 459 offset 1622016 root 258
inode 459 offset 1622016 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
459
# /bin/btrfs inspect-internal logical-resolve -P 294551552 /mnt/scratch
inode 459 offset 1789952 root 258
inode 459 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 459 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f104
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/fe9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/fe9 is 655598 (161 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      133..     151:      68470..     68488:     19:        133: last,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/fe9: 1 extent found
after filter: 280453120#77824#544768#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/fe9
439
# /bin/btrfs inspect-internal logical-resolve -P 280453120 /mnt/scratch
inode 439 offset 544768 root 258
inode 439 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 439 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/fe9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a is 1905674 (466 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       79..      84:      63052..     63057:      6:         79: unwritten,shared
   1:      154..     154:      68613..     68613:      1:      63127: shared
   2:      161..     165:      61531..     61535:      5:      68620: shared
   3:      167..     197:      69531..     69561:     31:      61537: shared
   4:      214..     221:      63575..     63582:      8:      69578: shared
   5:      288..     315:      62105..     62132:     28:      63649: shared
   6:      316..     316:      65050..     65050:      1:      62133: shared
   7:      424..     439:      66819..     66834:     16:      65158: shared
   8:      440..     464:      71276..     71300:     25:      66835: unwritten,shared
   9:      465..     465:      71275..     71275:      1:      71301: shared,eof
  10:      466..     675:      71301..     71510:    210:      71276: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a: 11 extents found
after filter: 258260992#24576#323584#unwritten,shared 281038848#4096#630784#shared 252030976#20480#659456#shared 284798976#126976#684032#shared 260403200#32768#876544#shared 254382080#114688#1179648#shared 266444800#4096#1294336#shared 273690624#65536#1736704#shared 291946496#102400#1802240#unwritten,shared 291942400#4096#1904640#shared,eof 292048896#860160#1908736#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 281038848 /mnt/scratch
inode 349 offset 630784 root 258
inode 349 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 252030976 /mnt/scratch
inode 349 offset 659456 root 258
inode 349 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 284798976 /mnt/scratch
inode 349 offset 684032 root 258
inode 349 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 260403200 /mnt/scratch
inode 349 offset 876544 root 258
inode 349 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 254382080 /mnt/scratch
inode 349 offset 1179648 root 258
inode 349 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518865369
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 266444800 /mnt/scratch
inode 349 offset 1294336 root 258
inode 349 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 273690624 /mnt/scratch
inode 349 offset 1736704 root 258
inode 349 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 291946496 /mnt/scratch
inode 349 offset 1802240 root 258
inode 349 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 291942400 /mnt/scratch
inode 349 offset 1904640 root 258
inode 349 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
349
# /bin/btrfs inspect-internal logical-resolve -P 292048896 /mnt/scratch
inode 349 offset 1908736 root 258
inode 349 offset 1908736 root 5
# /bin/btrfs inspect-internal inode-resolve 349 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f7a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d120/f146
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d120/f146 is 750233 (184 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      72:      70098..     70124:     27:         46: shared
   1:      169..     183:      69461..     69475:     15:      70221: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f146: 2 extents found
after filter: 287121408#110592#188416#shared 284512256#61440#692224#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f146
514
# /bin/btrfs inspect-internal logical-resolve -P 287121408 /mnt/scratch
inode 514 offset 188416 root 258
inode 514 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f146
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f146
514
# /bin/btrfs inspect-internal logical-resolve -P 284512256 /mnt/scratch
inode 514 offset 692224 root 258
inode 514 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 514 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f132
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f132 is 395304 (97 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       78..      96:      68392..     68410:     19:         78: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f132: 1 extent found
after filter: 280133632#77824#319488#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f132
496
# /bin/btrfs inspect-internal logical-resolve -P 280133632 /mnt/scratch
inode 496 offset 319488 root 258
inode 496 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 496 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/f132
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d is 625463 (153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      41:      62221..     62241:     21:         21: shared
   1:       64..      74:      71898..     71908:     11:      62264: shared
   2:      131..     147:      62242..     62258:     17:      71965: shared
   3:      148..     149:      63844..     63845:      2:      62259: shared
   4:      150..     151:      62261..     62262:      2:      63846: shared
   5:      152..     152:      71174..     71174:      1:      62263: shared,eof
   6:      153..     231:      71175..     71253:     79:             unwritten,shared,eof
   7:      232..     288:      71117..     71173:     57:      71254: unwritten,shared,eof
   8:      289..     497:      65370..     65578:    209:      71174: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d: 8 extents found
after filter: 254857216#86016#86016#shared 294494208#45056#262144#shared 254943232#69632#536576#shared 261505024#8192#606208#shared 255021056#8192#614400#shared 291528704#4096#622592#shared,eof 291532800#323584#626688#unwritten,shared,eof 291295232#233472#950272#unwritten,shared,eof 267755520#856064#1183744#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 254857216 /mnt/scratch
inode 374 offset 86016 root 258
inode 374 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 294494208 /mnt/scratch
inode 374 offset 262144 root 258
inode 374 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 254943232 /mnt/scratch
inode 374 offset 536576 root 258
inode 374 offset 536576 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 261505024 /mnt/scratch
inode 374 offset 606208 root 258
inode 374 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 255021056 /mnt/scratch
inode 374 offset 614400 root 258
inode 374 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 291528704 /mnt/scratch
inode 374 offset 622592 root 258
inode 374 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 291532800 /mnt/scratch
inode 374 offset 626688 root 258
inode 374 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 291295232 /mnt/scratch
inode 374 offset 950272 root 258
inode 374 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
374
# /bin/btrfs inspect-internal logical-resolve -P 267755520 /mnt/scratch
inode 374 offset 1183744 root 258
inode 374 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f8d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d65/f13c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d65/f13c is 1519745 (372 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       83..      96:      69635..     69648:     14:         83: shared
   1:       97..      97:      72053..     72053:      1:      69649: shared
   2:      346..     371:      71723..     71748:     26:      72302: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d65/f13c: 3 extents found
after filter: 285224960#57344#339968#shared 295129088#4096#397312#shared 293777408#106496#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f13c
504
# /bin/btrfs inspect-internal logical-resolve -P 285224960 /mnt/scratch
inode 504 offset 339968 root 258
inode 504 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/f13c
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f13c
504
# /bin/btrfs inspect-internal logical-resolve -P 295129088 /mnt/scratch
inode 504 offset 397312 root 258
inode 504 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/f13c
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f13c
504
# /bin/btrfs inspect-internal logical-resolve -P 293777408 /mnt/scratch
inode 504 offset 1417216 root 258
inode 504 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/f13c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f2e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f2e is 4102029 (1002 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       70..      76:      59102..     59108:      7:         70: unwritten,shared
   1:      163..     163:      69477..     69477:      1:      59195: shared
   2:      164..     164:      58698..     58698:      1:      69478: shared
   3:      165..     166:       4487..      4488:      2:      58699: unwritten,shared
   4:      179..     184:       4501..      4506:      6:             unwritten,shared
   5:      233..     236:       4555..      4558:      4:             unwritten,shared
   6:      247..     252:       4569..      4574:      6:             unwritten,shared
   7:      289..     296:      59114..     59121:      8:       4611: unwritten,shared
   8:      301..     301:      59126..     59126:      1:             unwritten,shared
   9:      305..     313:      59414..     59422:      9:      59130: shared
  10:      314..     314:      60053..     60053:      1:      59423: shared
  11:      398..     422:      62330..     62354:     25:      60137: shared
  12:      471..     483:      59102..     59114:     13:      62403: unwritten,shared
  13:      488..     495:      59119..     59126:      8:             unwritten,shared
  14:      553..     554:      59644..     59645:      2:      59184: shared
  15:      589..     598:      62769..     62778:     10:      59680: unwritten,shared
  16:      602..     629:      62782..     62809:     28:             unwritten,shared
  17:      636..     670:      62816..     62850:     35:             unwritten,shared
  18:      671..     683:      62851..     62863:     13:             shared
  19:      684..     684:      70341..     70341:      1:      62864: shared
  20:      685..     808:      62865..     62988:    124:      70342: unwritten,shared
  21:      902..     904:      70342..     70344:      3:      63082: shared
  22:      905..     905:      70852..     70852:      1:      70345: shared
  23:      979..    1001:      70853..     70875:     23:             last,shared,eof
/mnt/scratch/snap1/p0/d2/f2e: 15 extents found
after filter: 242081792#28672#286720#unwritten,shared 284577792#4096#667648#shared 240427008#4096#671744#shared 18378752#8192#675840#unwritten,shared 18436096#24576#733184#unwritten,shared 18657280#16384#954368#unwritten,shared 18714624#24576#1011712#unwritten,shared 242130944#32768#1183744#unwritten,shared 242180096#4096#1232896#unwritten,shared 243359744#36864#1249280#shared 245977088#4096#1286144#shared 255303680#102400#1630208#shared 242081792#53248#1929216#unwritten,shared 242151424#32768#1998848#unwritten,shared 244301824#8192#2265088#shared 257101824#40960#2412544#unwritten,shared 257155072#114688#2465792#unwritten,shared 257294336#143360#2605056#unwritten,shared 257437696#53248#2748416#shared 288116736#4096#2801664#shared 257495040#507904#2805760#unwritten,shared 288120832#12288#3694592#shared 290209792#4096#3706880#shared 290213888#94208#4009984#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 284577792 /mnt/scratch
inode 294 offset 667648 root 258
inode 294 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 240427008 /mnt/scratch
inode 294 offset 671744 root 258
inode 294 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 18378752 /mnt/scratch
inode 294 offset 675840 root 258
inode 294 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 18436096 /mnt/scratch
inode 294 offset 733184 root 258
inode 294 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 18657280 /mnt/scratch
inode 294 offset 954368 root 258
inode 294 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 18714624 /mnt/scratch
inode 294 offset 1011712 root 258
inode 294 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 242130944 /mnt/scratch
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 204800 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 299 offset 897024 root 5
inode 301 offset 569344 root 5
inode 299 offset 438272 root 5
inode 299 offset 897024 root 5
inode 262 offset 3444736 root 5
inode 350 offset 90112 root 5
inode 264 offset 155648 root 258
inode 264 offset 1019904 root 258
inode 264 offset 1019904 root 258
inode 264 offset 155648 root 5
inode 264 offset 1019904 root 5
inode 264 offset 1019904 root 5
inode 280 offset 204800 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 299 offset 438272 root 258
inode 299 offset 897024 root 258
inode 301 offset 569344 root 258
inode 299 offset 897024 root 258
inode 350 offset 90112 root 258
inode 262 offset 3444736 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 242180096 /mnt/scratch
inode 294 offset 2027520 root 5
inode 294 offset 1232896 root 5
inode 294 offset 2027520 root 5
inode 294 offset 1232896 root 5
inode 294 offset 2027520 root 5
inode 280 offset 978944 root 5
inode 280 offset 978944 root 5
inode 280 offset 978944 root 5
inode 268 offset 1122304 root 258
inode 268 offset 1122304 root 258
inode 268 offset 1122304 root 5
inode 268 offset 1122304 root 5
inode 292 offset 344064 root 5
inode 262 offset 3493888 root 5
inode 299 offset 487424 root 5
inode 350 offset 139264 root 5
inode 272 offset 1040384 root 258
inode 272 offset 1040384 root 5
inode 264 offset 204800 root 258
inode 264 offset 1069056 root 258
inode 264 offset 1069056 root 258
inode 264 offset 204800 root 5
inode 264 offset 1069056 root 5
inode 264 offset 1069056 root 5
inode 280 offset 978944 root 258
inode 280 offset 978944 root 258
inode 280 offset 978944 root 258
inode 299 offset 487424 root 258
inode 350 offset 139264 root 258
inode 262 offset 3493888 root 258
inode 292 offset 344064 root 258
inode 294 offset 1232896 root 258
inode 294 offset 2027520 root 258
inode 294 offset 2027520 root 258
inode 294 offset 1232896 root 258
inode 294 offset 2027520 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 243359744 /mnt/scratch
inode 294 offset 1249280 root 258
inode 294 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 245977088 /mnt/scratch
inode 294 offset 1286144 root 258
inode 294 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 255303680 /mnt/scratch
inode 294 offset 1630208 root 258
inode 294 offset 1630208 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 242151424 /mnt/scratch
inode 294 offset 1998848 root 5
inode 294 offset 1204224 root 5
inode 294 offset 1998848 root 5
inode 294 offset 1204224 root 5
inode 294 offset 1998848 root 5
inode 275 offset 1196032 root 258
inode 275 offset 1196032 root 5
inode 280 offset 950272 root 5
inode 280 offset 225280 root 5
inode 280 offset 950272 root 5
inode 280 offset 950272 root 5
inode 268 offset 1093632 root 258
inode 268 offset 1093632 root 258
inode 268 offset 1093632 root 5
inode 268 offset 1093632 root 5
inode 292 offset 315392 root 5
inode 299 offset 917504 root 5
inode 301 offset 589824 root 5
inode 299 offset 458752 root 5
inode 299 offset 917504 root 5
inode 262 offset 3465216 root 5
inode 272 offset 1011712 root 258
inode 272 offset 1011712 root 5
inode 264 offset 176128 root 258
inode 264 offset 1040384 root 258
inode 264 offset 1040384 root 258
inode 264 offset 176128 root 5
inode 264 offset 1040384 root 5
inode 264 offset 1040384 root 5
inode 280 offset 225280 root 258
inode 280 offset 950272 root 258
inode 280 offset 950272 root 258
inode 280 offset 950272 root 258
inode 299 offset 458752 root 258
inode 299 offset 917504 root 258
inode 301 offset 589824 root 258
inode 299 offset 917504 root 258
inode 262 offset 3465216 root 258
inode 292 offset 315392 root 258
inode 294 offset 1204224 root 258
inode 294 offset 1998848 root 258
inode 294 offset 1998848 root 258
inode 294 offset 1204224 root 258
inode 294 offset 1998848 root 258
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 244301824 /mnt/scratch
inode 294 offset 2265088 root 258
inode 294 offset 2265088 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 257101824 /mnt/scratch
inode 294 offset 2412544 root 258
inode 294 offset 2412544 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 257155072 /mnt/scratch
inode 294 offset 2465792 root 258
inode 294 offset 2465792 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 257294336 /mnt/scratch
inode 294 offset 2605056 root 258
inode 294 offset 2605056 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 257437696 /mnt/scratch
inode 294 offset 2748416 root 258
inode 294 offset 2748416 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 288116736 /mnt/scratch
inode 294 offset 2801664 root 258
inode 294 offset 2801664 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518825749
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 257495040 /mnt/scratch
inode 294 offset 2805760 root 258
inode 294 offset 2805760 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 288120832 /mnt/scratch
inode 294 offset 3694592 root 258
inode 294 offset 3694592 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 290209792 /mnt/scratch
inode 294 offset 3706880 root 258
inode 294 offset 3706880 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# stat -c %i /mnt/scratch/snap1/p0/d2/f2e
294
# /bin/btrfs inspect-internal logical-resolve -P 290213888 /mnt/scratch
inode 294 offset 4009984 root 258
inode 294 offset 4009984 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f2e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f1c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f1c is 3239936 (791 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       38..      45:      59102..     59109:      8:         38: unwritten,shared
   1:       50..      59:      59114..     59123:     10:             unwritten,shared
   2:      132..     143:      59436..     59447:     12:      59196: shared
   3:      155..     158:       4703..      4706:      4:      59459: shared
   4:      166..     180:      59102..     59116:     15:       4714: unwritten,shared
   5:      181..     202:       4866..      4887:     22:      59117: shared
   6:      203..     203:       5243..      5243:      1:       4888: shared
   7:      215..     239:      59102..     59126:     25:       5255: unwritten,shared
   8:      264..     278:      59449..     59463:     15:      59151: shared
   9:      279..     279:      60131..     60131:      1:      59464: shared
  10:      370..     373:      59744..     59747:      4:      60222: shared
  11:      452..     497:      69986..     70031:     46:      59826: unwritten,shared
  12:      519..     532:      70053..     70066:     14:             unwritten,shared
  13:      533..     545:      63052..     63064:     13:      70067: unwritten,shared
  14:      546..     557:      70067..     70078:     12:      63065: unwritten,shared
  15:      564..     574:      59424..     59434:     11:      70085: shared
  16:      575..     575:      60088..     60088:      1:      59435: shared
  17:      725..     733:      68840..     68848:      9:      60238: shared
  18:      766..     766:      64979..     64979:      1:      68881: shared
  19:      767..     787:      64716..     64736:     21:      64980: last,shared
/mnt/scratch/snap1/p0/d2/f1c: 18 extents found
after filter: 242081792#32768#155648#unwritten,shared 242130944#40960#204800#unwritten,shared 243449856#49152#540672#shared 19263488#16384#634880#shared 242081792#61440#679936#unwritten,shared 19931136#90112#741376#shared 21475328#4096#831488#shared 242081792#102400#880640#unwritten,shared 243503104#61440#1081344#shared 246296576#4096#1142784#shared 244711424#16384#1515520#shared 286662656#188416#1851392#unwritten,shared 286937088#57344#2125824#unwritten,shared 258260992#53248#2183168#unwritten,shared 286994432#49152#2236416#unwritten,shared 243400704#45056#2310144#shared 246120448#4096#2355200#shared 281968640#36864#2969600#shared 266153984#4096#3137536#shared 265076736#86016#3141632#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 242130944 /mnt/scratch
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 204800 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 299 offset 897024 root 5
inode 301 offset 569344 root 5
inode 299 offset 438272 root 5
inode 299 offset 897024 root 5
inode 262 offset 3444736 root 5
inode 350 offset 90112 root 5
inode 264 offset 155648 root 258
inode 264 offset 1019904 root 258
inode 264 offset 1019904 root 258
inode 264 offset 155648 root 5
inode 264 offset 1019904 root 5
inode 264 offset 1019904 root 5
inode 280 offset 204800 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 299 offset 438272 root 258
inode 299 offset 897024 root 258
inode 301 offset 569344 root 258
inode 299 offset 897024 root 258
inode 350 offset 90112 root 258
inode 262 offset 3444736 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 243449856 /mnt/scratch
inode 280 offset 540672 root 258
inode 280 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 19263488 /mnt/scratch
inode 280 offset 634880 root 258
inode 280 offset 634880 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 19931136 /mnt/scratch
inode 280 offset 741376 root 258
inode 280 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 21475328 /mnt/scratch
inode 280 offset 831488 root 258
inode 280 offset 831488 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 243503104 /mnt/scratch
inode 280 offset 1081344 root 258
inode 280 offset 1081344 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 246296576 /mnt/scratch
inode 280 offset 1142784 root 258
inode 280 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 244711424 /mnt/scratch
inode 280 offset 1515520 root 258
inode 280 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 286662656 /mnt/scratch
inode 280 offset 1851392 root 258
inode 280 offset 1851392 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 286937088 /mnt/scratch
inode 280 offset 2125824 root 258
inode 280 offset 2125824 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 286994432 /mnt/scratch
inode 280 offset 2236416 root 258
inode 280 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 243400704 /mnt/scratch
inode 280 offset 2310144 root 258
inode 280 offset 2310144 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 246120448 /mnt/scratch
inode 280 offset 2355200 root 258
inode 280 offset 2355200 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 281968640 /mnt/scratch
inode 280 offset 2969600 root 258
inode 280 offset 2969600 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 266153984 /mnt/scratch
inode 280 offset 3137536 root 258
inode 367 offset 28672 root 258
inode 280 offset 3137536 root 5
inode 367 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# stat -c %i /mnt/scratch/snap1/p0/d2/f1c
280
# /bin/btrfs inspect-internal logical-resolve -P 265076736 /mnt/scratch
inode 280 offset 3141632 root 258
inode 367 offset 32768 root 258
inode 280 offset 3141632 root 5
inode 367 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f1c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100 is 253611 (62 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      36:      68016..     68016:      1:         36: unwritten,shared
   1:       37..      60:      66794..     66817:     24:      68017: shared
   2:       61..      61:      67999..     67999:      1:      66818: shared,eof
   3:       62..      76:      68017..     68031:     15:      68000: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100: 4 extents found
after filter: 278593536#4096#147456#unwritten,shared 273588224#98304#151552#shared 278523904#4096#249856#shared,eof 278597632#61440#253952#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
417
# /bin/btrfs inspect-internal logical-resolve -P 278593536 /mnt/scratch
inode 417 offset 147456 root 258
inode 417 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
417
# /bin/btrfs inspect-internal logical-resolve -P 273588224 /mnt/scratch
inode 417 offset 151552 root 258
inode 417 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
417
# /bin/btrfs inspect-internal logical-resolve -P 278523904 /mnt/scratch
inode 417 offset 249856 root 258
inode 417 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
417
# /bin/btrfs inspect-internal logical-resolve -P 278597632 /mnt/scratch
inode 417 offset 253952 root 258
inode 417 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f100
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e is 2064384 (504 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      38:      59843..     59845:      3:         36: shared
   1:       45..      68:      68532..     68555:     24:      59852: shared
   2:      136..     136:      61829..     61829:      1:      68623: unwritten,shared
   3:      137..     141:       4658..      4662:      5:      61830: unwritten,shared
   4:      142..     143:      64513..     64514:      2:       4663: unwritten,shared
   5:      144..     147:       4665..      4668:      4:      64515: unwritten,shared
   6:      148..     164:      64515..     64531:     17:       4669: unwritten,shared
   7:      165..     168:      58815..     58818:      4:      64532: shared
   8:      169..     173:      64532..     64536:      5:      58819: unwritten,shared
   9:      189..     201:      63052..     63064:     13:      64552: unwritten,shared
  10:      202..     236:      64565..     64599:     35:      63065: unwritten,shared
  11:      237..     247:      61817..     61827:     11:      64600: unwritten,shared
  12:      279..     288:      59545..     59554:     10:      61859: shared
  13:      289..     289:      60484..     60484:      1:      59555: shared
  14:      367..     379:      64896..     64908:     13:      60562: shared
  15:      479..     491:      63052..     63064:     13:      65008: last,unwritten,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e: 16 extents found
after filter: 245116928#12288#147456#shared 280707072#98304#184320#shared 253251584#4096#557056#unwritten,shared 19079168#20480#561152#unwritten,shared 264245248#8192#581632#unwritten,shared 19107840#16384#589824#unwritten,shared 264253440#69632#606208#unwritten,shared 240906240#16384#675840#shared 264323072#20480#692224#unwritten,shared 258260992#53248#774144#unwritten,shared 264458240#143360#827392#unwritten,shared 253202432#45056#970752#unwritten,shared 243896320#40960#1142784#shared 247742464#4096#1183744#shared 265814016#53248#1503232#shared 258260992#53248#1961984#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 245116928 /mnt/scratch
inode 320 offset 147456 root 258
inode 320 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 280707072 /mnt/scratch
inode 320 offset 184320 root 258
inode 320 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 253251584 /mnt/scratch
inode 337 offset 1110016 root 258
inode 281 offset 135168 root 258
inode 290 offset 2093056 root 258
inode 299 offset 1294336 root 258
inode 299 offset 274432 root 258
inode 299 offset 1294336 root 258
inode 320 offset 557056 root 258
inode 337 offset 1110016 root 5
inode 281 offset 135168 root 5
inode 290 offset 2093056 root 5
inode 299 offset 1294336 root 5
inode 299 offset 274432 root 5
inode 299 offset 1294336 root 5
inode 320 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 264245248 /mnt/scratch
inode 320 offset 581632 root 258
inode 320 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 19107840 /mnt/scratch
inode 299 offset 307200 root 258
inode 299 offset 1327104 root 258
inode 299 offset 1327104 root 258
inode 290 offset 2125824 root 258
inode 320 offset 589824 root 258
inode 299 offset 307200 root 5
inode 299 offset 1327104 root 5
inode 299 offset 1327104 root 5
inode 290 offset 2125824 root 5
inode 320 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 264253440 /mnt/scratch
inode 320 offset 606208 root 258
inode 320 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 240906240 /mnt/scratch
inode 320 offset 675840 root 258
inode 320 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 264323072 /mnt/scratch
inode 320 offset 692224 root 258
inode 320 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519263189
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 264458240 /mnt/scratch
inode 320 offset 827392 root 258
inode 320 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 253202432 /mnt/scratch
inode 320 offset 970752 root 258
inode 323 offset 8192 root 258
inode 320 offset 970752 root 258
inode 304 offset 1183744 root 258
inode 304 offset 475136 root 258
inode 304 offset 1183744 root 258
inode 281 offset 86016 root 258
inode 299 offset 225280 root 258
inode 320 offset 970752 root 5
inode 323 offset 8192 root 5
inode 320 offset 970752 root 5
inode 304 offset 1183744 root 5
inode 304 offset 475136 root 5
inode 304 offset 1183744 root 5
inode 281 offset 86016 root 5
inode 299 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 243896320 /mnt/scratch
inode 320 offset 1142784 root 258
inode 320 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 247742464 /mnt/scratch
inode 320 offset 1183744 root 258
inode 320 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 265814016 /mnt/scratch
inode 320 offset 1503232 root 258
inode 320 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
320
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/f4e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/f1a8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/f1a8 is 898388 (220 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      102..     115:      65276..     65289:     14:        102: shared
   1:      116..     123:      67343..     67350:      8:      65290: unwritten,shared
   2:      142..     142:      67369..     67369:      1:             unwritten,shared
   3:      170..     173:      67397..     67400:      4:             unwritten,shared
   4:      190..     200:      67417..     67427:     11:             unwritten,shared
   5:      202..     219:      65290..     65307:     18:      67429: last,shared,eof
/mnt/scratch/snap1/p0/d2/d25/f1a8: 3 extents found
after filter: 267370496#57344#417792#shared 275836928#32768#475136#unwritten,shared 275943424#4096#581632#unwritten,shared 276058112#16384#696320#unwritten,shared 276140032#45056#778240#unwritten,shared 267427840#73728#827392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 267370496 /mnt/scratch
inode 447 offset 417792 root 258
inode 444 offset 458752 root 258
inode 447 offset 417792 root 5
inode 444 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 275836928 /mnt/scratch
inode 447 offset 475136 root 258
inode 447 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 275943424 /mnt/scratch
inode 447 offset 581632 root 258
inode 447 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 276058112 /mnt/scratch
inode 447 offset 696320 root 258
inode 447 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 276140032 /mnt/scratch
inode 447 offset 778240 root 258
inode 447 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f1a8
447
# /bin/btrfs inspect-internal logical-resolve -P 267427840 /mnt/scratch
inode 447 offset 827392 root 258
inode 447 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 447 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f1a8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c is 1219009 (298 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..      16:      65230..     65245:     16:          1: shared
   1:       17..      17:      59106..     59106:      1:      65246: unwritten,shared
   2:       46..      49:      60864..     60867:      4:      59135: unwritten,shared
   3:       82..      92:      69045..     69055:     11:      60900: shared
   4:       93..      93:      61491..     61491:      1:      69056: unwritten,shared
   5:      137..     140:      65141..     65144:      4:      61535: shared
   6:      169..     172:      67810..     67813:      4:      65173: shared
   7:      207..     228:      71929..     71950:     22:      67848: shared
   8:      229..     239:      63896..     63906:     11:      71951: shared
   9:      240..     240:      71794..     71794:      1:      63907: shared
  10:      279..     297:      71704..     71722:     19:      71833: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c: 11 extents found
after filter: 267182080#65536#4096#shared 242098176#4096#69632#unwritten,shared 249298944#16384#188416#unwritten,shared 282808320#45056#335872#shared 251867136#4096#380928#unwritten,shared 266817536#16384#561152#shared 277749760#16384#692224#shared 294621184#90112#847872#shared 261718016#45056#937984#shared 294068224#4096#983040#shared 293699584#77824#1142784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 267182080 /mnt/scratch
inode 359 offset 4096 root 258
inode 359 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 242098176 /mnt/scratch
inode 294 offset 1945600 root 5
inode 294 offset 303104 root 5
inode 294 offset 1945600 root 5
inode 294 offset 1945600 root 5
inode 346 offset 294912 root 5
inode 280 offset 696320 root 5
inode 280 offset 897024 root 5
inode 280 offset 172032 root 5
inode 280 offset 696320 root 5
inode 280 offset 897024 root 5
inode 280 offset 696320 root 5
inode 280 offset 897024 root 5
inode 299 offset 864256 root 5
inode 299 offset 864256 root 5
inode 325 offset 49152 root 5
inode 324 offset 622592 root 5
inode 264 offset 122880 root 258
inode 264 offset 987136 root 258
inode 264 offset 987136 root 258
inode 264 offset 122880 root 5
inode 264 offset 987136 root 5
inode 264 offset 987136 root 5
inode 359 offset 69632 root 5
inode 325 offset 49152 root 258
inode 324 offset 622592 root 258
inode 280 offset 172032 root 258
inode 280 offset 696320 root 258
inode 280 offset 897024 root 258
inode 280 offset 696320 root 258
inode 280 offset 897024 root 258
inode 280 offset 696320 root 258
inode 280 offset 897024 root 258
inode 299 offset 864256 root 258
inode 299 offset 864256 root 258
inode 346 offset 294912 root 258
inode 294 offset 303104 root 258
inode 294 offset 1945600 root 258
inode 294 offset 1945600 root 258
inode 294 offset 1945600 root 258
inode 359 offset 69632 root 258
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 249298944 /mnt/scratch
inode 359 offset 188416 root 258
inode 359 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 282808320 /mnt/scratch
inode 359 offset 335872 root 258
inode 359 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 251867136 /mnt/scratch
inode 359 offset 380928 root 258
inode 359 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 266817536 /mnt/scratch
inode 359 offset 561152 root 258
inode 359 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 277749760 /mnt/scratch
inode 359 offset 692224 root 258
inode 359 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 294621184 /mnt/scratch
inode 359 offset 847872 root 258
inode 359 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 261718016 /mnt/scratch
inode 359 offset 937984 root 258
inode 359 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 294068224 /mnt/scratch
inode 359 offset 983040 root 258
inode 359 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
359
# /bin/btrfs inspect-internal logical-resolve -P 293699584 /mnt/scratch
inode 359 offset 1142784 root 258
inode 359 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f7c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f82
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f82 is 3108864 (759 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      29:      66628..     66642:     15:         15: shared
   1:       43..      63:       3864..      3884:     21:      66656: shared
   2:       64..      71:       5300..      5307:      8:       3885: shared
   3:       80..      80:      67783..     67783:      1:       5316: shared
   4:       81..      95:      70995..     71009:     15:      67784: shared
   5:       96..     100:      67799..     67803:      5:      71010: shared
   6:      146..     174:       4242..      4270:     29:      67849: shared
   7:      206..     208:      69238..     69240:      3:       4302: unwritten,shared
   8:      227..     232:       4280..      4285:      6:      69259: shared
   9:      233..     240:      71960..     71967:      8:       4286: shared
  10:      241..     241:      71582..     71582:      1:      71968: shared
  11:      242..     251:       4295..      4304:     10:      71583: shared
  12:      252..     252:       4322..      4322:      1:       4305: shared
  13:      291..     296:      59118..     59123:      6:       4361: unwritten,shared
  14:      304..     317:      64987..     65000:     14:      59131: shared
  15:      322..     337:      59300..     59315:     16:      65005: shared
  16:      338..     338:      67001..     67001:      1:      59316: shared
  17:      410..     418:      70087..     70095:      9:      67073: shared
  18:      515..     525:      66238..     66248:     11:      70192: shared
  19:      551..     555:      67804..     67808:      5:      66274: shared
  20:      556..     556:      68384..     68384:      1:      67809: shared
  21:      624..     653:      71552..     71581:     30:      68452: shared
  22:      662..     678:      71010..     71026:     17:      71590: shared
  23:      739..     743:      68385..     68389:      5:      71087: shared
  24:      744..     744:      69072..     69072:      1:      68390: shared
  25:      758..     758:      68894..     68894:      1:      69086: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/f82: 26 extents found
after filter: 272908288#61440#61440#shared 15826944#86016#176128#shared 21708800#32768#262144#shared 277639168#4096#327680#shared 290795520#61440#331776#shared 277704704#20480#393216#shared 17375232#118784#598016#shared 283598848#12288#843776#unwritten,shared 17530880#24576#929792#shared 294748160#32768#954368#shared 293199872#4096#987136#shared 17592320#40960#991232#shared 17702912#4096#1032192#shared 242147328#24576#1191936#unwritten,shared 266186752#57344#1245184#shared 242892800#65536#1318912#shared 274436096#4096#1384448#shared 287076352#36864#1679360#shared 271310848#45056#2109440#shared 277725184#20480#2256896#shared 280100864#4096#2277376#shared 293076992#122880#2555904#shared 290856960#69632#2711552#shared 280104960#20480#3026944#shared 282918912#4096#3047424#shared 282189824#4096#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 272908288 /mnt/scratch
inode 275 offset 61440 root 258
inode 275 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 15826944 /mnt/scratch
inode 275 offset 176128 root 258
inode 275 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 21708800 /mnt/scratch
inode 275 offset 262144 root 258
inode 275 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 277639168 /mnt/scratch
inode 275 offset 327680 root 258
inode 275 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 290795520 /mnt/scratch
inode 275 offset 331776 root 258
inode 275 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 17375232 /mnt/scratch
inode 275 offset 598016 root 258
inode 275 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 283598848 /mnt/scratch
inode 275 offset 843776 root 258
inode 275 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 17530880 /mnt/scratch
inode 275 offset 929792 root 258
inode 275 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 294748160 /mnt/scratch
inode 275 offset 954368 root 258
inode 275 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 293199872 /mnt/scratch
inode 275 offset 987136 root 258
inode 275 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 275 offset 991232 root 258
inode 275 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 17702912 /mnt/scratch
inode 275 offset 1032192 root 258
inode 275 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518783367
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 242147328 /mnt/scratch
inode 275 offset 1191936 root 258
inode 275 offset 1191936 root 5
inode 294 offset 1200128 root 5
inode 294 offset 1200128 root 5
inode 280 offset 946176 root 5
inode 280 offset 221184 root 5
inode 280 offset 946176 root 5
inode 280 offset 946176 root 5
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 5
inode 268 offset 1089536 root 5
inode 292 offset 311296 root 5
inode 299 offset 913408 root 5
inode 301 offset 585728 root 5
inode 299 offset 454656 root 5
inode 299 offset 913408 root 5
inode 262 offset 3461120 root 5
inode 272 offset 1007616 root 258
inode 272 offset 1007616 root 5
inode 264 offset 172032 root 258
inode 264 offset 1036288 root 258
inode 264 offset 1036288 root 258
inode 264 offset 172032 root 5
inode 264 offset 1036288 root 5
inode 264 offset 1036288 root 5
inode 280 offset 221184 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 299 offset 454656 root 258
inode 299 offset 913408 root 258
inode 301 offset 585728 root 258
inode 299 offset 913408 root 258
inode 262 offset 3461120 root 258
inode 292 offset 311296 root 258
inode 294 offset 1200128 root 258
inode 294 offset 1200128 root 258
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 266186752 /mnt/scratch
inode 275 offset 1245184 root 258
inode 275 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 242892800 /mnt/scratch
inode 275 offset 1318912 root 258
inode 275 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 274436096 /mnt/scratch
inode 275 offset 1384448 root 258
inode 275 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 287076352 /mnt/scratch
inode 275 offset 1679360 root 258
inode 275 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 271310848 /mnt/scratch
inode 459 offset 565248 root 258
inode 275 offset 2109440 root 258
inode 459 offset 565248 root 5
inode 275 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 277725184 /mnt/scratch
inode 275 offset 2256896 root 258
inode 275 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 280100864 /mnt/scratch
inode 275 offset 2277376 root 258
inode 275 offset 2277376 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 293076992 /mnt/scratch
inode 275 offset 2555904 root 258
inode 275 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 290856960 /mnt/scratch
inode 275 offset 2711552 root 258
inode 275 offset 2711552 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 280104960 /mnt/scratch
inode 275 offset 3026944 root 258
inode 275 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 282918912 /mnt/scratch
inode 275 offset 3047424 root 258
inode 275 offset 3047424 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f82
275
# /bin/btrfs inspect-internal logical-resolve -P 282189824 /mnt/scratch
inode 275 offset 3104768 root 258
inode 275 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f111
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f111 is 1579684 (386 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      17:      62575..     62578:      4:         14: unwritten,shared
   1:       75..      76:      71909..     71910:      2:      62636: shared
   2:      100..     129:      63350..     63379:     30:      71934: unwritten,shared
   3:      130..     156:      70894..     70920:     27:      63380: shared
   4:      157..     244:      63407..     63494:     88:      70921: unwritten,shared
   5:      245..     254:      63495..     63504:     10:             shared
   6:      255..     274:      69440..     69459:     20:      63505: shared
   7:      275..     275:      70246..     70246:      1:      69460: shared
   8:      385..     385:      70247..     70247:      1:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f111: 7 extents found
after filter: 256307200#16384#57344#unwritten,shared 294539264#8192#307200#shared 259481600#122880#409600#unwritten,shared 290381824#110592#532480#shared 259715072#360448#643072#unwritten,shared 260075520#40960#1003520#shared 284426240#81920#1044480#shared 287727616#4096#1126400#shared 287731712#4096#1576960#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 256307200 /mnt/scratch
inode 392 offset 57344 root 258
inode 377 offset 811008 root 258
inode 377 offset 811008 root 5
inode 392 offset 57344 root 5
inode 281 offset 1568768 root 258
inode 281 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 294539264 /mnt/scratch
inode 392 offset 307200 root 258
inode 392 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 259481600 /mnt/scratch
inode 392 offset 409600 root 258
inode 392 offset 409600 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 290381824 /mnt/scratch
inode 392 offset 532480 root 258
inode 392 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 259715072 /mnt/scratch
inode 392 offset 643072 root 258
inode 392 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 260075520 /mnt/scratch
inode 392 offset 1003520 root 258
inode 392 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 284426240 /mnt/scratch
inode 392 offset 1044480 root 258
inode 392 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 287727616 /mnt/scratch
inode 392 offset 1126400 root 258
inode 392 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f111
392
# /bin/btrfs inspect-internal logical-resolve -P 287731712 /mnt/scratch
inode 392 offset 1576960 root 258
inode 392 offset 1576960 root 5
# /bin/btrfs inspect-internal inode-resolve 392 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f111
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d is 5262209 (1285 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      26:       3410..      3417:      8:         19: shared
   1:       27..      27:      69955..     69955:      1:       3418: shared
   2:       28..      33:       3419..      3424:      6:      69956: shared
   3:       35..      48:       3425..      3438:     14:             unwritten,shared
   4:       49..      61:       3439..      3451:     13:             shared
   5:       62..      75:       3889..      3902:     14:       3452: shared
   6:       76..      85:       3466..      3475:     10:       3903: shared
   7:       86..      88:       3476..      3478:      3:             unwritten,shared
   8:       93..     115:       3483..      3505:     23:             unwritten,shared
   9:      116..     122:       3360..      3366:      7:       3506: shared
  10:      123..     126:       3506..      3509:      4:       3367: unwritten,shared
  11:      237..     259:      63087..     63109:     23:       3620: shared
  12:      281..     289:       3584..      3592:      9:      63131: unwritten,shared
  13:      290..     306:      70770..     70786:     17:       3593: shared
  14:      324..     340:      58712..     58728:     17:      70804: shared
  15:      341..     347:       3627..      3633:      7:      58729: shared
  16:      370..     384:       3367..      3381:     15:       3656: shared
  17:      400..     400:       3397..      3397:      1:             shared
  18:      401..     405:       3903..      3907:      5:       3398: shared
  19:      410..     437:       3908..      3935:     28:             shared
  20:      438..     440:       3658..      3660:      3:       3936: shared
  21:      467..     479:      64371..     64383:     13:       3687: shared
  22:      487..     510:       4753..      4776:     24:      64391: shared
  23:      665..     676:      70836..     70847:     12:       4931: shared
  24:      677..     679:      68891..     68893:      3:      70848: shared
  25:      680..     683:      70848..     70851:      4:      68894: shared
  26:      738..     755:       3937..      3954:     18:      70906: shared
  27:      756..     756:       4863..      4863:      1:       3955: shared
  28:      778..     796:      59496..     59514:     19:       4885: shared
  29:      838..     853:      59111..     59126:     16:      59556: unwritten,shared
  30:      955..     968:       4689..      4702:     14:      59228: shared
  31:     1037..    1068:      69562..     69593:     32:       4771: shared
  32:     1122..    1143:      69288..     69309:     22:      69647: shared
  33:     1276..    1284:      69594..     69602:      9:      69442: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d: 28 extents found
after filter: 13967360#32768#77824#shared 286535680#4096#110592#shared 14004224#24576#114688#shared 14028800#57344#143360#unwritten,shared 14086144#53248#200704#shared 15929344#57344#253952#shared 14196736#40960#311296#shared 14237696#12288#352256#unwritten,shared 14266368#94208#380928#unwritten,shared 13762560#28672#475136#shared 14360576#16384#503808#unwritten,shared 258404352#94208#970752#shared 14680064#36864#1150976#unwritten,shared 289873920#69632#1187840#shared 240484352#69632#1327104#shared 14856192#28672#1396736#shared 13791232#61440#1515520#shared 13914112#4096#1638400#shared 15986688#20480#1642496#shared 16007168#114688#1679360#shared 14983168#12288#1794048#shared 263663616#53248#1912832#shared 19468288#98304#1994752#shared 290144256#49152#2723840#shared 282177536#12288#2772992#shared 290193408#16384#2785280#shared 16125952#73728#3022848#shared 19918848#4096#3096576#shared 243695616#77824#3186688#shared 242118656#65536#3432448#unwritten,shared 19206144#57344#3911680#shared 284925952#131072#4247552#shared 283803648#90112#4595712#shared 285057024#36864#5226496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 13967360 /mnt/scratch
inode 262 offset 77824 root 258
inode 262 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 286535680 /mnt/scratch
inode 262 offset 110592 root 258
inode 262 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14004224 /mnt/scratch
inode 262 offset 114688 root 258
inode 262 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14028800 /mnt/scratch
inode 262 offset 143360 root 258
inode 262 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14086144 /mnt/scratch
inode 262 offset 200704 root 258
inode 262 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 15929344 /mnt/scratch
inode 262 offset 253952 root 258
inode 262 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14196736 /mnt/scratch
inode 262 offset 311296 root 258
inode 262 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14237696 /mnt/scratch
inode 262 offset 352256 root 258
inode 262 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14266368 /mnt/scratch
inode 262 offset 380928 root 258
inode 262 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 13762560 /mnt/scratch
inode 262 offset 475136 root 258
inode 262 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14360576 /mnt/scratch
inode 262 offset 503808 root 258
inode 262 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 258404352 /mnt/scratch
inode 262 offset 970752 root 258
inode 262 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14680064 /mnt/scratch
inode 262 offset 1150976 root 258
inode 262 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 262 offset 1187840 root 258
inode 262 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 240484352 /mnt/scratch
inode 262 offset 1327104 root 258
inode 262 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14856192 /mnt/scratch
inode 262 offset 1396736 root 258
inode 262 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 13791232 /mnt/scratch
inode 262 offset 1515520 root 258
inode 262 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519247959
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 13914112 /mnt/scratch
inode 262 offset 1638400 root 258
inode 262 offset 1638400 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 15986688 /mnt/scratch
inode 262 offset 1642496 root 258
inode 262 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 16007168 /mnt/scratch
inode 262 offset 1679360 root 258
inode 262 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 14983168 /mnt/scratch
inode 262 offset 1794048 root 258
inode 262 offset 1794048 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 263663616 /mnt/scratch
inode 262 offset 1912832 root 258
inode 262 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 19468288 /mnt/scratch
inode 262 offset 1994752 root 258
inode 262 offset 1994752 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 290144256 /mnt/scratch
inode 262 offset 2723840 root 258
inode 262 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 282177536 /mnt/scratch
inode 262 offset 2772992 root 258
inode 262 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 290193408 /mnt/scratch
inode 262 offset 2785280 root 258
inode 262 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 16125952 /mnt/scratch
inode 262 offset 3022848 root 258
inode 262 offset 3022848 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 19918848 /mnt/scratch
inode 262 offset 3096576 root 258
inode 262 offset 3096576 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 243695616 /mnt/scratch
inode 262 offset 3186688 root 258
inode 262 offset 3186688 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 242118656 /mnt/scratch
inode 294 offset 1966080 root 5
inode 294 offset 1966080 root 5
inode 294 offset 1966080 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 299 offset 884736 root 5
inode 299 offset 884736 root 5
inode 262 offset 3432448 root 5
inode 325 offset 69632 root 5
inode 264 offset 143360 root 258
inode 264 offset 1007616 root 258
inode 264 offset 1007616 root 258
inode 264 offset 143360 root 5
inode 264 offset 1007616 root 5
inode 264 offset 1007616 root 5
inode 325 offset 69632 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 299 offset 884736 root 258
inode 299 offset 884736 root 258
inode 262 offset 3432448 root 258
inode 294 offset 1966080 root 258
inode 294 offset 1966080 root 258
inode 294 offset 1966080 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 19206144 /mnt/scratch
inode 262 offset 3911680 root 258
inode 262 offset 3911680 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 284925952 /mnt/scratch
inode 262 offset 4247552 root 258
inode 262 offset 4247552 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 283803648 /mnt/scratch
inode 262 offset 4595712 root 258
inode 262 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
262
# /bin/btrfs inspect-internal logical-resolve -P 285057024 /mnt/scratch
inode 262 offset 5226496 root 258
inode 262 offset 5226496 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d65/d145/f154
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d65/d145/f154 is 338591 (83 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      82:      71973..     71978:      6:         77: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d65/d145/f154: 1 extent found
after filter: 294801408#24576#315392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/d145/f154
520
# /bin/btrfs inspect-internal logical-resolve -P 294801408 /mnt/scratch
inode 520 offset 315392 root 258
inode 520 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 520 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/d145/f154
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d5e/fdf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d5e/fdf is 1020214 (250 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      229..     249:      70922..     70942:     21:        229: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d5e/fdf: 1 extent found
after filter: 290496512#86016#937984#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d5e/fdf
431
# /bin/btrfs inspect-internal logical-resolve -P 290496512 /mnt/scratch
inode 431 offset 937984 root 258
inode 431 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d5e/fdf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/dbd/ffb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/dbd/ffb is 1757184 (429 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/dbd/ffb: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94 is 3190784 (779 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      116..     116:      65051..     65051:      1:        116: shared
   1:      134..     160:      66545..     66571:     27:      65069: shared
   2:      225..     236:      65052..     65063:     12:      66636: shared
   3:      237..     237:      68378..     68378:      1:      65064: shared
   4:      238..     292:      67594..     67648:     55:      68379: unwritten,shared
   5:      293..     293:      67649..     67649:      1:             shared
   6:      294..     308:      67650..     67664:     15:             unwritten,shared
   7:      453..     471:      69833..     69851:     19:      67809: shared
   8:      635..     666:      69735..     69766:     32:      70015: shared
   9:      667..     667:      70176..     70176:      1:      69767: last,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94: 8 extents found
after filter: 266448896#4096#475136#shared 272568320#110592#548864#shared 266452992#49152#921600#shared 280076288#4096#970752#shared 276865024#225280#974848#unwritten,shared 277090304#4096#1200128#shared 277094400#61440#1204224#unwritten,shared 286035968#77824#1855488#shared 285634560#131072#2600960#shared 287440896#4096#2732032#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 266448896 /mnt/scratch
inode 381 offset 475136 root 258
inode 381 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 272568320 /mnt/scratch
inode 381 offset 548864 root 258
inode 381 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 266452992 /mnt/scratch
inode 381 offset 921600 root 258
inode 381 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 280076288 /mnt/scratch
inode 381 offset 970752 root 258
inode 381 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 276865024 /mnt/scratch
inode 381 offset 974848 root 258
inode 381 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 277090304 /mnt/scratch
inode 381 offset 1200128 root 258
inode 381 offset 1200128 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 277094400 /mnt/scratch
inode 381 offset 1204224 root 258
inode 381 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 286035968 /mnt/scratch
inode 381 offset 1855488 root 258
inode 381 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 285634560 /mnt/scratch
inode 381 offset 2600960 root 258
inode 381 offset 2600960 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
381
# /bin/btrfs inspect-internal logical-resolve -P 287440896 /mnt/scratch
inode 381 offset 2732032 root 258
inode 381 offset 2732032 root 5
# /bin/btrfs inspect-internal inode-resolve 381 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f94
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/f3d is 1060864 (259 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      10:      59102..     59104:      3:          8: unwritten,shared
   1:       12..      12:      64179..     64179:      1:      59106: shared
   2:       32..      42:      70787..     70797:     11:      64199: shared
   3:      129..     134:      63052..     63057:      6:      70884: unwritten,shared
   4:      158..     162:      63052..     63056:      5:      63081: unwritten,shared
   5:      246..     258:      64166..     64178:     13:      63140: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d: 6 extents found
after filter: 242081792#12288#32768#unwritten,shared 262877184#4096#49152#shared 289943552#45056#131072#shared 258260992#24576#528384#unwritten,shared 258260992#20480#647168#unwritten,shared 262823936#53248#1007616#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 262877184 /mnt/scratch
inode 307 offset 49152 root 258
inode 307 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 289943552 /mnt/scratch
inode 307 offset 131072 root 258
inode 307 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 262823936 /mnt/scratch
inode 307 offset 1007616 root 258
inode 307 offset 1007616 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f3d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f84
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f84 is 2074532 (507 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      27:      62015..     62015:      1:         27: shared
   1:       31..      38:      64909..     64916:      8:      62019: shared
   2:       39..      58:      62023..     62042:     20:      64917: shared
   3:      285..     285:      64715..     64715:      1:      62269: shared
   4:      340..     352:      63052..     63064:     13:      64770: unwritten,shared
   5:      424..     438:      69191..     69205:     15:      63136: shared
   6:      461..     474:      64917..     64930:     14:      69228: shared
   7:      475..     475:      65197..     65197:      1:      64931: last,shared
/mnt/scratch/snap1/p0/d2/d18/f84: 8 extents found
after filter: 254013440#4096#110592#shared 265867264#32768#126976#shared 254046208#81920#159744#shared 265072640#4096#1167360#shared 258260992#53248#1392640#unwritten,shared 283406336#61440#1736704#shared 265900032#57344#1888256#shared 267046912#4096#1945600#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 254013440 /mnt/scratch
inode 365 offset 110592 root 258
inode 365 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 265867264 /mnt/scratch
inode 365 offset 126976 root 258
inode 365 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 254046208 /mnt/scratch
inode 365 offset 159744 root 258
inode 365 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 265072640 /mnt/scratch
inode 365 offset 1167360 root 258
inode 365 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 283406336 /mnt/scratch
inode 365 offset 1736704 root 258
inode 365 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 265900032 /mnt/scratch
inode 365 offset 1888256 root 258
inode 365 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f84
365
# /bin/btrfs inspect-internal logical-resolve -P 267046912 /mnt/scratch
inode 365 offset 1945600 root 258
inode 365 offset 1945600 root 5
# /bin/btrfs inspect-internal inode-resolve 365 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f84
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d5e/f139
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d5e/f139 is 1474560 (360 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      346..     359:      69800..     69813:     14:        346: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d5e/f139: 1 extent found
after filter: 285900800#57344#1417216#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d5e/f139
501
# /bin/btrfs inspect-internal logical-resolve -P 285900800 /mnt/scratch
inode 501 offset 1417216 root 258
inode 501 offset 1417216 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d5e/f139
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/fc2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/fc2 is 565248 (138 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      128..     137:      68614..     68623:     10:        128: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/fc2: 1 extent found
after filter: 281042944#40960#524288#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/fc2
409
# /bin/btrfs inspect-internal logical-resolve -P 281042944 /mnt/scratch
inode 409 offset 524288 root 258
inode 409 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 409 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/fc2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101 is 1100802 (269 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       20..      27:      66608..     66615:      8:         20: shared
   1:      147..     177:      71583..     71613:     31:      66735: shared
   2:      198..     199:      68530..     68531:      2:      71634: shared
   3:      243..     268:      68352..     68377:     26:      68575: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101: 4 extents found
after filter: 272826368#32768#81920#shared 293203968#126976#602112#shared 280698880#8192#811008#shared 279969792#106496#995328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
432
# /bin/btrfs inspect-internal logical-resolve -P 272826368 /mnt/scratch
inode 432 offset 81920 root 258
inode 432 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
432
# /bin/btrfs inspect-internal logical-resolve -P 293203968 /mnt/scratch
inode 432 offset 602112 root 258
inode 432 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
432
# /bin/btrfs inspect-internal logical-resolve -P 280698880 /mnt/scratch
inode 432 offset 811008 root 258
inode 432 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
432
# /bin/btrfs inspect-internal logical-resolve -P 279969792 /mnt/scratch
inode 432 offset 995328 root 258
inode 432 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe is 626688 (153 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      124..     139:      65618..     65633:     16:        124: shared
   1:      145..     152:      65639..     65646:      8:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe: 1 extent found
after filter: 268771328#65536#507904#shared 268857344#32768#593920#last,shared,eof 
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe
456
# /bin/btrfs inspect-internal logical-resolve -P 268771328 /mnt/scratch
inode 456 offset 507904 root 258
inode 456 offset 507904 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519157488
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe
456
# /bin/btrfs inspect-internal logical-resolve -P 268857344 /mnt/scratch
inode 456 offset 593920 root 258
inode 456 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/ffe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/f46
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/f46 is 698199 (171 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       2:      60051..     60052:      2:          1: shared
   1:       30..      40:      63054..     63064:     11:      60080: unwritten,shared
   2:      129..     134:      59804..     59809:      6:      63153: shared
   3:      148..     152:      63132..     63136:      5:      59823: last,shared
/mnt/scratch/snap1/p0/d2/d18/d2f/f46: 4 extents found
after filter: 245968896#8192#4096#shared 258269184#45056#122880#unwritten,shared 244957184#24576#528384#shared 258588672#20480#606208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f46
266
# /bin/btrfs inspect-internal logical-resolve -P 245968896 /mnt/scratch
inode 266 offset 4096 root 258
inode 266 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f46
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f46
266
# /bin/btrfs inspect-internal logical-resolve -P 258269184 /mnt/scratch
inode 367 offset 438272 root 5
inode 365 offset 1400832 root 5
inode 304 offset 1052672 root 5
inode 320 offset 1970176 root 5
inode 320 offset 782336 root 5
inode 320 offset 1970176 root 5
inode 269 offset 1585152 root 258
inode 269 offset 1585152 root 5
inode 290 offset 2301952 root 5
inode 290 offset 2301952 root 5
inode 292 offset 253952 root 5
inode 264 offset 2347008 root 258
inode 266 offset 122880 root 258
inode 264 offset 2347008 root 5
inode 266 offset 122880 root 5
inode 332 offset 94208 root 5
inode 397 offset 487424 root 258
inode 397 offset 487424 root 5
inode 349 offset 331776 root 5
inode 376 offset 884736 root 258
inode 376 offset 884736 root 5
inode 307 offset 655360 root 5
inode 307 offset 536576 root 5
inode 307 offset 655360 root 5
inode 350 offset 659456 root 5
inode 280 offset 2191360 root 5
inode 385 offset 110592 root 5
inode 320 offset 782336 root 258
inode 320 offset 1970176 root 258
inode 320 offset 1970176 root 258
inode 307 offset 655360 root 258
inode 307 offset 536576 root 258
inode 307 offset 655360 root 258
inode 349 offset 331776 root 258
inode 292 offset 253952 root 258
inode 290 offset 2301952 root 258
inode 290 offset 2301952 root 258
inode 350 offset 659456 root 258
inode 332 offset 94208 root 258
inode 280 offset 2191360 root 258
inode 365 offset 1400832 root 258
inode 367 offset 438272 root 258
inode 385 offset 110592 root 258
inode 304 offset 1052672 root 258
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f46
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f46
266
# /bin/btrfs inspect-internal logical-resolve -P 244957184 /mnt/scratch
inode 266 offset 528384 root 258
inode 266 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f46
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f46
266
# /bin/btrfs inspect-internal logical-resolve -P 258588672 /mnt/scratch
inode 266 offset 606208 root 258
inode 266 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 266 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f46
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/ff4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/ff4 is 1453711 (355 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      33:      63052..     63064:     13:         21: unwritten,shared
   1:       42..      71:      69956..     69985:     30:      63073: shared
   2:      195..     198:       4381..      4384:      4:      70109: shared
   3:      214..     215:       4306..      4307:      2:       4400: shared
   4:      273..     289:      70493..     70509:     17:       4365: shared
   5:      349..     354:      72060..     72065:      6:      70569: last,shared,eof
/mnt/scratch/snap1/p0/d2/d25/ff4: 6 extents found
after filter: 258260992#53248#86016#unwritten,shared 286539776#122880#172032#shared 17944576#16384#798720#shared 17637376#8192#876544#shared 288739328#69632#1118208#shared 295157760#24576#1429504#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 286539776 /mnt/scratch
inode 332 offset 172032 root 258
inode 332 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 17944576 /mnt/scratch
inode 332 offset 798720 root 258
inode 332 offset 798720 root 5
inode 267 offset 1712128 root 258
inode 267 offset 1712128 root 5
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 17637376 /mnt/scratch
inode 332 offset 876544 root 258
inode 267 offset 1789952 root 258
inode 267 offset 1789952 root 5
inode 332 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 288739328 /mnt/scratch
inode 332 offset 1118208 root 258
inode 332 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/ff4
332
# /bin/btrfs inspect-internal logical-resolve -P 295157760 /mnt/scratch
inode 332 offset 1429504 root 258
inode 332 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 332 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/ff4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f is 1581757 (387 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      130..     133:      61492..     61495:      4:        130: shared
   1:      214..     226:      63052..     63064:     13:      61576: unwritten,shared
   2:      382..     386:      65065..     65069:      5:      63220: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f: 3 extents found
after filter: 251871232#16384#532480#shared 258260992#53248#876544#unwritten,shared 266506240#20480#1564672#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
376
# /bin/btrfs inspect-internal logical-resolve -P 251871232 /mnt/scratch
inode 376 offset 532480 root 258
inode 376 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
376
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
376
# /bin/btrfs inspect-internal logical-resolve -P 266506240 /mnt/scratch
inode 376 offset 1564672 root 258
inode 376 offset 1564672 root 5
# /bin/btrfs inspect-internal inode-resolve 376 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f8f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0 is 1100802 (269 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       20..      27:      66608..     66615:      8:         20: shared
   1:      147..     177:      71583..     71613:     31:      66735: shared
   2:      198..     199:      68530..     68531:      2:      71634: shared
   3:      243..     268:      68352..     68377:     26:      68575: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0: 4 extents found
after filter: 272826368#32768#81920#shared 293203968#126976#602112#shared 280698880#8192#811008#shared 279969792#106496#995328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
432
# /bin/btrfs inspect-internal logical-resolve -P 272826368 /mnt/scratch
inode 432 offset 81920 root 258
inode 432 offset 81920 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
432
# /bin/btrfs inspect-internal logical-resolve -P 293203968 /mnt/scratch
inode 432 offset 602112 root 258
inode 432 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
432
# /bin/btrfs inspect-internal logical-resolve -P 280698880 /mnt/scratch
inode 432 offset 811008 root 258
inode 432 offset 811008 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
432
# /bin/btrfs inspect-internal logical-resolve -P 279969792 /mnt/scratch
inode 432 offset 995328 root 258
inode 432 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d76/fe0
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/def/f101
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156 is 1708719 (418 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       4:      69310..     69310:      1:          4: shared
   1:       34..      53:      63583..     63602:     20:      69340: shared
   2:      319..     336:      64845..     64862:     18:      63868: shared
   3:      337..     337:      68383..     68383:      1:      64863: shared
   4:      392..     411:      69511..     69530:     20:      68438: shared
   5:      501..     600:      64600..     64699:    100:      69620: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156: 6 extents found
after filter: 283893760#4096#16384#shared 260435968#81920#139264#shared 265605120#73728#1306624#shared 280096768#4096#1380352#shared 284717056#81920#1605632#shared 264601600#409600#2052096#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 283893760 /mnt/scratch
inode 395 offset 16384 root 258
inode 395 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 260435968 /mnt/scratch
inode 395 offset 139264 root 258
inode 395 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 265605120 /mnt/scratch
inode 395 offset 1306624 root 258
inode 395 offset 1306624 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 280096768 /mnt/scratch
inode 395 offset 1380352 root 258
inode 395 offset 1380352 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 284717056 /mnt/scratch
inode 395 offset 1605632 root 258
inode 395 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
395
# /bin/btrfs inspect-internal logical-resolve -P 264601600 /mnt/scratch
inode 395 offset 2052096 root 258
inode 395 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6 is 891585 (218 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      160..     160:      64330..     64330:      1:        160: shared
   1:      191..     217:      67829..     67855:     27:      64361: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6: 2 extents found
after filter: 263495680#4096#655360#shared 277827584#110592#782336#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6
437
# /bin/btrfs inspect-internal logical-resolve -P 263495680 /mnt/scratch
inode 437 offset 655360 root 258
inode 437 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6
437
# /bin/btrfs inspect-internal logical-resolve -P 277827584 /mnt/scratch
inode 437 offset 782336 root 258
inode 437 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 437 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d65/dde/fe6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109 is 2124001 (519 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       98..     103:      61820..     61825:      6:         98: unwritten,shared
   1:      134..     136:      68467..     68469:      3:      61856: shared
   2:      160..     170:      64832..     64842:     11:      68493: shared
   3:      171..     171:      69718..     69718:      1:      64843: shared
   4:      427..     427:      70160..     70160:      1:      69974: shared
   5:      490..     504:      70161..     70175:     15:             shared
   6:      505..     518:      69900..     69913:     14:      70176: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109: 6 extents found
after filter: 253214720#24576#401408#unwritten,shared 280440832#12288#548864#shared 265551872#45056#655360#shared 285564928#4096#700416#shared 287375360#4096#1748992#shared 287379456#61440#2007040#shared 286310400#57344#2068480#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 253214720 /mnt/scratch
inode 320 offset 983040 root 258
inode 323 offset 20480 root 258
inode 320 offset 983040 root 258
inode 415 offset 401408 root 258
inode 304 offset 487424 root 258
inode 281 offset 98304 root 258
inode 299 offset 237568 root 258
inode 320 offset 983040 root 5
inode 323 offset 20480 root 5
inode 320 offset 983040 root 5
inode 415 offset 401408 root 5
inode 304 offset 487424 root 5
inode 281 offset 98304 root 5
inode 299 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 280440832 /mnt/scratch
inode 415 offset 548864 root 258
inode 415 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 265551872 /mnt/scratch
inode 415 offset 655360 root 258
inode 415 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 285564928 /mnt/scratch
inode 415 offset 700416 root 258
inode 415 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 287375360 /mnt/scratch
inode 415 offset 1748992 root 258
inode 415 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 287379456 /mnt/scratch
inode 415 offset 2007040 root 258
inode 415 offset 2007040 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
415
# /bin/btrfs inspect-internal logical-resolve -P 286310400 /mnt/scratch
inode 415 offset 2068480 root 258
inode 415 offset 2068480 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f109
background rm
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba is 3735552 (912 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      35:      63825..     63837:     13:         23: shared
   1:       76..      80:      60485..     60489:      5:      63878: shared
   2:       81..      81:      62076..     62076:      1:      60490: shared
   3:      300..     307:      62355..     62362:      8:      62295: shared
   4:      309..     322:      61953..     61966:     14:      62364: shared
   5:      328..     340:      71811..     71823:     13:      61972: shared
   6:      456..     464:      64362..     64370:      9:      71939: shared
   7:      539..     549:      65681..     65691:     11:      64445: shared
   8:      550..     550:      66461..     66461:      1:      65692: shared
   9:      597..     602:      68556..     68561:      6:      66508: shared
  10:      823..     836:      71643..     71656:     14:      68782: shared
  11:      899..     911:      67298..     67310:     13:      71719: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba: 12 extents found
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518714961
after filter: 261427200#53248#94208#shared 247746560#20480#311296#shared 254263296#4096#331776#shared 255406080#32768#1228800#shared 253759488#57344#1265664#shared 294137856#53248#1343488#shared 263626752#36864#1867776#shared 269029376#45056#2207744#shared 272224256#4096#2252800#shared 280805376#24576#2445312#shared 293449728#57344#3371008#shared 275652608#53248#3682304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 261427200 /mnt/scratch
inode 373 offset 94208 root 258
inode 373 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 247746560 /mnt/scratch
inode 373 offset 311296 root 258
inode 373 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 254263296 /mnt/scratch
inode 373 offset 331776 root 258
inode 373 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 255406080 /mnt/scratch
inode 373 offset 1228800 root 258
inode 373 offset 1228800 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 253759488 /mnt/scratch
inode 373 offset 1265664 root 258
inode 373 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 294137856 /mnt/scratch
inode 373 offset 1343488 root 258
inode 373 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 263626752 /mnt/scratch
inode 373 offset 1867776 root 258
inode 373 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 269029376 /mnt/scratch
inode 373 offset 2207744 root 258
inode 373 offset 2207744 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 272224256 /mnt/scratch
inode 373 offset 2252800 root 258
inode 373 offset 2252800 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 280805376 /mnt/scratch
inode 373 offset 2445312 root 258
inode 373 offset 2445312 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 293449728 /mnt/scratch
inode 373 offset 3371008 root 258
inode 373 offset 3371008 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
373
# /bin/btrfs inspect-internal logical-resolve -P 275652608 /mnt/scratch
inode 373 offset 3682304 root 258
inode 373 offset 3682304 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f157
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f157 is 1803889 (441 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       30..      46:      69241..     69257:     17:         30: shared
   1:      141..     170:      71980..     72009:     30:      69352: shared
   2:      172..     172:      70821..     70821:      1:      72011: shared
   3:      427..     440:      70822..     70835:     14:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f157: 3 extents found
after filter: 283611136#69632#122880#shared 294830080#122880#577536#shared 290082816#4096#704512#shared 290086912#57344#1748992#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f157
378
# /bin/btrfs inspect-internal logical-resolve -P 283611136 /mnt/scratch
inode 378 offset 122880 root 258
inode 378 offset 122880 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f157
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f157
378
# /bin/btrfs inspect-internal logical-resolve -P 294830080 /mnt/scratch
inode 378 offset 577536 root 258
inode 378 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f157
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f157
378
# /bin/btrfs inspect-internal logical-resolve -P 290082816 /mnt/scratch
inode 378 offset 704512 root 258
inode 378 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f157
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f157
378
# /bin/btrfs inspect-internal logical-resolve -P 290086912 /mnt/scratch
inode 378 offset 1748992 root 258
inode 378 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f157
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/fb5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/fb5 is 351436 (86 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      26:      69608..     69608:      1:         26: shared
   1:       27..      27:      70944..     70944:      1:      69609: last,shared
/mnt/scratch/snap1/p0/d2/d18/d3c/fb5: 2 extents found
after filter: 285114368#4096#106496#shared 290586624#4096#110592#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/fb5
401
# /bin/btrfs inspect-internal logical-resolve -P 285114368 /mnt/scratch
inode 401 offset 106496 root 258
inode 401 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/fb5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/fb5
401
# /bin/btrfs inspect-internal logical-resolve -P 290586624 /mnt/scratch
inode 401 offset 110592 root 258
inode 401 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/fb5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d is 1220964 (299 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      30:      61528..     61530:      3:         28: shared
   1:       75..     102:       4997..      5024:     28:      61575: shared
   2:      139..     146:      59114..     59121:      8:       5061: unwritten,shared
   3:      150..     150:      59125..     59125:      1:             unwritten,shared
   4:      151..     151:      61279..     61279:      1:      59126: shared
   5:      153..     155:      58966..     58968:      3:      61281: unwritten,shared
   6:      156..     183:      58969..     58996:     28:             shared
   7:      224..     224:      72010..     72010:      1:      59037: shared
   8:      273..     298:      72011..     72036:     26:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d: 6 extents found
after filter: 252018688#12288#114688#shared 20467712#114688#307200#shared 242130944#32768#569344#unwritten,shared 242176000#4096#614400#unwritten,shared 250998784#4096#618496#shared 241524736#12288#626688#unwritten,shared 241537024#114688#638976#shared 294952960#4096#917504#shared 294957056#106496#1118208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 252018688 /mnt/scratch
inode 301 offset 114688 root 258
inode 301 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 20467712 /mnt/scratch
inode 301 offset 307200 root 258
inode 301 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 242130944 /mnt/scratch
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 204800 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 299 offset 897024 root 5
inode 301 offset 569344 root 5
inode 299 offset 438272 root 5
inode 299 offset 897024 root 5
inode 262 offset 3444736 root 5
inode 350 offset 90112 root 5
inode 264 offset 155648 root 258
inode 264 offset 1019904 root 258
inode 264 offset 1019904 root 258
inode 264 offset 155648 root 5
inode 264 offset 1019904 root 5
inode 264 offset 1019904 root 5
inode 280 offset 204800 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 299 offset 438272 root 258
inode 299 offset 897024 root 258
inode 301 offset 569344 root 258
inode 299 offset 897024 root 258
inode 350 offset 90112 root 258
inode 262 offset 3444736 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 242176000 /mnt/scratch
inode 294 offset 2023424 root 5
inode 294 offset 2023424 root 5
inode 294 offset 2023424 root 5
inode 280 offset 974848 root 5
inode 280 offset 974848 root 5
inode 280 offset 974848 root 5
inode 268 offset 1118208 root 258
inode 268 offset 1118208 root 258
inode 268 offset 1118208 root 5
inode 268 offset 1118208 root 5
inode 292 offset 339968 root 5
inode 262 offset 3489792 root 5
inode 301 offset 614400 root 5
inode 299 offset 483328 root 5
inode 350 offset 135168 root 5
inode 272 offset 1036288 root 258
inode 272 offset 1036288 root 5
inode 264 offset 200704 root 258
inode 264 offset 1064960 root 258
inode 264 offset 1064960 root 258
inode 264 offset 200704 root 5
inode 264 offset 1064960 root 5
inode 264 offset 1064960 root 5
inode 280 offset 974848 root 258
inode 280 offset 974848 root 258
inode 280 offset 974848 root 258
inode 299 offset 483328 root 258
inode 301 offset 614400 root 258
inode 350 offset 135168 root 258
inode 262 offset 3489792 root 258
inode 292 offset 339968 root 258
inode 294 offset 2023424 root 258
inode 294 offset 2023424 root 258
inode 294 offset 2023424 root 258
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 250998784 /mnt/scratch
inode 301 offset 618496 root 258
inode 301 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 241524736 /mnt/scratch
inode 301 offset 626688 root 258
inode 301 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 241537024 /mnt/scratch
inode 301 offset 638976 root 258
inode 301 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 294952960 /mnt/scratch
inode 301 offset 917504 root 258
inode 301 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
301
# /bin/btrfs inspect-internal logical-resolve -P 294957056 /mnt/scratch
inode 301 offset 1118208 root 258
inode 301 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 301 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d120/f18d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4 is 1206375 (295 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       94..     120:      68849..     68875:     27:         94: shared
   1:      121..     138:      64384..     64401:     18:      68876: shared
   2:      139..     139:      66460..     66460:      1:      64402: shared
   3:      194..     214:      71254..     71274:     21:      66515: shared
   4:      216..     230:      66222..     66236:     15:      71276: shared
   5:      281..     294:      69704..     69717:     14:      66287: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4: 6 extents found
after filter: 282005504#110592#385024#shared 263716864#73728#495616#shared 272220160#4096#569344#shared 291856384#86016#794624#shared 271245312#61440#884736#shared 285507584#57344#1150976#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 282005504 /mnt/scratch
inode 423 offset 385024 root 258
inode 423 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 263716864 /mnt/scratch
inode 423 offset 495616 root 258
inode 423 offset 495616 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 272220160 /mnt/scratch
inode 423 offset 569344 root 258
inode 423 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 291856384 /mnt/scratch
inode 423 offset 794624 root 258
inode 423 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 271245312 /mnt/scratch
inode 423 offset 884736 root 258
inode 423 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
423
# /bin/btrfs inspect-internal logical-resolve -P 285507584 /mnt/scratch
inode 423 offset 1150976 root 258
inode 423 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 423 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/fd4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f167
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f167 is 58067 (15 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      14:      72054..     72059:      6:          9: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f167: 1 extent found
after filter: 295133184#24576#36864#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f167
534
# /bin/btrfs inspect-internal logical-resolve -P 295133184 /mnt/scratch
inode 534 offset 36864 root 258
inode 534 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 534 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f167
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d65/f116
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d65/f116 is 3108864 (759 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      29:      66628..     66642:     15:         15: shared
   1:       43..      63:       3864..      3884:     21:      66656: shared
   2:       64..      71:       5300..      5307:      8:       3885: shared
   3:       80..      80:      67783..     67783:      1:       5316: shared
   4:       81..      95:      70995..     71009:     15:      67784: shared
   5:       96..     100:      67799..     67803:      5:      71010: shared
   6:      146..     174:       4242..      4270:     29:      67849: shared
   7:      206..     208:      69238..     69240:      3:       4302: unwritten,shared
   8:      227..     232:       4280..      4285:      6:      69259: shared
   9:      233..     240:      71960..     71967:      8:       4286: shared
  10:      241..     241:      71582..     71582:      1:      71968: shared
  11:      242..     251:       4295..      4304:     10:      71583: shared
  12:      252..     252:       4322..      4322:      1:       4305: shared
  13:      291..     296:      59118..     59123:      6:       4361: unwritten,shared
  14:      304..     317:      64987..     65000:     14:      59131: shared
  15:      322..     337:      59300..     59315:     16:      65005: shared
  16:      338..     338:      67001..     67001:      1:      59316: shared
  17:      410..     418:      70087..     70095:      9:      67073: shared
  18:      515..     525:      66238..     66248:     11:      70192: shared
  19:      551..     555:      67804..     67808:      5:      66274: shared
  20:      556..     556:      68384..     68384:      1:      67809: shared
  21:      624..     653:      71552..     71581:     30:      68452: shared
  22:      662..     678:      71010..     71026:     17:      71590: shared
  23:      739..     743:      68385..     68389:      5:      71087: shared
  24:      744..     744:      69072..     69072:      1:      68390: shared
  25:      758..     758:      68894..     68894:      1:      69086: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d65/f116: 26 extents found
after filter: 272908288#61440#61440#shared 15826944#86016#176128#shared 21708800#32768#262144#shared 277639168#4096#327680#shared 290795520#61440#331776#shared 277704704#20480#393216#shared 17375232#118784#598016#shared 283598848#12288#843776#unwritten,shared 17530880#24576#929792#shared 294748160#32768#954368#shared 293199872#4096#987136#shared 17592320#40960#991232#shared 17702912#4096#1032192#shared 242147328#24576#1191936#unwritten,shared 266186752#57344#1245184#shared 242892800#65536#1318912#shared 274436096#4096#1384448#shared 287076352#36864#1679360#shared 271310848#45056#2109440#shared 277725184#20480#2256896#shared 280100864#4096#2277376#shared 293076992#122880#2555904#shared 290856960#69632#2711552#shared 280104960#20480#3026944#shared 282918912#4096#3047424#shared 282189824#4096#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 272908288 /mnt/scratch
inode 275 offset 61440 root 258
inode 275 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 15826944 /mnt/scratch
inode 275 offset 176128 root 258
inode 275 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 21708800 /mnt/scratch
inode 275 offset 262144 root 258
inode 275 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 277639168 /mnt/scratch
inode 275 offset 327680 root 258
inode 275 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 290795520 /mnt/scratch
inode 275 offset 331776 root 258
inode 275 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518599412
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 17375232 /mnt/scratch
inode 275 offset 598016 root 258
inode 275 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 283598848 /mnt/scratch
inode 275 offset 843776 root 258
inode 275 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 17530880 /mnt/scratch
inode 275 offset 929792 root 258
inode 275 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 294748160 /mnt/scratch
inode 275 offset 954368 root 258
inode 275 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 293199872 /mnt/scratch
inode 275 offset 987136 root 258
inode 275 offset 987136 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 17592320 /mnt/scratch
inode 275 offset 991232 root 258
inode 275 offset 991232 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 17702912 /mnt/scratch
inode 275 offset 1032192 root 258
inode 275 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 242147328 /mnt/scratch
inode 275 offset 1191936 root 258
inode 275 offset 1191936 root 5
inode 294 offset 1200128 root 5
inode 294 offset 1200128 root 5
inode 280 offset 946176 root 5
inode 280 offset 221184 root 5
inode 280 offset 946176 root 5
inode 280 offset 946176 root 5
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 258
inode 268 offset 1089536 root 5
inode 268 offset 1089536 root 5
inode 292 offset 311296 root 5
inode 299 offset 913408 root 5
inode 301 offset 585728 root 5
inode 299 offset 454656 root 5
inode 299 offset 913408 root 5
inode 262 offset 3461120 root 5
inode 272 offset 1007616 root 258
inode 272 offset 1007616 root 5
inode 264 offset 172032 root 258
inode 264 offset 1036288 root 258
inode 264 offset 1036288 root 258
inode 264 offset 172032 root 5
inode 264 offset 1036288 root 5
inode 264 offset 1036288 root 5
inode 280 offset 221184 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 280 offset 946176 root 258
inode 299 offset 454656 root 258
inode 299 offset 913408 root 258
inode 301 offset 585728 root 258
inode 299 offset 913408 root 258
inode 262 offset 3461120 root 258
inode 292 offset 311296 root 258
inode 294 offset 1200128 root 258
inode 294 offset 1200128 root 258
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 266186752 /mnt/scratch
inode 275 offset 1245184 root 258
inode 275 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 242892800 /mnt/scratch
inode 275 offset 1318912 root 258
inode 275 offset 1318912 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 274436096 /mnt/scratch
inode 275 offset 1384448 root 258
inode 275 offset 1384448 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 287076352 /mnt/scratch
inode 275 offset 1679360 root 258
inode 275 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 271310848 /mnt/scratch
inode 459 offset 565248 root 258
inode 275 offset 2109440 root 258
inode 459 offset 565248 root 5
inode 275 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 277725184 /mnt/scratch
inode 275 offset 2256896 root 258
inode 275 offset 2256896 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 280100864 /mnt/scratch
inode 275 offset 2277376 root 258
inode 275 offset 2277376 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 293076992 /mnt/scratch
inode 275 offset 2555904 root 258
inode 275 offset 2555904 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 290856960 /mnt/scratch
inode 275 offset 2711552 root 258
inode 275 offset 2711552 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 280104960 /mnt/scratch
inode 275 offset 3026944 root 258
inode 275 offset 3026944 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 282918912 /mnt/scratch
inode 275 offset 3047424 root 258
inode 275 offset 3047424 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d65/f116
275
# /bin/btrfs inspect-internal logical-resolve -P 282189824 /mnt/scratch
inode 275 offset 3104768 root 258
inode 275 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 275 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f14
/mnt/scratch/snap1/p0/d2/d18/f19
/mnt/scratch/snap1/p0/d2/d18/f82
/mnt/scratch/snap1/p0/d2/d55/d65/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d96/f140
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d96/f140 is 499712 (122 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       13..      18:      69232..     69237:      6:         13: shared
   1:       19..      33:      69056..     69070:     15:      69238: shared
   2:       34..      34:      70125..     70125:      1:      69071: shared
   3:      114..     121:      70079..     70086:      8:      70205: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d96/f140: 4 extents found
after filter: 283574272#24576#53248#shared 282853376#61440#77824#shared 287232000#4096#139264#shared 287043584#32768#466944#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f140
508
# /bin/btrfs inspect-internal logical-resolve -P 283574272 /mnt/scratch
inode 508 offset 53248 root 258
inode 508 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f140
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f140
508
# /bin/btrfs inspect-internal logical-resolve -P 282853376 /mnt/scratch
inode 508 offset 77824 root 258
inode 508 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f140
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f140
508
# /bin/btrfs inspect-internal logical-resolve -P 287232000 /mnt/scratch
inode 508 offset 139264 root 258
inode 508 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f140
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f140
508
# /bin/btrfs inspect-internal logical-resolve -P 287043584 /mnt/scratch
inode 508 offset 466944 root 258
inode 508 offset 466944 root 5
# /bin/btrfs inspect-internal inode-resolve 508 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f140
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f174
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f174 is 778240 (190 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..      16:      69719..     69732:     14:          3: shared
   1:       17..      17:      71028..     71028:      1:      69733: shared
   2:      167..     189:      70798..     70820:     23:      71178: last,shared,eof
/mnt/scratch/snap1/p0/d2/f174: 3 extents found
after filter: 285569024#57344#12288#shared 290930688#4096#69632#shared 289988608#94208#684032#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f174
544
# /bin/btrfs inspect-internal logical-resolve -P 285569024 /mnt/scratch
inode 544 offset 12288 root 258
inode 544 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f174
# stat -c %i /mnt/scratch/snap1/p0/d2/f174
544
# /bin/btrfs inspect-internal logical-resolve -P 290930688 /mnt/scratch
inode 544 offset 69632 root 258
inode 544 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f174
# stat -c %i /mnt/scratch/snap1/p0/d2/f174
544
# /bin/btrfs inspect-internal logical-resolve -P 289988608 /mnt/scratch
inode 544 offset 684032 root 258
inode 544 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 544 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f174
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d3c/f135
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d3c/f135 is 2170880 (530 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       17..      32:      70877..     70892:     16:         17: shared
   1:      299..     317:      69914..     69932:     19:      71159: shared
   2:      526..     529:      70510..     70513:      4:      70141: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d3c/f135: 3 extents found
after filter: 290312192#65536#69632#shared 286367744#77824#1224704#shared 288808960#16384#2154496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f135
499
# /bin/btrfs inspect-internal logical-resolve -P 290312192 /mnt/scratch
inode 499 offset 69632 root 258
inode 499 offset 69632 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f135
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f135
499
# /bin/btrfs inspect-internal logical-resolve -P 286367744 /mnt/scratch
inode 499 offset 1224704 root 258
inode 499 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f135
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d3c/f135
499
# /bin/btrfs inspect-internal logical-resolve -P 288808960 /mnt/scratch
inode 499 offset 2154496 root 258
inode 499 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 499 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d3c/f135
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d96/fff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d96/fff is 621200 (152 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      124..     151:      66462..     66489:     28:        124: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d96/fff: 1 extent found
after filter: 272228352#114688#507904#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/fff
457
# /bin/btrfs inspect-internal logical-resolve -P 272228352 /mnt/scratch
inode 457 offset 507904 root 258
inode 457 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 457 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/fff
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8 is 779266 (191 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..       6:      61817..     61821:      5:          2: unwritten,shared
   1:       55..      63:      61043..     61051:      9:      61870: shared
   2:       64..      64:      59646..     59646:      1:      61052: shared
   3:       66..      66:      59647..     59647:      1:             shared
   4:       67..      75:      59881..     59889:      9:      59648: shared
   5:       76..      96:      59657..     59677:     21:      59890: shared
   6:       97..      97:      60021..     60021:      1:      59678: shared
   7:      108..     126:      59748..     59766:     19:      60032: shared
   8:      150..     178:      70311..     70339:     29:      59790: last,shared
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8: 8 extents found
after filter: 253202432#20480#8192#unwritten,shared 250032128#36864#225280#shared 244310016#4096#262144#shared 244314112#4096#270336#shared 245272576#36864#274432#shared 244355072#86016#311296#shared 245846016#4096#397312#shared 244727808#77824#442368#shared 287993856#118784#614400#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 253202432 /mnt/scratch
inode 320 offset 970752 root 258
inode 323 offset 8192 root 258
inode 320 offset 970752 root 258
inode 304 offset 1183744 root 258
inode 304 offset 475136 root 258
inode 304 offset 1183744 root 258
inode 281 offset 86016 root 258
inode 299 offset 225280 root 258
inode 320 offset 970752 root 5
inode 323 offset 8192 root 5
inode 320 offset 970752 root 5
inode 304 offset 1183744 root 5
inode 304 offset 475136 root 5
inode 304 offset 1183744 root 5
inode 281 offset 86016 root 5
inode 299 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 250032128 /mnt/scratch
inode 323 offset 225280 root 258
inode 323 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 244310016 /mnt/scratch
inode 323 offset 262144 root 258
inode 323 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 244314112 /mnt/scratch
inode 323 offset 270336 root 258
inode 323 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 245272576 /mnt/scratch
inode 323 offset 274432 root 258
inode 323 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 244355072 /mnt/scratch
inode 323 offset 311296 root 258
inode 323 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 245846016 /mnt/scratch
inode 323 offset 397312 root 258
inode 323 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 244727808 /mnt/scratch
inode 323 offset 442368 root 258
inode 323 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
323
# /bin/btrfs inspect-internal logical-resolve -P 287993856 /mnt/scratch
inode 323 offset 614400 root 258
inode 323 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 323 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/d1c5/fe8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f6 is 4349952 (1062 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       26..      50:      59102..     59126:     25:         26: unwritten,shared
   1:       55..      56:       3580..      3581:      2:      59131: unwritten,shared
   2:       57..      83:       4817..      4843:     27:       3582: shared
   3:       84..      89:       3609..      3614:      6:       4844: unwritten,shared
   4:       90..      90:       4099..      4099:      1:       3615: shared
   5:      145..     148:      62264..     62267:      4:       4154: shared
   6:      181..     184:       4844..      4847:      4:      62300: shared
   7:      197..     226:       4135..      4164:     30:       4860: shared
   8:      227..     238:      66616..     66627:     12:       4165: shared
   9:      239..     261:      59104..     59126:     23:      66628: unwritten,shared
  10:      262..     299:       4044..      4081:     38:      59127: unwritten,shared
  11:      303..     305:       4085..      4087:      3:             unwritten,shared
  12:      405..     407:      60475..     60477:      3:       4187: shared
  13:      418..     425:      67428..     67435:      8:      60488: unwritten,shared
  14:      429..     489:      67439..     67499:     61:             unwritten,shared
  15:      506..     514:      65132..     65140:      9:      67516: shared
  16:      571..     583:      63052..     63064:     13:      65197: unwritten,shared
  17:      670..     689:      61204..     61223:     20:      63151: shared
  18:     1057..    1061:      66996..     67000:      5:      61591: last,shared,eof
/mnt/scratch/snap1/p0/d2/f6: 17 extents found
after filter: 242081792#102400#106496#unwritten,shared 14663680#8192#225280#unwritten,shared 19730432#110592#233472#shared 14782464#24576#344064#unwritten,shared 16789504#4096#368640#shared 255033344#16384#593920#shared 19841024#16384#741376#shared 16936960#122880#806912#shared 272859136#49152#929792#shared 242089984#94208#978944#unwritten,shared 16564224#155648#1073152#unwritten,shared 16732160#12288#1241088#unwritten,shared 247705600#12288#1658880#shared 276185088#32768#1712128#unwritten,shared 276230144#249856#1757184#unwritten,shared 266780672#36864#2072576#shared 258260992#53248#2338816#unwritten,shared 250691584#81920#2744320#shared 274415616#20480#4329472#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 14663680 /mnt/scratch
inode 264 offset 225280 root 258
inode 264 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 19730432 /mnt/scratch
inode 264 offset 233472 root 258
inode 264 offset 233472 root 5
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519335960
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 14782464 /mnt/scratch
inode 264 offset 344064 root 258
inode 264 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 16789504 /mnt/scratch
inode 264 offset 368640 root 258
inode 264 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 255033344 /mnt/scratch
inode 264 offset 593920 root 258
inode 264 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 19841024 /mnt/scratch
inode 264 offset 741376 root 258
inode 264 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 16936960 /mnt/scratch
inode 264 offset 806912 root 258
inode 264 offset 806912 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 272859136 /mnt/scratch
inode 264 offset 929792 root 258
inode 264 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 242089984 /mnt/scratch
inode 294 offset 1937408 root 5
inode 294 offset 294912 root 5
inode 294 offset 1937408 root 5
inode 294 offset 1937408 root 5
inode 346 offset 286720 root 5
inode 280 offset 688128 root 5
inode 280 offset 888832 root 5
inode 280 offset 163840 root 5
inode 280 offset 688128 root 5
inode 280 offset 888832 root 5
inode 280 offset 688128 root 5
inode 280 offset 888832 root 5
inode 268 offset 536576 root 258
inode 268 offset 536576 root 5
inode 299 offset 856064 root 5
inode 299 offset 856064 root 5
inode 307 offset 40960 root 5
inode 325 offset 40960 root 5
inode 324 offset 614400 root 5
inode 264 offset 114688 root 258
inode 264 offset 978944 root 258
inode 264 offset 978944 root 258
inode 264 offset 114688 root 5
inode 264 offset 978944 root 5
inode 264 offset 978944 root 5
inode 325 offset 40960 root 258
inode 324 offset 614400 root 258
inode 280 offset 163840 root 258
inode 280 offset 688128 root 258
inode 280 offset 888832 root 258
inode 280 offset 688128 root 258
inode 280 offset 888832 root 258
inode 280 offset 688128 root 258
inode 280 offset 888832 root 258
inode 299 offset 856064 root 258
inode 299 offset 856064 root 258
inode 307 offset 40960 root 258
inode 346 offset 286720 root 258
inode 294 offset 294912 root 258
inode 294 offset 1937408 root 258
inode 294 offset 1937408 root 258
inode 294 offset 1937408 root 258
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 16564224 /mnt/scratch
inode 264 offset 1073152 root 258
inode 264 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 16732160 /mnt/scratch
inode 264 offset 1241088 root 258
inode 264 offset 1241088 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 247705600 /mnt/scratch
inode 264 offset 1658880 root 258
inode 264 offset 1658880 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 276185088 /mnt/scratch
inode 264 offset 1712128 root 258
inode 264 offset 1712128 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 276230144 /mnt/scratch
inode 264 offset 1757184 root 258
inode 264 offset 1757184 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 266780672 /mnt/scratch
inode 264 offset 2072576 root 258
inode 264 offset 2072576 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 250691584 /mnt/scratch
inode 264 offset 2744320 root 258
inode 264 offset 2744320 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# stat -c %i /mnt/scratch/snap1/p0/d2/f6
264
# /bin/btrfs inspect-internal logical-resolve -P 274415616 /mnt/scratch
inode 264 offset 4329472 root 258
inode 264 offset 4329472 root 5
# /bin/btrfs inspect-internal inode-resolve 264 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f71
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f71 is 1946578 (476 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      34:      63058..     63064:      7:         28: unwritten,shared
   1:      108..     108:      67858..     67858:      1:      63138: shared
   2:      237..     237:      67859..     67859:      1:             shared
   3:      371..     382:      67860..     67871:     12:             shared
   4:      383..     383:      71795..     71795:      1:      67872: last,shared
/mnt/scratch/snap1/p0/d2/d18/d32/f71: 3 extents found
after filter: 258285568#28672#114688#unwritten,shared 277946368#4096#442368#shared 277950464#4096#970752#shared 277954560#49152#1519616#shared 294072320#4096#1568768#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f71
353
# /bin/btrfs inspect-internal logical-resolve -P 258285568 /mnt/scratch
inode 367 offset 454656 root 5
inode 365 offset 1417216 root 5
inode 363 offset 987136 root 5
inode 304 offset 1069056 root 5
inode 353 offset 114688 root 5
inode 350 offset 675840 root 5
inode 320 offset 1986560 root 5
inode 320 offset 798720 root 5
inode 320 offset 1986560 root 5
inode 269 offset 1601536 root 258
inode 269 offset 1601536 root 5
inode 290 offset 2318336 root 5
inode 290 offset 2318336 root 5
inode 292 offset 270336 root 5
inode 264 offset 2363392 root 258
inode 266 offset 139264 root 258
inode 264 offset 2363392 root 5
inode 266 offset 139264 root 5
inode 332 offset 110592 root 5
inode 397 offset 503808 root 258
inode 397 offset 503808 root 5
inode 376 offset 901120 root 258
inode 376 offset 901120 root 5
inode 280 offset 2207744 root 5
inode 385 offset 126976 root 5
inode 320 offset 798720 root 258
inode 320 offset 1986560 root 258
inode 320 offset 1986560 root 258
inode 363 offset 987136 root 258
inode 365 offset 1417216 root 258
inode 367 offset 454656 root 258
inode 292 offset 270336 root 258
inode 290 offset 2318336 root 258
inode 290 offset 2318336 root 258
inode 350 offset 675840 root 258
inode 353 offset 114688 root 258
inode 332 offset 110592 root 258
inode 280 offset 2207744 root 258
inode 385 offset 126976 root 258
inode 304 offset 1069056 root 258
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f71
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f71
353
# /bin/btrfs inspect-internal logical-resolve -P 277946368 /mnt/scratch
inode 353 offset 442368 root 258
inode 353 offset 442368 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f71
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f71
353
# /bin/btrfs inspect-internal logical-resolve -P 277950464 /mnt/scratch
inode 353 offset 970752 root 258
inode 353 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f71
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f71
353
# /bin/btrfs inspect-internal logical-resolve -P 277954560 /mnt/scratch
inode 353 offset 1519616 root 258
inode 353 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f71
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f71
353
# /bin/btrfs inspect-internal logical-resolve -P 294072320 /mnt/scratch
inode 353 offset 1568768 root 258
inode 353 offset 1568768 root 5
# /bin/btrfs inspect-internal inode-resolve 353 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f71
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153 is 3735552 (912 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      35:      63825..     63837:     13:         23: shared
   1:       76..      80:      60485..     60489:      5:      63878: shared
   2:       81..      81:      62076..     62076:      1:      60490: shared
   3:      300..     307:      62355..     62362:      8:      62295: shared
   4:      309..     322:      61953..     61966:     14:      62364: shared
   5:      328..     340:      71811..     71823:     13:      61972: shared
   6:      456..     464:      64362..     64370:      9:      71939: shared
   7:      539..     549:      65681..     65691:     11:      64445: shared
   8:      550..     550:      66461..     66461:      1:      65692: shared
   9:      597..     602:      68556..     68561:      6:      66508: shared
  10:      823..     836:      71643..     71656:     14:      68782: shared
  11:      899..     911:      67298..     67310:     13:      71719: last,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153: 12 extents found
after filter: 261427200#53248#94208#shared 247746560#20480#311296#shared 254263296#4096#331776#shared 255406080#32768#1228800#shared 253759488#57344#1265664#shared 294137856#53248#1343488#shared 263626752#36864#1867776#shared 269029376#45056#2207744#shared 272224256#4096#2252800#shared 280805376#24576#2445312#shared 293449728#57344#3371008#shared 275652608#53248#3682304#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 261427200 /mnt/scratch
inode 373 offset 94208 root 258
inode 373 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 247746560 /mnt/scratch
inode 373 offset 311296 root 258
inode 373 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 254263296 /mnt/scratch
inode 373 offset 331776 root 258
inode 373 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 255406080 /mnt/scratch
inode 373 offset 1228800 root 258
inode 373 offset 1228800 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 253759488 /mnt/scratch
inode 373 offset 1265664 root 258
inode 373 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 294137856 /mnt/scratch
inode 373 offset 1343488 root 258
inode 373 offset 1343488 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 263626752 /mnt/scratch
inode 373 offset 1867776 root 258
inode 373 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 269029376 /mnt/scratch
inode 373 offset 2207744 root 258
inode 373 offset 2207744 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 272224256 /mnt/scratch
inode 373 offset 2252800 root 258
inode 373 offset 2252800 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 280805376 /mnt/scratch
inode 373 offset 2445312 root 258
inode 373 offset 2445312 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 293449728 /mnt/scratch
inode 373 offset 3371008 root 258
inode 373 offset 3371008 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
373
# /bin/btrfs inspect-internal logical-resolve -P 275652608 /mnt/scratch
inode 373 offset 3682304 root 258
inode 373 offset 3682304 root 5
# /bin/btrfs inspect-internal inode-resolve 373 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f1ba
/mnt/scratch/snap1/p0/d2/d55/d96/d14c/f153
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f60
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f60 is 1905685 (466 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       7:      60478..     60482:      5:          3: shared
   1:        8..       8:      61135..     61135:      1:      60483: shared
   2:       83..     108:      68246..     68271:     26:      61210: shared
   3:      140..     140:      59308..     59308:      1:      68303: shared
   4:      234..     236:      61136..     61138:      3:      59402: shared
   5:      237..     237:      64932..     64932:      1:      61139: shared
   6:      445..     465:      67901..     67921:     21:      65140: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f60: 7 extents found
after filter: 247717888#20480#12288#shared 250408960#4096#32768#shared 279535616#106496#339968#shared 242925568#4096#573440#shared 250413056#12288#958464#shared 265961472#4096#970752#shared 278122496#86016#1822720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 247717888 /mnt/scratch
inode 338 offset 12288 root 258
inode 338 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 250408960 /mnt/scratch
inode 338 offset 32768 root 258
inode 338 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 279535616 /mnt/scratch
inode 338 offset 339968 root 258
inode 338 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 242925568 /mnt/scratch
inode 338 offset 573440 root 258
inode 338 offset 573440 root 5
inode 275 offset 1351680 root 258
inode 275 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 250413056 /mnt/scratch
inode 338 offset 958464 root 258
inode 338 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 265961472 /mnt/scratch
inode 338 offset 970752 root 258
inode 338 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f60
338
# /bin/btrfs inspect-internal logical-resolve -P 278122496 /mnt/scratch
inode 338 offset 1822720 root 258
inode 338 offset 1822720 root 5
# /bin/btrfs inspect-internal inode-resolve 338 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f60
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7 is 1059617 (259 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      30:      65726..     65741:     16:         15: shared
   1:       31..      31:      69478..     69478:      1:      65742: shared
   2:      153..     180:      68923..     68950:     28:      69600: shared
   3:      227..     258:      69479..     69510:     32:      68997: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7: 4 extents found
after filter: 269213696#65536#61440#shared 284581888#4096#126976#shared 282308608#114688#626688#shared 284585984#131072#929792#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
403
# /bin/btrfs inspect-internal logical-resolve -P 269213696 /mnt/scratch
inode 403 offset 61440 root 258
inode 403 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 403 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
403
# /bin/btrfs inspect-internal logical-resolve -P 284581888 /mnt/scratch
inode 403 offset 126976 root 258
inode 403 offset 126976 root 5
# /bin/btrfs inspect-internal inode-resolve 403 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
403
# /bin/btrfs inspect-internal logical-resolve -P 282308608 /mnt/scratch
inode 403 offset 626688 root 258
inode 403 offset 626688 root 5
# /bin/btrfs inspect-internal inode-resolve 403 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
403
# /bin/btrfs inspect-internal logical-resolve -P 284585984 /mnt/scratch
inode 403 offset 929792 root 258
inode 403 offset 929792 root 5
# /bin/btrfs inspect-internal inode-resolve 403 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/fb7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f3a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f3a is 2037597 (498 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      72:       3687..      3705:     19:         54: shared
   1:       74..     102:      71614..     71642:     29:       3707: shared
   2:      260..     260:      69634..     69634:      1:      71800: shared
   3:      489..     497:      71951..     71959:      9:      69863: last,shared,eof
/mnt/scratch/snap1/p0/d2/f3a: 4 extents found
after filter: 15101952#77824#221184#shared 293330944#118784#303104#shared 285220864#4096#1064960#shared 294711296#36864#2002944#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f3a
270
# /bin/btrfs inspect-internal logical-resolve -P 15101952 /mnt/scratch
inode 270 offset 221184 root 258
inode 270 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/f3a
270
# /bin/btrfs inspect-internal logical-resolve -P 293330944 /mnt/scratch
inode 270 offset 303104 root 258
inode 270 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/f3a
270
# /bin/btrfs inspect-internal logical-resolve -P 285220864 /mnt/scratch
inode 270 offset 1064960 root 258
inode 270 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/f3a
270
# /bin/btrfs inspect-internal logical-resolve -P 294711296 /mnt/scratch
inode 270 offset 2002944 root 258
inode 270 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/f81
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/f81 is 1118208 (273 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       91..      95:      68575..     68579:      5:         91: shared
   1:      196..     213:      62611..     62628:     18:      68680: shared
   2:      235..     235:      63052..     63052:      1:      62650: unwritten,shared
   3:      241..     247:      63058..     63064:      7:             unwritten,shared
   4:      252..     265:      60340..     60353:     14:      63069: unwritten,shared
   5:      273..     337:      60361..     60425:     65:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/f81: 4 extents found
after filter: 280883200#20480#372736#shared 256454656#73728#802816#shared 258260992#4096#962560#unwritten,shared 258285568#28672#987136#unwritten,shared 247152640#57344#1032192#unwritten,shared 247238656#266240#1118208#last,unwritten,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
seed = 1519196726
363
# /bin/btrfs inspect-internal logical-resolve -P 280883200 /mnt/scratch
inode 363 offset 372736 root 258
inode 297 offset 2560000 root 258
inode 363 offset 372736 root 5
inode 297 offset 2560000 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
363
# /bin/btrfs inspect-internal logical-resolve -P 256454656 /mnt/scratch
inode 363 offset 802816 root 258
inode 363 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
363
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
363
# /bin/btrfs inspect-internal logical-resolve -P 258285568 /mnt/scratch
inode 367 offset 454656 root 5
inode 365 offset 1417216 root 5
inode 363 offset 987136 root 5
inode 304 offset 1069056 root 5
inode 353 offset 114688 root 5
inode 350 offset 675840 root 5
inode 320 offset 1986560 root 5
inode 320 offset 798720 root 5
inode 320 offset 1986560 root 5
inode 269 offset 1601536 root 258
inode 269 offset 1601536 root 5
inode 290 offset 2318336 root 5
inode 290 offset 2318336 root 5
inode 292 offset 270336 root 5
inode 264 offset 2363392 root 258
inode 266 offset 139264 root 258
inode 264 offset 2363392 root 5
inode 266 offset 139264 root 5
inode 332 offset 110592 root 5
inode 397 offset 503808 root 258
inode 397 offset 503808 root 5
inode 376 offset 901120 root 258
inode 376 offset 901120 root 5
inode 280 offset 2207744 root 5
inode 385 offset 126976 root 5
inode 320 offset 798720 root 258
inode 320 offset 1986560 root 258
inode 320 offset 1986560 root 258
inode 363 offset 987136 root 258
inode 365 offset 1417216 root 258
inode 367 offset 454656 root 258
inode 292 offset 270336 root 258
inode 290 offset 2318336 root 258
inode 290 offset 2318336 root 258
inode 350 offset 675840 root 258
inode 353 offset 114688 root 258
inode 332 offset 110592 root 258
inode 280 offset 2207744 root 258
inode 385 offset 126976 root 258
inode 304 offset 1069056 root 258
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
363
# /bin/btrfs inspect-internal logical-resolve -P 247152640 /mnt/scratch
inode 363 offset 1032192 root 258
inode 363 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/f81
363
# /bin/btrfs inspect-internal logical-resolve -P 247238656 /mnt/scratch
inode 363 offset 1118208 root 258
inode 363 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/f81
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7 is 1380352 (337 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..       7:      61201..     61203:      3:          5: shared
   1:       64..      67:      63126..     63129:      4:      61260: shared
   2:      312..     326:      67283..     67297:     15:      63374: shared
   3:      329..     336:      69341..     69348:      8:      67300: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/f1b7: 4 extents found
after filter: 250679296#12288#20480#shared 258564096#16384#262144#shared 275591168#61440#1277952#shared 284020736#32768#1347584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
326
# /bin/btrfs inspect-internal logical-resolve -P 250679296 /mnt/scratch
inode 326 offset 20480 root 258
inode 326 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
326
# /bin/btrfs inspect-internal logical-resolve -P 258564096 /mnt/scratch
inode 326 offset 262144 root 258
inode 326 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
326
# /bin/btrfs inspect-internal logical-resolve -P 275591168 /mnt/scratch
inode 326 offset 1277952 root 258
inode 326 offset 1277952 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
326
# /bin/btrfs inspect-internal logical-resolve -P 284020736 /mnt/scratch
inode 326 offset 1347584 root 258
inode 326 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/f1b7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f8b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f8b is 2007040 (490 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      22:      69603..     69607:      5:         18: shared
   1:      130..     140:      68032..     68042:     11:      69715: unwritten,shared
   2:      154..     182:      71765..     71793:     29:      68056: shared
   3:      264..     280:      69215..     69231:     17:      71875: last,shared
/mnt/scratch/snap1/p0/d2/d18/f8b: 4 extents found
after filter: 285093888#20480#73728#shared 278659072#45056#532480#unwritten,shared 293949440#118784#630784#shared 283504640#69632#1081344#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f8b
372
# /bin/btrfs inspect-internal logical-resolve -P 285093888 /mnt/scratch
inode 372 offset 73728 root 258
inode 372 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f8b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f8b
372
# /bin/btrfs inspect-internal logical-resolve -P 278659072 /mnt/scratch
inode 372 offset 532480 root 258
inode 372 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f8b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f8b
372
# /bin/btrfs inspect-internal logical-resolve -P 293949440 /mnt/scratch
inode 372 offset 630784 root 258
inode 372 offset 630784 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f8b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f8b
372
# /bin/btrfs inspect-internal logical-resolve -P 283504640 /mnt/scratch
inode 372 offset 1081344 root 258
inode 372 offset 1081344 root 5
# /bin/btrfs inspect-internal inode-resolve 372 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f8b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d96/f10e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d96/f10e is 1183744 (289 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..     109:      66377..     66406:     30:         80: shared
   1:      260..     288:      67254..     67282:     29:      66557: shared,eof
   2:      419..     493:      70379..     70453:     75:      67413: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d55/d96/f10e: 3 extents found
after filter: 271880192#122880#327680#shared 275472384#118784#1064960#shared,eof 288272384#307200#1716224#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f10e
468
# /bin/btrfs inspect-internal logical-resolve -P 271880192 /mnt/scratch
inode 468 offset 327680 root 258
inode 468 offset 327680 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f10e
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f10e
468
# /bin/btrfs inspect-internal logical-resolve -P 275472384 /mnt/scratch
inode 468 offset 1064960 root 258
inode 468 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f10e
# stat -c %i /mnt/scratch/snap1/p0/d2/d55/d96/f10e
468
# /bin/btrfs inspect-internal logical-resolve -P 288272384 /mnt/scratch
inode 468 offset 1716224 root 258
inode 468 offset 1716224 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d55/d96/f10e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/fa
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/fa is 3362816 (821 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      21:       4188..      4191:      4:         18: shared
   1:       36..      36:       3641..      3641:      1:       4206: shared
   2:       37..      47:       4332..      4342:     11:       3642: shared
   3:       48..      51:       3653..      3656:      4:       4343: shared
   4:       52..      52:       4343..      4343:      1:       3657: shared
   5:      175..     188:       4344..      4357:     14:             shared
   6:      219..     221:       4889..      4891:      3:       4388: shared
   7:      237..     266:      66430..     66459:     30:       4907: shared
   8:      395..     421:       4358..      4384:     27:      66588: shared
   9:      422..     436:      66289..     66303:     15:       4385: unwritten,shared
  10:      437..     452:       4306..      4321:     16:      66304: shared
  11:      453..     481:      66304..     66332:     29:       4322: unwritten,shared
  12:      649..     672:      60729..     60752:     24:      66500: shared
  13:      673..     673:      72068..     72068:      1:      60753: shared
  14:      806..     820:      71688..     71702:     15:      72201: last,shared,eof
/mnt/scratch/snap1/p0/d2/fa: 14 extents found
after filter: 17154048#16384#73728#shared 14913536#4096#147456#shared 17743872#45056#151552#shared 14962688#16384#196608#shared 17788928#4096#212992#shared 17793024#57344#716800#shared 20025344#12288#897024#shared 272097280#122880#970752#shared 17850368#110592#1617920#shared 271519744#61440#1728512#unwritten,shared 17637376#65536#1789952#shared 271581184#118784#1855488#unwritten,shared 248745984#98304#2658304#shared 295190528#4096#2756608#shared 293634048#61440#3301376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17154048 /mnt/scratch
inode 267 offset 73728 root 258
inode 267 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 14913536 /mnt/scratch
inode 471 offset 1998848 root 258
inode 267 offset 147456 root 258
inode 267 offset 147456 root 5
inode 471 offset 1998848 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17743872 /mnt/scratch
inode 471 offset 2002944 root 258
inode 267 offset 151552 root 258
inode 267 offset 151552 root 5
inode 471 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 14962688 /mnt/scratch
inode 471 offset 2048000 root 258
inode 267 offset 196608 root 258
inode 267 offset 196608 root 5
inode 471 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17788928 /mnt/scratch
inode 471 offset 2064384 root 258
inode 471 offset 2064384 root 5
inode 267 offset 212992 root 258
inode 267 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17793024 /mnt/scratch
inode 267 offset 716800 root 258
inode 267 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 20025344 /mnt/scratch
inode 267 offset 897024 root 258
inode 267 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 272097280 /mnt/scratch
inode 267 offset 970752 root 258
inode 267 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17850368 /mnt/scratch
inode 267 offset 1617920 root 258
inode 267 offset 1617920 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 271519744 /mnt/scratch
inode 267 offset 1728512 root 258
inode 267 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 17637376 /mnt/scratch
inode 332 offset 876544 root 258
inode 267 offset 1789952 root 258
inode 267 offset 1789952 root 5
inode 332 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 271581184 /mnt/scratch
inode 267 offset 1855488 root 258
inode 267 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 248745984 /mnt/scratch
inode 267 offset 2658304 root 258
inode 267 offset 2658304 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 295190528 /mnt/scratch
inode 267 offset 2756608 root 258
inode 267 offset 2756608 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/fa
267
# /bin/btrfs inspect-internal logical-resolve -P 293634048 /mnt/scratch
inode 267 offset 3301376 root 258
inode 267 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/f48
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/f48 is 1945600 (475 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      105..     122:      70248..     70265:     18:        105: shared
   1:      123..     123:      70126..     70126:      1:      70266: shared
   2:      129..     138:      67444..     67453:     10:      70132: unwritten,shared
   3:      248..     254:      64784..     64790:      7:      67563: unwritten,shared
   4:      255..     273:      61182..     61200:     19:      64791: shared
   5:      274..     284:      64791..     64801:     11:      61201: unwritten,shared
   6:      287..     304:      66349..     66366:     18:      64804: shared
   7:      305..     308:      64822..     64825:      4:      66367: unwritten,shared
   8:      309..     328:      71839..     71858:     20:      64826: unwritten,shared
   9:      329..     329:      71027..     71027:      1:      71859: shared
  10:      330..     337:      71859..     71866:      8:      71028: unwritten,shared
  11:      360..     375:      71749..     71764:     16:      71889: last,shared
/mnt/scratch/snap1/p0/d2/d25/f48: 12 extents found
after filter: 287735808#73728#430080#shared 287236096#4096#503808#shared 276250624#40960#528384#unwritten,shared 265355264#28672#1015808#unwritten,shared 250601472#77824#1044480#shared 265383936#45056#1122304#unwritten,shared 271765504#73728#1175552#shared 265510912#16384#1249280#unwritten,shared 294252544#81920#1265664#unwritten,shared 290926592#4096#1347584#shared 294334464#32768#1351680#unwritten,shared 293883904#65536#1474560#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 287735808 /mnt/scratch
inode 315 offset 430080 root 258
inode 315 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 287236096 /mnt/scratch
inode 315 offset 503808 root 258
inode 315 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 276250624 /mnt/scratch
inode 315 offset 528384 root 258
inode 315 offset 528384 root 5
inode 264 offset 1777664 root 258
inode 264 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 265355264 /mnt/scratch
inode 315 offset 1015808 root 258
inode 315 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 250601472 /mnt/scratch
inode 315 offset 1044480 root 258
inode 315 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 265383936 /mnt/scratch
inode 315 offset 1122304 root 258
inode 315 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 271765504 /mnt/scratch
inode 315 offset 1175552 root 258
inode 315 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 265510912 /mnt/scratch
inode 315 offset 1249280 root 258
inode 315 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 294252544 /mnt/scratch
inode 315 offset 1265664 root 258
inode 315 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 290926592 /mnt/scratch
inode 315 offset 1347584 root 258
inode 315 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 294334464 /mnt/scratch
inode 315 offset 1351680 root 258
inode 315 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f48
315
# /bin/btrfs inspect-internal logical-resolve -P 293883904 /mnt/scratch
inode 315 offset 1474560 root 258
inode 315 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150 is 3362816 (821 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      21:       4188..      4191:      4:         18: shared
   1:       36..      36:       3641..      3641:      1:       4206: shared
   2:       37..      47:       4332..      4342:     11:       3642: shared
   3:       48..      51:       3653..      3656:      4:       4343: shared
   4:       52..      52:       4343..      4343:      1:       3657: shared
   5:      175..     188:       4344..      4357:     14:             shared
   6:      219..     221:       4889..      4891:      3:       4388: shared
   7:      237..     266:      66430..     66459:     30:       4907: shared
   8:      395..     421:       4358..      4384:     27:      66588: shared
   9:      422..     436:      66289..     66303:     15:       4385: unwritten,shared
  10:      437..     452:       4306..      4321:     16:      66304: shared
  11:      453..     481:      66304..     66332:     29:       4322: unwritten,shared
  12:      649..     672:      60729..     60752:     24:      66500: shared
  13:      673..     673:      72068..     72068:      1:      60753: shared
  14:      806..     820:      71688..     71702:     15:      72201: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150: 14 extents found
after filter: 17154048#16384#73728#shared 14913536#4096#147456#shared 17743872#45056#151552#shared 14962688#16384#196608#shared 17788928#4096#212992#shared 17793024#57344#716800#shared 20025344#12288#897024#shared 272097280#122880#970752#shared 17850368#110592#1617920#shared 271519744#61440#1728512#unwritten,shared 17637376#65536#1789952#shared 271581184#118784#1855488#unwritten,shared 248745984#98304#2658304#shared 295190528#4096#2756608#shared 293634048#61440#3301376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17154048 /mnt/scratch
inode 267 offset 73728 root 258
inode 267 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 14913536 /mnt/scratch
inode 471 offset 1998848 root 258
inode 267 offset 147456 root 258
inode 267 offset 147456 root 5
inode 471 offset 1998848 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17743872 /mnt/scratch
inode 471 offset 2002944 root 258
inode 267 offset 151552 root 258
inode 267 offset 151552 root 5
inode 471 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519371275
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 14962688 /mnt/scratch
inode 471 offset 2048000 root 258
inode 267 offset 196608 root 258
inode 267 offset 196608 root 5
inode 471 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17788928 /mnt/scratch
inode 471 offset 2064384 root 258
inode 471 offset 2064384 root 5
inode 267 offset 212992 root 258
inode 267 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17793024 /mnt/scratch
inode 267 offset 716800 root 258
inode 267 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 20025344 /mnt/scratch
inode 267 offset 897024 root 258
inode 267 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 272097280 /mnt/scratch
inode 267 offset 970752 root 258
inode 267 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17850368 /mnt/scratch
inode 267 offset 1617920 root 258
inode 267 offset 1617920 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 271519744 /mnt/scratch
inode 267 offset 1728512 root 258
inode 267 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 17637376 /mnt/scratch
inode 332 offset 876544 root 258
inode 267 offset 1789952 root 258
inode 267 offset 1789952 root 5
inode 332 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 271581184 /mnt/scratch
inode 267 offset 1855488 root 258
inode 267 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 248745984 /mnt/scratch
inode 267 offset 2658304 root 258
inode 267 offset 2658304 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 295190528 /mnt/scratch
inode 267 offset 2756608 root 258
inode 267 offset 2756608 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
267
# /bin/btrfs inspect-internal logical-resolve -P 293634048 /mnt/scratch
inode 267 offset 3301376 root 258
inode 267 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/dbd/f17a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/dbd/f17a is 888832 (217 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      212..     216:      69942..     69946:      5:        212: last,shared,eof
/mnt/scratch/snap1/p0/d2/dbd/f17a: 1 extent found
after filter: 286482432#20480#868352#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/dbd/f17a
550
# /bin/btrfs inspect-internal logical-resolve -P 286482432 /mnt/scratch
inode 550 offset 868352 root 258
inode 550 offset 868352 root 5
# /bin/btrfs inspect-internal inode-resolve 550 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/dbd/f17a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/fc0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/fc0 is 671744 (164 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      13:      63603..     63608:      6:          8: shared
   1:       76..      98:      66407..     66429:     23:      63671: shared
   2:      163..     163:      66237..     66237:      1:      66494: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/fc0: 3 extents found
after filter: 260517888#24576#32768#shared 272003072#94208#311296#shared 271306752#4096#667648#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/fc0
408
# /bin/btrfs inspect-internal logical-resolve -P 260517888 /mnt/scratch
inode 408 offset 32768 root 258
inode 408 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/fc0
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/fc0
408
# /bin/btrfs inspect-internal logical-resolve -P 272003072 /mnt/scratch
inode 408 offset 311296 root 258
inode 408 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/fc0
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/fc0
408
# /bin/btrfs inspect-internal logical-resolve -P 271306752 /mnt/scratch
inode 408 offset 667648 root 258
inode 408 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 408 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/fc0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4 is 1671168 (408 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       55..      58:      70177..     70180:      4:         55: shared
   1:       69..      84:      64180..     64195:     16:      70191: unwritten,shared
   2:      134..     141:      64245..     64252:      8:             unwritten,shared
   3:      165..     191:      64276..     64302:     27:             unwritten,shared
   4:      196..     206:      64307..     64317:     11:             unwritten,shared
   5:      207..     218:      64318..     64329:     12:             shared
   6:      219..     227:      65671..     65679:      9:      64330: shared
   7:      228..     228:      70943..     70943:      1:      65680: last,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4: 4 extents found
after filter: 287444992#16384#225280#shared 262881280#65536#282624#unwritten,shared 263147520#32768#548864#unwritten,shared 263274496#110592#675840#unwritten,shared 263401472#45056#802816#unwritten,shared 263446528#49152#847872#shared 268988416#36864#897024#shared 290582528#4096#933888#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 287444992 /mnt/scratch
inode 435 offset 225280 root 258
inode 435 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 262881280 /mnt/scratch
inode 435 offset 282624 root 258
inode 435 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 263147520 /mnt/scratch
inode 435 offset 548864 root 258
inode 435 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 263274496 /mnt/scratch
inode 435 offset 675840 root 258
inode 435 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 263401472 /mnt/scratch
inode 435 offset 802816 root 258
inode 435 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 263446528 /mnt/scratch
inode 435 offset 847872 root 258
inode 435 offset 847872 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 268988416 /mnt/scratch
inode 435 offset 897024 root 258
inode 435 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
435
# /bin/btrfs inspect-internal logical-resolve -P 290582528 /mnt/scratch
inode 435 offset 933888 root 258
inode 435 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 435 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/fe4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f152
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f152 is 2875392 (702 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       69..      72:      67684..     67687:      4:         69: unwritten,shared
   1:       82..      87:      67697..     67702:      6:             unwritten,shared
   2:       88..     115:      68895..     68922:     28:      67703: shared
   3:      116..     120:      67721..     67725:      5:      68923: unwritten,shared
   4:      148..     148:      67753..     67753:      1:             unwritten,shared
   5:      149..     150:      67561..     67562:      2:      67754: shared
   6:      151..     157:      67754..     67760:      7:      67563: unwritten,shared
   7:      173..     174:      67776..     67777:      2:             unwritten,shared
   8:      175..     177:       4897..      4899:      3:      67778: shared
   9:      178..     182:      67778..     67782:      5:       4900: unwritten,shared
  10:      243..     254:      59115..     59126:     12:      67843: unwritten,shared
  11:      351..     365:       4192..      4206:     15:      59223: shared
  12:      366..     366:       4385..      4385:      1:       4207: shared
  13:      376..     384:       4386..      4394:      9:             shared
  14:      428..     455:      61075..     61102:     28:       4438: shared
  15:      456..     456:      67857..     67857:      1:      61103: shared
  16:      580..     610:      71657..     71687:     31:      67981: shared
  17:      672..     701:      71061..     71090:     30:      71749: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f152: 14 extents found
after filter: 277233664#16384#282624#unwritten,shared 277286912#24576#335872#unwritten,shared 282193920#114688#360448#shared 277385216#20480#475136#unwritten,shared 277516288#4096#606208#unwritten,shared 276729856#8192#610304#shared 277520384#28672#618496#unwritten,shared 277610496#8192#708608#unwritten,shared 20058112#12288#716800#shared 277618688#20480#729088#unwritten,shared 242135040#49152#995328#unwritten,shared 17170432#61440#1437696#shared 17960960#4096#1499136#shared 17965056#36864#1540096#shared 250163200#114688#1753088#shared 277942272#4096#1867776#shared 293507072#126976#2375680#shared 291065856#122880#2752512#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277233664 /mnt/scratch
inode 272 offset 282624 root 258
inode 272 offset 282624 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277286912 /mnt/scratch
inode 272 offset 335872 root 258
inode 272 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 282193920 /mnt/scratch
inode 272 offset 360448 root 258
inode 272 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277385216 /mnt/scratch
inode 272 offset 475136 root 258
inode 272 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277516288 /mnt/scratch
inode 272 offset 606208 root 258
inode 272 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 276729856 /mnt/scratch
inode 272 offset 610304 root 258
inode 272 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277520384 /mnt/scratch
inode 272 offset 618496 root 258
inode 272 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277610496 /mnt/scratch
inode 272 offset 708608 root 258
inode 272 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 20058112 /mnt/scratch
inode 272 offset 716800 root 258
inode 272 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277618688 /mnt/scratch
inode 272 offset 729088 root 258
inode 272 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 242135040 /mnt/scratch
inode 294 offset 1187840 root 5
inode 294 offset 1187840 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 208896 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
inode 268 offset 1077248 root 5
inode 292 offset 299008 root 5
inode 299 offset 901120 root 5
inode 301 offset 573440 root 5
inode 299 offset 442368 root 5
inode 299 offset 901120 root 5
inode 262 offset 3448832 root 5
inode 350 offset 94208 root 5
inode 272 offset 995328 root 258
inode 272 offset 995328 root 5
inode 264 offset 159744 root 258
inode 264 offset 1024000 root 258
inode 264 offset 1024000 root 258
inode 264 offset 159744 root 5
inode 264 offset 1024000 root 5
inode 264 offset 1024000 root 5
inode 280 offset 208896 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 299 offset 442368 root 258
inode 299 offset 901120 root 258
inode 301 offset 573440 root 258
inode 299 offset 901120 root 258
inode 350 offset 94208 root 258
inode 262 offset 3448832 root 258
inode 292 offset 299008 root 258
inode 294 offset 1187840 root 258
inode 294 offset 1187840 root 258
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 17170432 /mnt/scratch
inode 272 offset 1437696 root 258
inode 272 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 17960960 /mnt/scratch
inode 272 offset 1499136 root 258
inode 272 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 17965056 /mnt/scratch
inode 272 offset 1540096 root 258
inode 272 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 250163200 /mnt/scratch
inode 272 offset 1753088 root 258
inode 272 offset 1753088 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 277942272 /mnt/scratch
inode 272 offset 1867776 root 258
inode 272 offset 1867776 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 293507072 /mnt/scratch
inode 272 offset 2375680 root 258
inode 272 offset 2375680 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f152
272
# /bin/btrfs inspect-internal logical-resolve -P 291065856 /mnt/scratch
inode 272 offset 2752512 root 258
inode 272 offset 2752512 root 5
# /bin/btrfs inspect-internal inode-resolve 272 /mnt/scratch/snap1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
/mnt/scratch/snap1/p0/d2/ff
/mnt/scratch/snap1/p0/d2/d18/d32/f152
seed = 1518721808
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda is 2061127 (504 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      141..     152:      68043..     68054:     12:        141: unwritten,shared
   1:      165..     229:      68067..     68131:     65:             unwritten,shared
   2:      230..     233:      68132..     68135:      4:             shared
   3:      234..     243:      68136..     68145:     10:             unwritten,shared
   4:      291..     297:      68193..     68199:      7:             unwritten,shared
   5:      474..     503:      69383..     69412:     30:      68376: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda: 2 extents found
after filter: 278704128#49152#577536#unwritten,shared 278802432#266240#675840#unwritten,shared 279068672#16384#942080#shared 279085056#40960#958464#unwritten,shared 279318528#28672#1191936#unwritten,shared 284192768#122880#1941504#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 278704128 /mnt/scratch
inode 427 offset 577536 root 258
inode 427 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 278802432 /mnt/scratch
inode 427 offset 675840 root 258
inode 427 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 279068672 /mnt/scratch
inode 427 offset 942080 root 258
inode 427 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 279085056 /mnt/scratch
inode 427 offset 958464 root 258
inode 427 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 279318528 /mnt/scratch
inode 427 offset 1191936 root 258
inode 427 offset 1191936 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
427
# /bin/btrfs inspect-internal logical-resolve -P 284192768 /mnt/scratch
inode 427 offset 1941504 root 258
inode 427 offset 1941504 root 5
# /bin/btrfs inspect-internal inode-resolve 427 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/dc4/fda
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f129
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f129 is 1056768 (258 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/f129: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2 is 1708719 (418 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..       4:      69310..     69310:      1:          4: shared
   1:       34..      53:      63583..     63602:     20:      69340: shared
   2:      319..     336:      64845..     64862:     18:      63868: shared
   3:      337..     337:      68383..     68383:      1:      64863: shared
   4:      392..     411:      69511..     69530:     20:      68438: shared
   5:      501..     600:      64600..     64699:    100:      69620: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2: 6 extents found
after filter: 283893760#4096#16384#shared 260435968#81920#139264#shared 265605120#73728#1306624#shared 280096768#4096#1380352#shared 284717056#81920#1605632#shared 264601600#409600#2052096#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 283893760 /mnt/scratch
inode 395 offset 16384 root 258
inode 395 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 260435968 /mnt/scratch
inode 395 offset 139264 root 258
inode 395 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 265605120 /mnt/scratch
inode 395 offset 1306624 root 258
inode 395 offset 1306624 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 280096768 /mnt/scratch
inode 395 offset 1380352 root 258
inode 395 offset 1380352 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 284717056 /mnt/scratch
inode 395 offset 1605632 root 258
inode 395 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
395
# /bin/btrfs inspect-internal logical-resolve -P 264601600 /mnt/scratch
inode 395 offset 2052096 root 258
inode 395 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 395 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/fe2
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/f156
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/f190
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/f190 is 1945600 (475 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      105..     122:      70248..     70265:     18:        105: shared
   1:      123..     123:      70126..     70126:      1:      70266: shared
   2:      129..     138:      67444..     67453:     10:      70132: unwritten,shared
   3:      248..     254:      64784..     64790:      7:      67563: unwritten,shared
   4:      255..     273:      61182..     61200:     19:      64791: shared
   5:      274..     284:      64791..     64801:     11:      61201: unwritten,shared
   6:      287..     304:      66349..     66366:     18:      64804: shared
   7:      305..     308:      64822..     64825:      4:      66367: unwritten,shared
   8:      309..     328:      71839..     71858:     20:      64826: unwritten,shared
   9:      329..     329:      71027..     71027:      1:      71859: shared
  10:      330..     337:      71859..     71866:      8:      71028: unwritten,shared
  11:      360..     375:      71749..     71764:     16:      71889: last,shared
/mnt/scratch/snap1/p0/d2/d18/d2f/f190: 12 extents found
after filter: 287735808#73728#430080#shared 287236096#4096#503808#shared 276250624#40960#528384#unwritten,shared 265355264#28672#1015808#unwritten,shared 250601472#77824#1044480#shared 265383936#45056#1122304#unwritten,shared 271765504#73728#1175552#shared 265510912#16384#1249280#unwritten,shared 294252544#81920#1265664#unwritten,shared 290926592#4096#1347584#shared 294334464#32768#1351680#unwritten,shared 293883904#65536#1474560#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 287735808 /mnt/scratch
inode 315 offset 430080 root 258
inode 315 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 287236096 /mnt/scratch
inode 315 offset 503808 root 258
inode 315 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 276250624 /mnt/scratch
inode 315 offset 528384 root 258
inode 315 offset 528384 root 5
inode 264 offset 1777664 root 258
inode 264 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 265355264 /mnt/scratch
inode 315 offset 1015808 root 258
inode 315 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 250601472 /mnt/scratch
inode 315 offset 1044480 root 258
inode 315 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 265383936 /mnt/scratch
inode 315 offset 1122304 root 258
inode 315 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 271765504 /mnt/scratch
inode 315 offset 1175552 root 258
inode 315 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 265510912 /mnt/scratch
inode 315 offset 1249280 root 258
inode 315 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 294252544 /mnt/scratch
inode 315 offset 1265664 root 258
inode 315 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 290926592 /mnt/scratch
inode 315 offset 1347584 root 258
inode 315 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 294334464 /mnt/scratch
inode 315 offset 1351680 root 258
inode 315 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/f190
315
# /bin/btrfs inspect-internal logical-resolve -P 293883904 /mnt/scratch
inode 315 offset 1474560 root 258
inode 315 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184 is 1089536 (266 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       61..      81:      70279..     70299:     21:         61: shared
   1:      237..     265:      68309..     68337:     29:      70455: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184: 2 extents found
after filter: 287862784#86016#249856#shared 279793664#118784#970752#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184
464
# /bin/btrfs inspect-internal logical-resolve -P 287862784 /mnt/scratch
inode 464 offset 249856 root 258
inode 464 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184
464
# /bin/btrfs inspect-internal logical-resolve -P 279793664 /mnt/scratch
inode 464 offset 970752 root 258
inode 464 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/f184
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198 is 3350528 (818 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       71..      93:      60108..     60130:     23:         71: shared
   1:      202..     225:      59720..     59743:     24:      60239: shared
   2:      271..     271:      61829..     61829:      1:      59789: unwritten,shared
   3:      272..     278:       4658..      4664:      7:      61830: unwritten,shared
   4:      279..     308:      67563..     67592:     30:       4665: shared
   5:      371..     379:      61140..     61148:      9:      67655: shared
   6:      380..     380:      68379..     68379:      1:      61149: shared
   7:      492..     492:      72066..     72066:      1:      68491: shared
   8:      668..     668:      72067..     72067:      1:             shared
   9:      787..     817:      71867..     71897:     31:      72186: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198: 9 extents found
after filter: 246202368#94208#290816#shared 244613120#98304#827392#shared 253251584#4096#1110016#unwritten,shared 19079168#28672#1114112#unwritten,shared 276738048#122880#1142784#shared 250429440#36864#1519616#shared 280080384#4096#1556480#shared 295182336#4096#2015232#shared 295186432#4096#2736128#shared 294367232#126976#3223552#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 246202368 /mnt/scratch
inode 337 offset 290816 root 258
inode 337 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 244613120 /mnt/scratch
inode 337 offset 827392 root 258
inode 337 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 253251584 /mnt/scratch
inode 337 offset 1110016 root 258
inode 281 offset 135168 root 258
inode 290 offset 2093056 root 258
inode 299 offset 1294336 root 258
inode 299 offset 274432 root 258
inode 299 offset 1294336 root 258
inode 320 offset 557056 root 258
inode 337 offset 1110016 root 5
inode 281 offset 135168 root 5
inode 290 offset 2093056 root 5
inode 299 offset 1294336 root 5
inode 299 offset 274432 root 5
inode 299 offset 1294336 root 5
inode 320 offset 557056 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 19079168 /mnt/scratch
inode 281 offset 139264 root 258
inode 337 offset 1114112 root 258
inode 299 offset 278528 root 258
inode 299 offset 1298432 root 258
inode 299 offset 1298432 root 258
inode 290 offset 2097152 root 258
inode 320 offset 561152 root 258
inode 281 offset 139264 root 5
inode 337 offset 1114112 root 5
inode 299 offset 278528 root 5
inode 299 offset 1298432 root 5
inode 299 offset 1298432 root 5
inode 290 offset 2097152 root 5
inode 320 offset 561152 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 276738048 /mnt/scratch
inode 337 offset 1142784 root 258
inode 337 offset 1142784 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 250429440 /mnt/scratch
inode 337 offset 1519616 root 258
inode 337 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 280080384 /mnt/scratch
inode 337 offset 1556480 root 258
inode 337 offset 1556480 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 295182336 /mnt/scratch
inode 337 offset 2015232 root 258
inode 337 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 295186432 /mnt/scratch
inode 337 offset 2736128 root 258
inode 337 offset 2736128 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
337
# /bin/btrfs inspect-internal logical-resolve -P 294367232 /mnt/scratch
inode 337 offset 3223552 root 258
inode 337 offset 3223552 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/d6f/df2/dfa/d16f/f198
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149 is 1945600 (475 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      105..     122:      70248..     70265:     18:        105: shared
   1:      123..     123:      70126..     70126:      1:      70266: shared
   2:      129..     138:      67444..     67453:     10:      70132: unwritten,shared
   3:      248..     254:      64784..     64790:      7:      67563: unwritten,shared
   4:      255..     273:      61182..     61200:     19:      64791: shared
   5:      274..     284:      64791..     64801:     11:      61201: unwritten,shared
   6:      287..     304:      66349..     66366:     18:      64804: shared
   7:      305..     308:      64822..     64825:      4:      66367: unwritten,shared
   8:      309..     328:      71839..     71858:     20:      64826: unwritten,shared
   9:      329..     329:      71027..     71027:      1:      71859: shared
  10:      330..     337:      71859..     71866:      8:      71028: unwritten,shared
  11:      360..     375:      71749..     71764:     16:      71889: last,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149: 12 extents found
after filter: 287735808#73728#430080#shared 287236096#4096#503808#shared 276250624#40960#528384#unwritten,shared 265355264#28672#1015808#unwritten,shared 250601472#77824#1044480#shared 265383936#45056#1122304#unwritten,shared 271765504#73728#1175552#shared 265510912#16384#1249280#unwritten,shared 294252544#81920#1265664#unwritten,shared 290926592#4096#1347584#shared 294334464#32768#1351680#unwritten,shared 293883904#65536#1474560#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 287735808 /mnt/scratch
inode 315 offset 430080 root 258
inode 315 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 287236096 /mnt/scratch
inode 315 offset 503808 root 258
inode 315 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 276250624 /mnt/scratch
inode 315 offset 528384 root 258
inode 315 offset 528384 root 5
inode 264 offset 1777664 root 258
inode 264 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 265355264 /mnt/scratch
inode 315 offset 1015808 root 258
inode 315 offset 1015808 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
background rm
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 250601472 /mnt/scratch
inode 315 offset 1044480 root 258
inode 315 offset 1044480 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518470454
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 265383936 /mnt/scratch
inode 315 offset 1122304 root 258
inode 315 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 271765504 /mnt/scratch
inode 315 offset 1175552 root 258
inode 315 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 265510912 /mnt/scratch
inode 315 offset 1249280 root 258
inode 315 offset 1249280 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 294252544 /mnt/scratch
inode 315 offset 1265664 root 258
inode 315 offset 1265664 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 290926592 /mnt/scratch
inode 315 offset 1347584 root 258
inode 315 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 294334464 /mnt/scratch
inode 315 offset 1351680 root 258
inode 315 offset 1351680 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
315
# /bin/btrfs inspect-internal logical-resolve -P 293883904 /mnt/scratch
inode 315 offset 1474560 root 258
inode 315 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 315 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f48
/mnt/scratch/snap1/p0/d2/d18/d2f/f190
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/dfd/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/f15e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/f15e is 454373 (111 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d18/d66/f15e: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f15b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f15b is 470539 (115 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d18/d66/d136/dd0/f15b: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/dbd/f17c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/dbd/f17c is 638052 (156 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       86..     100:      71536..     71550:     15:         86: shared
   1:      101..     101:      72037..     72037:      1:      71551: shared
   2:      141..     155:      72038..     72052:     15:             last,shared,eof
/mnt/scratch/snap1/p0/d2/dbd/f17c: 2 extents found
after filter: 293011456#61440#352256#shared 295063552#4096#413696#shared 295067648#61440#577536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/dbd/f17c
551
# /bin/btrfs inspect-internal logical-resolve -P 293011456 /mnt/scratch
inode 551 offset 352256 root 258
inode 551 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/dbd/f17c
# stat -c %i /mnt/scratch/snap1/p0/d2/dbd/f17c
551
# /bin/btrfs inspect-internal logical-resolve -P 295063552 /mnt/scratch
inode 551 offset 413696 root 258
inode 551 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/dbd/f17c
# stat -c %i /mnt/scratch/snap1/p0/d2/dbd/f17c
551
# /bin/btrfs inspect-internal logical-resolve -P 295067648 /mnt/scratch
inode 551 offset 577536 root 258
inode 551 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 551 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/dbd/f17c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e is 1562318 (382 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      21:      63174..     63190:     17:          5: shared
   1:       22..      23:      59114..     59115:      2:      63191: unwritten,shared
   2:       24..      27:      60426..     60429:      4:      59116: shared
   3:       28..      34:      59120..     59126:      7:      60430: unwritten,shared
   4:       59..      77:      59622..     59640:     19:      59151: shared
   5:      160..     165:      63053..     63058:      6:      59723: unwritten,shared
   6:      292..     298:      59143..     59149:      7:      63185: unwritten,shared
   7:      301..     323:      70455..     70477:     23:      59152: last,shared
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e: 8 extents found
after filter: 258760704#69632#20480#shared 242130944#8192#90112#unwritten,shared 247504896#16384#98304#shared 242155520#28672#114688#unwritten,shared 244211712#77824#241664#shared 258265088#24576#655360#unwritten,shared 242249728#28672#1196032#unwritten,shared 288583680#94208#1232896#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 258760704 /mnt/scratch
inode 350 offset 20480 root 258
inode 350 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 242130944 /mnt/scratch
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 294 offset 1183744 root 5
inode 294 offset 1978368 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 204800 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 280 offset 729088 root 5
inode 280 offset 929792 root 5
inode 299 offset 897024 root 5
inode 301 offset 569344 root 5
inode 299 offset 438272 root 5
inode 299 offset 897024 root 5
inode 262 offset 3444736 root 5
inode 350 offset 90112 root 5
inode 264 offset 155648 root 258
inode 264 offset 1019904 root 258
inode 264 offset 1019904 root 258
inode 264 offset 155648 root 5
inode 264 offset 1019904 root 5
inode 264 offset 1019904 root 5
inode 280 offset 204800 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 280 offset 729088 root 258
inode 280 offset 929792 root 258
inode 299 offset 438272 root 258
inode 299 offset 897024 root 258
inode 301 offset 569344 root 258
inode 299 offset 897024 root 258
inode 350 offset 90112 root 258
inode 262 offset 3444736 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1978368 root 258
inode 294 offset 1183744 root 258
inode 294 offset 1978368 root 258
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 247504896 /mnt/scratch
inode 350 offset 98304 root 258
inode 350 offset 98304 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 242155520 /mnt/scratch
inode 294 offset 2002944 root 5
inode 294 offset 1208320 root 5
inode 294 offset 2002944 root 5
inode 294 offset 1208320 root 5
inode 294 offset 2002944 root 5
inode 275 offset 1200128 root 258
inode 275 offset 1200128 root 5
inode 280 offset 954368 root 5
inode 280 offset 229376 root 5
inode 280 offset 954368 root 5
inode 280 offset 954368 root 5
inode 268 offset 1097728 root 258
inode 268 offset 1097728 root 258
inode 268 offset 1097728 root 5
inode 268 offset 1097728 root 5
inode 292 offset 319488 root 5
inode 262 offset 3469312 root 5
inode 301 offset 593920 root 5
inode 299 offset 462848 root 5
inode 350 offset 114688 root 5
inode 272 offset 1015808 root 258
inode 272 offset 1015808 root 5
inode 264 offset 180224 root 258
inode 264 offset 1044480 root 258
inode 264 offset 1044480 root 258
inode 264 offset 180224 root 5
inode 264 offset 1044480 root 5
inode 264 offset 1044480 root 5
inode 280 offset 229376 root 258
inode 280 offset 954368 root 258
inode 280 offset 954368 root 258
inode 280 offset 954368 root 258
inode 299 offset 462848 root 258
inode 301 offset 593920 root 258
inode 350 offset 114688 root 258
inode 262 offset 3469312 root 258
inode 292 offset 319488 root 258
inode 294 offset 1208320 root 258
inode 294 offset 2002944 root 258
inode 294 offset 2002944 root 258
inode 294 offset 1208320 root 258
inode 294 offset 2002944 root 258
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 244211712 /mnt/scratch
inode 350 offset 241664 root 258
inode 350 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 258265088 /mnt/scratch
inode 367 offset 434176 root 5
inode 365 offset 1396736 root 5
inode 304 offset 1048576 root 5
inode 320 offset 1966080 root 5
inode 320 offset 778240 root 5
inode 320 offset 1966080 root 5
inode 269 offset 1581056 root 258
inode 269 offset 1581056 root 5
inode 290 offset 2297856 root 5
inode 290 offset 2297856 root 5
inode 292 offset 249856 root 5
inode 264 offset 2342912 root 258
inode 264 offset 2342912 root 5
inode 332 offset 90112 root 5
inode 349 offset 327680 root 5
inode 376 offset 880640 root 258
inode 376 offset 880640 root 5
inode 307 offset 651264 root 5
inode 307 offset 532480 root 5
inode 307 offset 651264 root 5
inode 350 offset 655360 root 5
inode 280 offset 2187264 root 5
inode 385 offset 106496 root 5
inode 320 offset 778240 root 258
inode 320 offset 1966080 root 258
inode 320 offset 1966080 root 258
inode 307 offset 651264 root 258
inode 307 offset 532480 root 258
inode 307 offset 651264 root 258
inode 349 offset 327680 root 258
inode 292 offset 249856 root 258
inode 290 offset 2297856 root 258
inode 290 offset 2297856 root 258
inode 350 offset 655360 root 258
inode 332 offset 90112 root 258
inode 280 offset 2187264 root 258
inode 365 offset 1396736 root 258
inode 367 offset 434176 root 258
inode 385 offset 106496 root 258
inode 304 offset 1048576 root 258
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 242249728 /mnt/scratch
inode 350 offset 1196032 root 258
inode 350 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
350
# /bin/btrfs inspect-internal logical-resolve -P 288583680 /mnt/scratch
inode 350 offset 1232896 root 258
inode 350 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 350 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/f6e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103 is 2037597 (498 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       54..      72:       3687..      3705:     19:         54: shared
   1:       74..     102:      71614..     71642:     29:       3707: shared
   2:      260..     260:      69634..     69634:      1:      71800: shared
   3:      489..     497:      71951..     71959:      9:      69863: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103: 4 extents found
after filter: 15101952#77824#221184#shared 293330944#118784#303104#shared 285220864#4096#1064960#shared 294711296#36864#2002944#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
270
# /bin/btrfs inspect-internal logical-resolve -P 15101952 /mnt/scratch
inode 270 offset 221184 root 258
inode 270 offset 221184 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
270
# /bin/btrfs inspect-internal logical-resolve -P 293330944 /mnt/scratch
inode 270 offset 303104 root 258
inode 270 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
270
# /bin/btrfs inspect-internal logical-resolve -P 285220864 /mnt/scratch
inode 270 offset 1064960 root 258
inode 270 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
270
# /bin/btrfs inspect-internal logical-resolve -P 294711296 /mnt/scratch
inode 270 offset 2002944 root 258
inode 270 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 270 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f3a
/mnt/scratch/snap1/p0/d2/d18/f20
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/db9/dfc/f103
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/f112
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/f112 is 2535424 (619 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      237..     370:      66835..     66968:    134:        237: unwritten,shared
   1:      371..     390:      66969..     66988:     20:             shared
   2:      391..     397:      66989..     66995:      7:             unwritten,shared
   3:      488..     488:       3641..      3641:      1:      67086: shared
   4:      489..     499:       4332..      4342:     11:       3642: shared
   5:      500..     503:       3653..      3656:      4:       4343: shared
   6:      504..     504:       4343..      4343:      1:       3657: shared
   7:      618..     618:      64994..     64994:      1:       4457: last,shared,eof
/mnt/scratch/snap1/p0/d2/d25/f112: 6 extents found
after filter: 273756160#548864#970752#unwritten,shared 274305024#81920#1519616#shared 274386944#28672#1601536#unwritten,shared 14913536#4096#1998848#shared 17743872#45056#2002944#shared 14962688#16384#2048000#shared 17788928#4096#2064384#shared 266215424#4096#2531328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 273756160 /mnt/scratch
inode 471 offset 970752 root 258
inode 471 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 274305024 /mnt/scratch
inode 471 offset 1519616 root 258
inode 471 offset 1519616 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 274386944 /mnt/scratch
inode 471 offset 1601536 root 258
inode 471 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 14913536 /mnt/scratch
inode 471 offset 1998848 root 258
inode 267 offset 147456 root 258
inode 267 offset 147456 root 5
inode 471 offset 1998848 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 17743872 /mnt/scratch
inode 471 offset 2002944 root 258
inode 267 offset 151552 root 258
inode 267 offset 151552 root 5
inode 471 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 14962688 /mnt/scratch
inode 471 offset 2048000 root 258
inode 267 offset 196608 root 258
inode 267 offset 196608 root 5
inode 471 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 17788928 /mnt/scratch
inode 471 offset 2064384 root 258
inode 471 offset 2064384 root 5
inode 267 offset 212992 root 258
inode 267 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f112
471
# /bin/btrfs inspect-internal logical-resolve -P 266215424 /mnt/scratch
inode 471 offset 2531328 root 258
inode 275 offset 1273856 root 258
inode 275 offset 1273856 root 5
inode 471 offset 2531328 root 5
# /bin/btrfs inspect-internal inode-resolve 471 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f112
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f39
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f39 is 3469312 (847 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       88..     114:      60251..     60277:     27:         88: shared
   1:      116..     124:      61817..     61825:      9:      60279: unwritten,shared
   2:      125..     137:      70266..     70278:     13:      61826: shared
   3:      138..     138:       4667..      4667:      1:      70279: unwritten,shared
   4:      163..     179:      63505..     63521:     17:       4692: shared
   5:      187..     198:      65246..     65257:     12:      63529: shared
   6:      255..     267:      63052..     63064:     13:      65314: unwritten,shared
   7:      268..     287:      59815..     59834:     20:      63065: shared
   8:      289..     291:      61817..     61819:      3:      59836: unwritten,shared
   9:      388..     396:      69933..     69941:      9:      61916: shared
  10:      455..     485:      68644..     68674:     31:      70000: unwritten,shared
  11:      486..     499:      61108..     61121:     14:      68675: shared
  12:      500..     525:      65073..     65098:     26:      61122: shared
  13:      526..     530:      68675..     68679:      5:      65099: unwritten,shared
  14:      555..     616:      68704..     68765:     62:             unwritten,shared
  15:      617..     622:      61273..     61278:      6:      68766: shared
  16:      623..     660:      68766..     68803:     38:      61279: unwritten,shared
  17:      684..     696:      68827..     68839:     13:             unwritten,shared
  18:      832..     846:      70478..     70492:     15:      68975: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/f39: 17 extents found
after filter: 246788096#110592#360448#shared 253202432#36864#475136#unwritten,shared 287809536#53248#512000#shared 19116032#4096#565248#unwritten,shared 260116480#69632#667648#shared 267247616#49152#765952#shared 258260992#53248#1044480#unwritten,shared 245002240#81920#1097728#shared 253202432#12288#1183744#unwritten,shared 286445568#36864#1589248#shared 281165824#126976#1863680#unwritten,shared 250298368#57344#1990656#shared 266539008#106496#2048000#shared 281292800#20480#2154496#unwritten,shared 281411584#253952#2273280#unwritten,shared 250974208#24576#2527232#shared 281665536#155648#2551808#unwritten,shared 281915392#53248#2801664#unwritten,shared 288677888#61440#3407872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 246788096 /mnt/scratch
inode 304 offset 360448 root 258
inode 304 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 253202432 /mnt/scratch
inode 320 offset 970752 root 258
inode 323 offset 8192 root 258
inode 320 offset 970752 root 258
inode 304 offset 1183744 root 258
inode 304 offset 475136 root 258
inode 304 offset 1183744 root 258
inode 281 offset 86016 root 258
inode 299 offset 225280 root 258
inode 320 offset 970752 root 5
inode 323 offset 8192 root 5
inode 320 offset 970752 root 5
inode 304 offset 1183744 root 5
inode 304 offset 475136 root 5
inode 304 offset 1183744 root 5
inode 281 offset 86016 root 5
inode 299 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 287809536 /mnt/scratch
inode 304 offset 512000 root 258
inode 304 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 19116032 /mnt/scratch
inode 304 offset 565248 root 258
inode 299 offset 1335296 root 258
inode 299 offset 1335296 root 258
inode 290 offset 2134016 root 258
inode 320 offset 598016 root 258
inode 304 offset 565248 root 5
inode 299 offset 1335296 root 5
inode 299 offset 1335296 root 5
inode 290 offset 2134016 root 5
inode 320 offset 598016 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1519020081
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 260116480 /mnt/scratch
inode 304 offset 667648 root 258
inode 304 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 267247616 /mnt/scratch
inode 304 offset 765952 root 258
inode 304 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 258260992 /mnt/scratch
inode 367 offset 430080 root 5
inode 365 offset 1392640 root 5
inode 363 offset 962560 root 5
inode 304 offset 1044480 root 5
inode 320 offset 1961984 root 5
inode 320 offset 774144 root 5
inode 320 offset 1961984 root 5
inode 269 offset 1576960 root 258
inode 269 offset 1576960 root 5
inode 290 offset 2293760 root 5
inode 290 offset 2293760 root 5
inode 264 offset 2338816 root 258
inode 264 offset 2338816 root 5
inode 332 offset 86016 root 5
inode 349 offset 323584 root 5
inode 376 offset 876544 root 258
inode 376 offset 876544 root 5
inode 307 offset 647168 root 5
inode 307 offset 528384 root 5
inode 307 offset 647168 root 5
inode 280 offset 2183168 root 5
inode 385 offset 102400 root 5
inode 320 offset 774144 root 258
inode 320 offset 1961984 root 258
inode 320 offset 1961984 root 258
inode 307 offset 647168 root 258
inode 307 offset 528384 root 258
inode 307 offset 647168 root 258
inode 349 offset 323584 root 258
inode 363 offset 962560 root 258
inode 365 offset 1392640 root 258
inode 367 offset 430080 root 258
inode 332 offset 86016 root 258
inode 290 offset 2293760 root 258
inode 290 offset 2293760 root 258
inode 280 offset 2183168 root 258
inode 385 offset 102400 root 258
inode 304 offset 1044480 root 258
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 245002240 /mnt/scratch
inode 304 offset 1097728 root 258
inode 304 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 253202432 /mnt/scratch
inode 320 offset 970752 root 258
inode 323 offset 8192 root 258
inode 320 offset 970752 root 258
inode 304 offset 1183744 root 258
inode 304 offset 475136 root 258
inode 304 offset 1183744 root 258
inode 281 offset 86016 root 258
inode 299 offset 225280 root 258
inode 320 offset 970752 root 5
inode 323 offset 8192 root 5
inode 320 offset 970752 root 5
inode 304 offset 1183744 root 5
inode 304 offset 475136 root 5
inode 304 offset 1183744 root 5
inode 281 offset 86016 root 5
inode 299 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 286445568 /mnt/scratch
inode 304 offset 1589248 root 258
inode 304 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 281165824 /mnt/scratch
inode 304 offset 1863680 root 258
inode 304 offset 1863680 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 250298368 /mnt/scratch
inode 304 offset 1990656 root 258
inode 304 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 266539008 /mnt/scratch
inode 304 offset 2048000 root 258
inode 304 offset 2048000 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 281292800 /mnt/scratch
inode 304 offset 2154496 root 258
inode 304 offset 2154496 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 281411584 /mnt/scratch
inode 304 offset 2273280 root 258
inode 304 offset 2273280 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 250974208 /mnt/scratch
inode 304 offset 2527232 root 258
inode 304 offset 2527232 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 281665536 /mnt/scratch
inode 304 offset 2551808 root 258
inode 304 offset 2551808 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 281915392 /mnt/scratch
inode 304 offset 2801664 root 258
inode 304 offset 2801664 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/f39
304
# /bin/btrfs inspect-internal logical-resolve -P 288677888 /mnt/scratch
inode 304 offset 3407872 root 258
inode 304 offset 3407872 root 5
# /bin/btrfs inspect-internal inode-resolve 304 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/f39
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5 is 5262209 (1285 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       19..      26:       3410..      3417:      8:         19: shared
   1:       27..      27:      69955..     69955:      1:       3418: shared
   2:       28..      33:       3419..      3424:      6:      69956: shared
   3:       35..      48:       3425..      3438:     14:             unwritten,shared
   4:       49..      61:       3439..      3451:     13:             shared
   5:       62..      75:       3889..      3902:     14:       3452: shared
   6:       76..      85:       3466..      3475:     10:       3903: shared
   7:       86..      88:       3476..      3478:      3:             unwritten,shared
   8:       93..     115:       3483..      3505:     23:             unwritten,shared
   9:      116..     122:       3360..      3366:      7:       3506: shared
  10:      123..     126:       3506..      3509:      4:       3367: unwritten,shared
  11:      237..     259:      63087..     63109:     23:       3620: shared
  12:      281..     289:       3584..      3592:      9:      63131: unwritten,shared
  13:      290..     306:      70770..     70786:     17:       3593: shared
  14:      324..     340:      58712..     58728:     17:      70804: shared
  15:      341..     347:       3627..      3633:      7:      58729: shared
  16:      370..     384:       3367..      3381:     15:       3656: shared
  17:      400..     400:       3397..      3397:      1:             shared
  18:      401..     405:       3903..      3907:      5:       3398: shared
  19:      410..     437:       3908..      3935:     28:             shared
  20:      438..     440:       3658..      3660:      3:       3936: shared
  21:      467..     479:      64371..     64383:     13:       3687: shared
  22:      487..     510:       4753..      4776:     24:      64391: shared
  23:      665..     676:      70836..     70847:     12:       4931: shared
  24:      677..     679:      68891..     68893:      3:      70848: shared
  25:      680..     683:      70848..     70851:      4:      68894: shared
  26:      738..     755:       3937..      3954:     18:      70906: shared
  27:      756..     756:       4863..      4863:      1:       3955: shared
  28:      778..     796:      59496..     59514:     19:       4885: shared
  29:      838..     853:      59111..     59126:     16:      59556: unwritten,shared
  30:      955..     968:       4689..      4702:     14:      59228: shared
  31:     1037..    1068:      69562..     69593:     32:       4771: shared
  32:     1122..    1143:      69288..     69309:     22:      69647: shared
  33:     1276..    1284:      69594..     69602:      9:      69442: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5: 28 extents found
after filter: 13967360#32768#77824#shared 286535680#4096#110592#shared 14004224#24576#114688#shared 14028800#57344#143360#unwritten,shared 14086144#53248#200704#shared 15929344#57344#253952#shared 14196736#40960#311296#shared 14237696#12288#352256#unwritten,shared 14266368#94208#380928#unwritten,shared 13762560#28672#475136#shared 14360576#16384#503808#unwritten,shared 258404352#94208#970752#shared 14680064#36864#1150976#unwritten,shared 289873920#69632#1187840#shared 240484352#69632#1327104#shared 14856192#28672#1396736#shared 13791232#61440#1515520#shared 13914112#4096#1638400#shared 15986688#20480#1642496#shared 16007168#114688#1679360#shared 14983168#12288#1794048#shared 263663616#53248#1912832#shared 19468288#98304#1994752#shared 290144256#49152#2723840#shared 282177536#12288#2772992#shared 290193408#16384#2785280#shared 16125952#73728#3022848#shared 19918848#4096#3096576#shared 243695616#77824#3186688#shared 242118656#65536#3432448#unwritten,shared 19206144#57344#3911680#shared 284925952#131072#4247552#shared 283803648#90112#4595712#shared 285057024#36864#5226496#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 13967360 /mnt/scratch
inode 262 offset 77824 root 258
inode 262 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 286535680 /mnt/scratch
inode 262 offset 110592 root 258
inode 262 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14004224 /mnt/scratch
inode 262 offset 114688 root 258
inode 262 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14028800 /mnt/scratch
inode 262 offset 143360 root 258
inode 262 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14086144 /mnt/scratch
inode 262 offset 200704 root 258
inode 262 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 15929344 /mnt/scratch
inode 262 offset 253952 root 258
inode 262 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14196736 /mnt/scratch
inode 262 offset 311296 root 258
inode 262 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14237696 /mnt/scratch
inode 262 offset 352256 root 258
inode 262 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14266368 /mnt/scratch
inode 262 offset 380928 root 258
inode 262 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 13762560 /mnt/scratch
inode 262 offset 475136 root 258
inode 262 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14360576 /mnt/scratch
inode 262 offset 503808 root 258
inode 262 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 258404352 /mnt/scratch
inode 262 offset 970752 root 258
inode 262 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14680064 /mnt/scratch
inode 262 offset 1150976 root 258
inode 262 offset 1150976 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 289873920 /mnt/scratch
inode 262 offset 1187840 root 258
inode 262 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 240484352 /mnt/scratch
inode 262 offset 1327104 root 258
inode 262 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14856192 /mnt/scratch
inode 262 offset 1396736 root 258
inode 262 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 13791232 /mnt/scratch
inode 262 offset 1515520 root 258
inode 262 offset 1515520 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 13914112 /mnt/scratch
inode 262 offset 1638400 root 258
inode 262 offset 1638400 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 15986688 /mnt/scratch
inode 262 offset 1642496 root 258
inode 262 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 16007168 /mnt/scratch
inode 262 offset 1679360 root 258
inode 262 offset 1679360 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 14983168 /mnt/scratch
inode 262 offset 1794048 root 258
inode 262 offset 1794048 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 263663616 /mnt/scratch
inode 262 offset 1912832 root 258
inode 262 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 19468288 /mnt/scratch
inode 262 offset 1994752 root 258
inode 262 offset 1994752 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 290144256 /mnt/scratch
inode 262 offset 2723840 root 258
inode 262 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 282177536 /mnt/scratch
inode 262 offset 2772992 root 258
inode 262 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 290193408 /mnt/scratch
inode 262 offset 2785280 root 258
inode 262 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 16125952 /mnt/scratch
inode 262 offset 3022848 root 258
inode 262 offset 3022848 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 19918848 /mnt/scratch
inode 262 offset 3096576 root 258
inode 262 offset 3096576 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 243695616 /mnt/scratch
inode 262 offset 3186688 root 258
inode 262 offset 3186688 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 242118656 /mnt/scratch
inode 294 offset 1966080 root 5
inode 294 offset 1966080 root 5
inode 294 offset 1966080 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 280 offset 716800 root 5
inode 280 offset 917504 root 5
inode 299 offset 884736 root 5
inode 299 offset 884736 root 5
inode 262 offset 3432448 root 5
inode 325 offset 69632 root 5
inode 264 offset 143360 root 258
inode 264 offset 1007616 root 258
inode 264 offset 1007616 root 258
inode 264 offset 143360 root 5
inode 264 offset 1007616 root 5
inode 264 offset 1007616 root 5
inode 325 offset 69632 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 280 offset 716800 root 258
inode 280 offset 917504 root 258
inode 299 offset 884736 root 258
inode 299 offset 884736 root 258
inode 262 offset 3432448 root 258
inode 294 offset 1966080 root 258
inode 294 offset 1966080 root 258
inode 294 offset 1966080 root 258
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 19206144 /mnt/scratch
inode 262 offset 3911680 root 258
inode 262 offset 3911680 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 284925952 /mnt/scratch
inode 262 offset 4247552 root 258
inode 262 offset 4247552 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518725452
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 283803648 /mnt/scratch
inode 262 offset 4595712 root 258
inode 262 offset 4595712 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
262
# /bin/btrfs inspect-internal logical-resolve -P 285057024 /mnt/scratch
inode 262 offset 5226496 root 258
inode 262 offset 5226496 root 5
# /bin/btrfs inspect-internal inode-resolve 262 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f12d
/mnt/scratch/snap1/p0/d2/d18/d66/da8/f1a5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d25/f52
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d25/f52 is 2326969 (569 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      148..     152:      59102..     59106:      5:        148: unwritten,shared
   1:      287..     298:      60462..     60473:     12:      59241: shared
   2:      299..     299:      61325..     61325:      1:      60474: shared
   3:      342..     349:      69947..     69954:      8:      61368: shared
   4:      350..     352:      68380..     68382:      3:      69955: shared
   5:      391..     393:      70514..     70516:      3:      68421: shared
   6:      541..     567:      61326..     61352:     27:      70664: shared
   7:      568..     568:      66498..     66498:      1:      61353: shared,eof
   8:      781..    1014:      61559..     61792:    234:      66711: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d25/f52: 9 extents found
after filter: 242081792#20480#606208#unwritten,shared 247652352#49152#1175552#shared 251187200#4096#1224704#shared 286502912#32768#1400832#shared 280084480#12288#1433600#shared 288825344#12288#1601536#shared 251191296#110592#2215936#shared 272375808#4096#2326528#shared,eof 252145664#958464#3198976#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 247652352 /mnt/scratch
inode 324 offset 1175552 root 258
inode 324 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 251187200 /mnt/scratch
inode 324 offset 1224704 root 258
inode 324 offset 1224704 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 286502912 /mnt/scratch
inode 324 offset 1400832 root 258
inode 324 offset 1400832 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 280084480 /mnt/scratch
inode 324 offset 1433600 root 258
inode 324 offset 1433600 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 288825344 /mnt/scratch
inode 324 offset 1601536 root 258
inode 324 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 251191296 /mnt/scratch
inode 324 offset 2215936 root 258
inode 324 offset 2215936 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 272375808 /mnt/scratch
inode 324 offset 2326528 root 258
inode 324 offset 2326528 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# stat -c %i /mnt/scratch/snap1/p0/d2/d25/f52
324
# /bin/btrfs inspect-internal logical-resolve -P 252145664 /mnt/scratch
inode 324 offset 3198976 root 258
inode 324 offset 3198976 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d25/f52
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d32/f45
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d32/f45 is 1351680 (330 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      13:      60147..     60155:      9:          5: shared
   1:       53..      71:      70127..     70145:     19:      60195: shared
   2:       83..     111:      60156..     60184:     29:      70157: shared
   3:      122..     150:      69870..     69898:     29:      60195: shared
   4:      151..     151:      70227..     70227:      1:      69899: shared
   5:      314..     329:      63389..     63404:     16:      70390: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d32/f45: 6 extents found
after filter: 246362112#36864#20480#shared 287240192#77824#217088#shared 246398976#118784#339968#shared 286187520#118784#499712#shared 287649792#4096#618496#shared 259641344#65536#1286144#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 246362112 /mnt/scratch
inode 308 offset 20480 root 258
inode 308 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 287240192 /mnt/scratch
inode 308 offset 217088 root 258
inode 308 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 246398976 /mnt/scratch
inode 308 offset 339968 root 258
inode 308 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 286187520 /mnt/scratch
inode 308 offset 499712 root 258
inode 308 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 287649792 /mnt/scratch
inode 308 offset 618496 root 258
inode 308 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d32/f45
308
# /bin/btrfs inspect-internal logical-resolve -P 259641344 /mnt/scratch
inode 308 offset 1286144 root 258
inode 308 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 308 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d32/f45
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2 is 1642787 (402 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      12:      59398..     59403:      6:          7: shared
   1:       13..      13:      60022..     60022:      1:      59404: shared
   2:       74..     104:      66159..     66189:     31:      60083: shared
   3:      105..     130:      59596..     59621:     26:      66190: shared
   4:      202..     230:      61224..     61252:     29:      59693: shared
   5:      270..     287:      69684..     69701:     18:      61292: shared
   6:      288..     288:      70893..     70893:      1:      69702: shared
   7:      324..     336:      59902..     59914:     13:      70929: unwritten,shared
   8:      355..     368:      59933..     59946:     14:             unwritten,shared
   9:      369..     401:      59947..     59979:     33:             shared,eof
  10:      402..     442:      59980..     60020:     41:             unwritten,shared,eof
  11:      481..     634:      63965..     64118:    154:      60059: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2: 9 extents found
after filter: 243294208#24576#28672#shared 245850112#4096#53248#shared 270987264#126976#303104#shared 244105216#106496#430080#shared 250773504#118784#827392#shared 285425664#73728#1105920#shared 290377728#4096#1179648#shared 245358592#53248#1327104#unwritten,shared 245485568#57344#1454080#unwritten,shared 245542912#135168#1511424#shared,eof 245678080#167936#1646592#unwritten,shared,eof 262000640#630784#1970176#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 243294208 /mnt/scratch
inode 283 offset 28672 root 258
inode 283 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 245850112 /mnt/scratch
inode 283 offset 53248 root 258
inode 283 offset 53248 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 270987264 /mnt/scratch
inode 283 offset 303104 root 258
inode 283 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 244105216 /mnt/scratch
inode 283 offset 430080 root 258
inode 283 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 250773504 /mnt/scratch
inode 283 offset 827392 root 258
inode 283 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 285425664 /mnt/scratch
inode 283 offset 1105920 root 258
inode 283 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 290377728 /mnt/scratch
inode 283 offset 1179648 root 258
inode 283 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 245358592 /mnt/scratch
inode 283 offset 1327104 root 258
inode 283 offset 1327104 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 245485568 /mnt/scratch
inode 283 offset 1454080 root 258
inode 283 offset 1454080 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 245542912 /mnt/scratch
inode 283 offset 1511424 root 258
inode 283 offset 1511424 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 245678080 /mnt/scratch
inode 283 offset 1646592 root 258
inode 283 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
283
# /bin/btrfs inspect-internal logical-resolve -P 262000640 /mnt/scratch
inode 283 offset 1970176 root 258
inode 283 offset 1970176 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d2f/d13e/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e is 1681263 (411 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      182..     199:      70945..     70962:     18:        182: shared
   1:      200..     200:      72188..     72188:      1:      70963: shared
   2:      379..     410:      72189..     72220:     32:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e: 2 extents found
after filter: 290590720#73728#745472#shared 295682048#4096#819200#shared 295686144#131072#1552384#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
540
# /bin/btrfs inspect-internal logical-resolve -P 290590720 /mnt/scratch
inode 540 offset 745472 root 258
inode 540 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 540 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
540
# /bin/btrfs inspect-internal logical-resolve -P 295682048 /mnt/scratch
inode 540 offset 819200 root 258
inode 540 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 540 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
540
# /bin/btrfs inspect-internal logical-resolve -P 295686144 /mnt/scratch
inode 540 offset 1552384 root 258
inode 540 offset 1552384 root 5
# /bin/btrfs inspect-internal inode-resolve 540 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d4d/d87/de1/f16e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af is 3143904 (768 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      17:      59352..     59369:     18:             shared
   1:       71..      72:      63063..     63064:      2:      59423: unwritten,shared
   2:       73..      74:      63063..     63064:      2:      63065: unwritten,shared
   3:       75..      86:       5309..      5320:     12:      63065: unwritten,shared
   4:      116..     125:       5350..      5359:     10:             unwritten,shared
   5:      126..     126:       5360..      5360:      1:             shared
   6:      228..     242:      71796..     71810:     15:       5462: shared
   7:      326..     340:      64119..     64133:     15:      71894: shared
   8:      437..     441:      60702..     60706:      5:      64230: shared
   9:      442..     462:      66109..     66129:     21:      60707: shared
  10:      562..     562:      72121..     72121:      1:      66229: shared
  11:      686..     694:      71001..     71009:      9:      72245: shared
  12:      695..     697:      67799..     67801:      3:      71010: shared
  13:      758..     767:      72122..     72131:     10:      67862: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af: 12 extents found
after filter: 243105792#73728#0#shared 258306048#8192#290816#unwritten,shared 258306048#8192#299008#unwritten,shared 21745664#49152#307200#unwritten,shared 21913600#40960#475136#unwritten,shared 21954560#4096#516096#shared 294076416#61440#933888#shared 262631424#61440#1335296#shared 248635392#20480#1789952#shared 270782464#86016#1810432#shared 295407616#4096#2301952#shared 290820096#36864#2809856#shared 277704704#12288#2846720#shared 295411712#40960#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 243105792 /mnt/scratch
inode 317 offset 0 root 258
inode 317 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 258306048 /mnt/scratch
inode 367 offset 475136 root 5
inode 365 offset 1437696 root 5
inode 363 offset 1007616 root 5
inode 304 offset 1089536 root 5
inode 353 offset 135168 root 5
inode 320 offset 2007040 root 5
inode 320 offset 819200 root 5
inode 320 offset 2007040 root 5
inode 269 offset 1622016 root 258
inode 269 offset 1622016 root 5
inode 290 offset 1613824 root 5
inode 290 offset 2338816 root 5
inode 290 offset 2338816 root 5
inode 264 offset 2383872 root 258
inode 266 offset 159744 root 258
inode 264 offset 2383872 root 5
inode 266 offset 159744 root 5
inode 332 offset 131072 root 5
inode 397 offset 524288 root 258
inode 397 offset 524288 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 376 offset 921600 root 258
inode 376 offset 921600 root 5
inode 280 offset 2228224 root 5
inode 385 offset 147456 root 5
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 320 offset 819200 root 258
inode 320 offset 2007040 root 258
inode 320 offset 2007040 root 258
inode 363 offset 1007616 root 258
inode 365 offset 1437696 root 258
inode 367 offset 475136 root 258
inode 332 offset 131072 root 258
inode 290 offset 2338816 root 258
inode 290 offset 1613824 root 258
inode 290 offset 2338816 root 258
inode 280 offset 2228224 root 258
inode 385 offset 147456 root 258
inode 353 offset 135168 root 258
inode 304 offset 1089536 root 258
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 258306048 /mnt/scratch
inode 367 offset 475136 root 5
inode 365 offset 1437696 root 5
inode 363 offset 1007616 root 5
inode 304 offset 1089536 root 5
inode 353 offset 135168 root 5
inode 320 offset 2007040 root 5
inode 320 offset 819200 root 5
inode 320 offset 2007040 root 5
inode 269 offset 1622016 root 258
inode 269 offset 1622016 root 5
inode 290 offset 1613824 root 5
inode 290 offset 2338816 root 5
inode 290 offset 2338816 root 5
inode 264 offset 2383872 root 258
inode 266 offset 159744 root 258
inode 264 offset 2383872 root 5
inode 266 offset 159744 root 5
inode 332 offset 131072 root 5
inode 397 offset 524288 root 258
inode 397 offset 524288 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 376 offset 921600 root 258
inode 376 offset 921600 root 5
inode 280 offset 2228224 root 5
inode 385 offset 147456 root 5
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 320 offset 819200 root 258
inode 320 offset 2007040 root 258
inode 320 offset 2007040 root 258
inode 363 offset 1007616 root 258
inode 365 offset 1437696 root 258
inode 367 offset 475136 root 258
inode 332 offset 131072 root 258
inode 290 offset 2338816 root 258
inode 290 offset 1613824 root 258
inode 290 offset 2338816 root 258
inode 280 offset 2228224 root 258
inode 385 offset 147456 root 258
inode 353 offset 135168 root 258
inode 304 offset 1089536 root 258
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 21745664 /mnt/scratch
inode 317 offset 307200 root 258
inode 317 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 21913600 /mnt/scratch
inode 317 offset 475136 root 258
inode 317 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 21954560 /mnt/scratch
inode 317 offset 516096 root 258
inode 317 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 294076416 /mnt/scratch
inode 317 offset 933888 root 258
inode 317 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 262631424 /mnt/scratch
inode 317 offset 1335296 root 258
inode 317 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 248635392 /mnt/scratch
inode 317 offset 1789952 root 258
inode 317 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 270782464 /mnt/scratch
inode 317 offset 1810432 root 258
inode 317 offset 1810432 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 295407616 /mnt/scratch
inode 317 offset 2301952 root 258
inode 317 offset 2301952 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 290820096 /mnt/scratch
inode 317 offset 2809856 root 258
inode 275 offset 356352 root 258
inode 275 offset 356352 root 5
inode 317 offset 2809856 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
317
# /bin/btrfs inspect-internal logical-resolve -P 295411712 /mnt/scratch
inode 317 offset 3104768 root 258
inode 317 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/f123
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/f123 is 111050 (28 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d18/f123: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/feb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/feb is 1203800 (294 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       80..      90:      63592..     63602:     11:         80: shared
   1:      184..     212:      72132..     72160:     29:      63696: shared
   2:      224..     234:      68489..     68499:     11:      72172: shared
   3:      235..     235:      69703..     69703:      1:      68500: last,shared
/mnt/scratch/snap1/p0/d2/feb: 4 extents found
after filter: 260472832#45056#327680#shared 295452672#118784#753664#shared 280530944#45056#917504#shared 285503488#4096#962560#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/feb
441
# /bin/btrfs inspect-internal logical-resolve -P 260472832 /mnt/scratch
inode 441 offset 327680 root 258
inode 441 offset 327680 root 5
inode 395 offset 176128 root 258
inode 395 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/feb
# stat -c %i /mnt/scratch/snap1/p0/d2/feb
441
# /bin/btrfs inspect-internal logical-resolve -P 295452672 /mnt/scratch
inode 441 offset 753664 root 258
inode 441 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/feb
# stat -c %i /mnt/scratch/snap1/p0/d2/feb
441
# /bin/btrfs inspect-internal logical-resolve -P 280530944 /mnt/scratch
inode 441 offset 917504 root 258
inode 441 offset 917504 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/feb
# stat -c %i /mnt/scratch/snap1/p0/d2/feb
441
# /bin/btrfs inspect-internal logical-resolve -P 285503488 /mnt/scratch
inode 441 offset 962560 root 258
inode 441 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 441 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/feb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/fe7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/fe7 is 560082 (137 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       73..      97:      71091..     71115:     25:         73: shared
   1:      119..     119:      70340..     70340:      1:      71137: last,shared
/mnt/scratch/snap1/p0/d2/fe7: 2 extents found
after filter: 291188736#102400#299008#shared 288112640#4096#487424#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d2/fe7
438
# /bin/btrfs inspect-internal logical-resolve -P 291188736 /mnt/scratch
inode 438 offset 299008 root 258
inode 438 offset 299008 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fe7
# stat -c %i /mnt/scratch/snap1/p0/d2/fe7
438
# /bin/btrfs inspect-internal logical-resolve -P 288112640 /mnt/scratch
inode 438 offset 487424 root 258
inode 438 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fe7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90 is 2261467 (553 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        2..      41:      62399..     62438:     40:          2: unwritten,shared
   1:       46..      66:      62443..     62463:     21:             unwritten,shared
   2:       88..     114:      62485..     62511:     27:             unwritten,shared
   3:      115..     134:      62173..     62192:     20:      62512: shared
   4:      135..     147:      62512..     62524:     13:      62193: unwritten,shared
   5:      150..     157:      62527..     62534:      8:             unwritten,shared
   6:      162..     171:      62539..     62548:     10:             unwritten,shared
   7:      193..     201:      62570..     62578:      9:             unwritten,shared
   8:      243..     260:      61473..     61490:     18:      62620: shared
   9:      336..     339:      66081..     66084:      4:      61566: shared
  10:      486..     500:      65034..     65048:     15:      66231: shared
  11:      501..     501:      72069..     72069:      1:      65049: shared
  12:      525..     552:      72070..     72097:     28:             last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90: 7 extents found
after filter: 255586304#163840#8192#unwritten,shared 255766528#86016#188416#unwritten,shared 255938560#110592#360448#unwritten,shared 254660608#81920#471040#shared 256049152#53248#552960#unwritten,shared 256110592#32768#614400#unwritten,shared 256159744#40960#663552#unwritten,shared 256286720#36864#790528#unwritten,shared 251793408#73728#995328#shared 270667776#16384#1376256#shared 266379264#61440#1990656#shared 295194624#4096#2052096#shared 295198720#114688#2150400#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 255586304 /mnt/scratch
inode 377 offset 8192 root 258
inode 377 offset 8192 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 255766528 /mnt/scratch
inode 377 offset 188416 root 258
inode 377 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 255938560 /mnt/scratch
inode 377 offset 360448 root 258
inode 377 offset 360448 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 254660608 /mnt/scratch
inode 377 offset 471040 root 258
inode 377 offset 471040 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1518981900
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 256049152 /mnt/scratch
inode 377 offset 552960 root 258
inode 377 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 256110592 /mnt/scratch
inode 377 offset 614400 root 258
inode 377 offset 614400 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 256159744 /mnt/scratch
inode 377 offset 663552 root 258
inode 377 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 256286720 /mnt/scratch
inode 377 offset 790528 root 258
inode 377 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 251793408 /mnt/scratch
inode 377 offset 995328 root 258
inode 377 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 270667776 /mnt/scratch
inode 377 offset 1376256 root 258
inode 377 offset 1376256 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 266379264 /mnt/scratch
inode 377 offset 1990656 root 258
inode 377 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 295194624 /mnt/scratch
inode 377 offset 2052096 root 258
inode 377 offset 2052096 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
377
# /bin/btrfs inspect-internal logical-resolve -P 295198720 /mnt/scratch
inode 377 offset 2150400 root 258
inode 377 offset 2150400 root 5
# /bin/btrfs inspect-internal inode-resolve 377 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/f90
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/f6d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/f6d is 3143904 (768 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      17:      59352..     59369:     18:             shared
   1:       71..      72:      63063..     63064:      2:      59423: unwritten,shared
   2:       73..      74:      63063..     63064:      2:      63065: unwritten,shared
   3:       75..      86:       5309..      5320:     12:      63065: unwritten,shared
   4:      116..     125:       5350..      5359:     10:             unwritten,shared
   5:      126..     126:       5360..      5360:      1:             shared
   6:      228..     242:      71796..     71810:     15:       5462: shared
   7:      326..     340:      64119..     64133:     15:      71894: shared
   8:      437..     441:      60702..     60706:      5:      64230: shared
   9:      442..     462:      66109..     66129:     21:      60707: shared
  10:      562..     562:      72121..     72121:      1:      66229: shared
  11:      686..     694:      71001..     71009:      9:      72245: shared
  12:      695..     697:      67799..     67801:      3:      71010: shared
  13:      758..     767:      72122..     72131:     10:      67862: last,shared,eof
/mnt/scratch/snap1/p0/d2/f6d: 12 extents found
after filter: 243105792#73728#0#shared 258306048#8192#290816#unwritten,shared 258306048#8192#299008#unwritten,shared 21745664#49152#307200#unwritten,shared 21913600#40960#475136#unwritten,shared 21954560#4096#516096#shared 294076416#61440#933888#shared 262631424#61440#1335296#shared 248635392#20480#1789952#shared 270782464#86016#1810432#shared 295407616#4096#2301952#shared 290820096#36864#2809856#shared 277704704#12288#2846720#shared 295411712#40960#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 243105792 /mnt/scratch
inode 317 offset 0 root 258
inode 317 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 258306048 /mnt/scratch
inode 367 offset 475136 root 5
inode 365 offset 1437696 root 5
inode 363 offset 1007616 root 5
inode 304 offset 1089536 root 5
inode 353 offset 135168 root 5
inode 320 offset 2007040 root 5
inode 320 offset 819200 root 5
inode 320 offset 2007040 root 5
inode 269 offset 1622016 root 258
inode 269 offset 1622016 root 5
inode 290 offset 1613824 root 5
inode 290 offset 2338816 root 5
inode 290 offset 2338816 root 5
inode 264 offset 2383872 root 258
inode 266 offset 159744 root 258
inode 264 offset 2383872 root 5
inode 266 offset 159744 root 5
inode 332 offset 131072 root 5
inode 397 offset 524288 root 258
inode 397 offset 524288 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 376 offset 921600 root 258
inode 376 offset 921600 root 5
inode 280 offset 2228224 root 5
inode 385 offset 147456 root 5
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 320 offset 819200 root 258
inode 320 offset 2007040 root 258
inode 320 offset 2007040 root 258
inode 363 offset 1007616 root 258
inode 365 offset 1437696 root 258
inode 367 offset 475136 root 258
inode 332 offset 131072 root 258
inode 290 offset 2338816 root 258
inode 290 offset 1613824 root 258
inode 290 offset 2338816 root 258
inode 280 offset 2228224 root 258
inode 385 offset 147456 root 258
inode 353 offset 135168 root 258
inode 304 offset 1089536 root 258
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 258306048 /mnt/scratch
inode 367 offset 475136 root 5
inode 365 offset 1437696 root 5
inode 363 offset 1007616 root 5
inode 304 offset 1089536 root 5
inode 353 offset 135168 root 5
inode 320 offset 2007040 root 5
inode 320 offset 819200 root 5
inode 320 offset 2007040 root 5
inode 269 offset 1622016 root 258
inode 269 offset 1622016 root 5
inode 290 offset 1613824 root 5
inode 290 offset 2338816 root 5
inode 290 offset 2338816 root 5
inode 264 offset 2383872 root 258
inode 266 offset 159744 root 258
inode 264 offset 2383872 root 5
inode 266 offset 159744 root 5
inode 332 offset 131072 root 5
inode 397 offset 524288 root 258
inode 397 offset 524288 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 317 offset 290816 root 5
inode 317 offset 299008 root 5
inode 376 offset 921600 root 258
inode 376 offset 921600 root 5
inode 280 offset 2228224 root 5
inode 385 offset 147456 root 5
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 317 offset 290816 root 258
inode 317 offset 299008 root 258
inode 320 offset 819200 root 258
inode 320 offset 2007040 root 258
inode 320 offset 2007040 root 258
inode 363 offset 1007616 root 258
inode 365 offset 1437696 root 258
inode 367 offset 475136 root 258
inode 332 offset 131072 root 258
inode 290 offset 2338816 root 258
inode 290 offset 1613824 root 258
inode 290 offset 2338816 root 258
inode 280 offset 2228224 root 258
inode 385 offset 147456 root 258
inode 353 offset 135168 root 258
inode 304 offset 1089536 root 258
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 21745664 /mnt/scratch
inode 317 offset 307200 root 258
inode 317 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 21913600 /mnt/scratch
inode 317 offset 475136 root 258
inode 317 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 21954560 /mnt/scratch
inode 317 offset 516096 root 258
inode 317 offset 516096 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 294076416 /mnt/scratch
inode 317 offset 933888 root 258
inode 317 offset 933888 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 262631424 /mnt/scratch
inode 317 offset 1335296 root 258
inode 317 offset 1335296 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 248635392 /mnt/scratch
inode 317 offset 1789952 root 258
inode 317 offset 1789952 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 270782464 /mnt/scratch
inode 317 offset 1810432 root 258
inode 317 offset 1810432 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 295407616 /mnt/scratch
inode 317 offset 2301952 root 258
inode 317 offset 2301952 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 290820096 /mnt/scratch
inode 317 offset 2809856 root 258
inode 275 offset 356352 root 258
inode 275 offset 356352 root 5
inode 317 offset 2809856 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 277704704 /mnt/scratch
inode 317 offset 2846720 root 258
inode 317 offset 2846720 root 5
inode 275 offset 393216 root 258
inode 275 offset 393216 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# stat -c %i /mnt/scratch/snap1/p0/d2/f6d
317
# /bin/btrfs inspect-internal logical-resolve -P 295411712 /mnt/scratch
inode 317 offset 3104768 root 258
inode 317 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 317 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/f6d
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/f1af
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d55/d96/dea/f126
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d55/d96/dea/f126 is 949158 (232 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d2/d55/d96/dea/f126: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b is 3702784 (904 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        7..      17:      59467..     59477:     11:          7: shared
   1:       43..      60:      59478..     59495:     18:             shared
   2:       61..      63:       3673..      3675:      3:      59496: shared
   3:       99..     125:      70200..     70226:     27:       3711: shared
   4:      129..     131:      59102..     59104:      3:      70230: unwritten,shared
   5:      176..     184:       3678..      3686:      9:      59149: unwritten,shared
   6:      250..     251:      59102..     59103:      2:       3752: unwritten,shared
   7:      263..     274:      59115..     59126:     12:             unwritten,shared
   8:      296..     322:      59325..     59351:     27:      59148: shared
   9:      334..     366:      60185..     60217:     33:      59363: shared
  10:      368..     373:      60430..     60435:      6:      60219: shared
  11:      569..     583:      65915..     65929:     15:      60631: unwritten,shared
  12:      584..     595:      60810..     60821:     12:      65930: unwritten,shared
  13:      596..     626:      65930..     65960:     31:      60822: unwritten,shared
  14:      627..     627:      71979..     71979:      1:      65961: shared
  15:      628..     747:      65961..     66080:    120:      71980: unwritten,shared
  16:      879..     903:      71511..     71535:     25:      66212: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b: 15 extents found
after filter: 243576832#45056#28672#shared 243621888#73728#176128#shared 15044608#12288#249856#shared 287539200#110592#405504#shared 242081792#12288#528384#unwritten,shared 15065088#36864#720896#unwritten,shared 242081792#8192#1024000#unwritten,shared 242135040#49152#1077248#unwritten,shared 242995200#110592#1212416#shared 246517760#135168#1368064#shared 247521280#24576#1507328#shared 269987840#61440#2330624#unwritten,shared 249077760#49152#2392064#unwritten,shared 270049280#126976#2441216#unwritten,shared 294825984#4096#2568192#shared 270176256#491520#2572288#unwritten,shared 292909056#102400#3600384#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 243576832 /mnt/scratch
inode 268 offset 28672 root 258
inode 268 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 243621888 /mnt/scratch
inode 268 offset 176128 root 258
inode 268 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 15044608 /mnt/scratch
inode 268 offset 249856 root 258
inode 268 offset 249856 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 287539200 /mnt/scratch
inode 268 offset 405504 root 258
inode 268 offset 405504 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 15065088 /mnt/scratch
inode 268 offset 720896 root 258
inode 268 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 242081792 /mnt/scratch
inode 294 offset 1929216 root 5
inode 294 offset 286720 root 5
inode 294 offset 1929216 root 5
inode 294 offset 1929216 root 5
inode 346 offset 278528 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 155648 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 280 offset 679936 root 5
inode 280 offset 880640 root 5
inode 268 offset 528384 root 258
inode 268 offset 1024000 root 258
inode 268 offset 1024000 root 258
inode 268 offset 528384 root 5
inode 268 offset 1024000 root 5
inode 268 offset 1024000 root 5
inode 307 offset 32768 root 5
inode 299 offset 389120 root 5
inode 325 offset 32768 root 5
inode 324 offset 606208 root 5
inode 264 offset 106496 root 258
inode 264 offset 106496 root 5
inode 325 offset 32768 root 258
inode 324 offset 606208 root 258
inode 280 offset 155648 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 280 offset 679936 root 258
inode 280 offset 880640 root 258
inode 299 offset 389120 root 258
inode 307 offset 32768 root 258
inode 346 offset 278528 root 258
inode 294 offset 286720 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
inode 294 offset 1929216 root 258
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 242135040 /mnt/scratch
inode 294 offset 1187840 root 5
inode 294 offset 1187840 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 208896 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 280 offset 733184 root 5
inode 280 offset 933888 root 5
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 258
inode 268 offset 1077248 root 5
inode 268 offset 1077248 root 5
inode 292 offset 299008 root 5
inode 299 offset 901120 root 5
inode 301 offset 573440 root 5
inode 299 offset 442368 root 5
inode 299 offset 901120 root 5
inode 262 offset 3448832 root 5
inode 350 offset 94208 root 5
inode 272 offset 995328 root 258
inode 272 offset 995328 root 5
inode 264 offset 159744 root 258
inode 264 offset 1024000 root 258
inode 264 offset 1024000 root 258
inode 264 offset 159744 root 5
inode 264 offset 1024000 root 5
inode 264 offset 1024000 root 5
inode 280 offset 208896 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 280 offset 733184 root 258
inode 280 offset 933888 root 258
inode 299 offset 442368 root 258
inode 299 offset 901120 root 258
inode 301 offset 573440 root 258
inode 299 offset 901120 root 258
inode 350 offset 94208 root 258
inode 262 offset 3448832 root 258
inode 292 offset 299008 root 258
inode 294 offset 1187840 root 258
inode 294 offset 1187840 root 258
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 242995200 /mnt/scratch
inode 268 offset 1212416 root 258
inode 268 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 246517760 /mnt/scratch
inode 268 offset 1368064 root 258
inode 268 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 247521280 /mnt/scratch
inode 268 offset 1507328 root 258
inode 268 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 269987840 /mnt/scratch
inode 268 offset 2330624 root 258
inode 268 offset 2330624 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 249077760 /mnt/scratch
inode 268 offset 2392064 root 258
inode 268 offset 2392064 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 270049280 /mnt/scratch
inode 268 offset 2441216 root 258
inode 268 offset 2441216 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 294825984 /mnt/scratch
inode 268 offset 2568192 root 258
inode 268 offset 2568192 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 270176256 /mnt/scratch
inode 268 offset 2572288 root 258
inode 268 offset 2572288 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
268
# /bin/btrfs inspect-internal logical-resolve -P 292909056 /mnt/scratch
inode 268 offset 3600384 root 258
inode 268 offset 3600384 root 5
# /bin/btrfs inspect-internal inode-resolve 268 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/f9b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196 is 3362816 (821 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       18..      21:       4188..      4191:      4:         18: shared
   1:       36..      36:       3641..      3641:      1:       4206: shared
   2:       37..      47:       4332..      4342:     11:       3642: shared
   3:       48..      51:       3653..      3656:      4:       4343: shared
   4:       52..      52:       4343..      4343:      1:       3657: shared
   5:      175..     188:       4344..      4357:     14:             shared
   6:      219..     221:       4889..      4891:      3:       4388: shared
   7:      237..     266:      66430..     66459:     30:       4907: shared
   8:      395..     421:       4358..      4384:     27:      66588: shared
   9:      422..     436:      66289..     66303:     15:       4385: unwritten,shared
  10:      437..     452:       4306..      4321:     16:      66304: shared
  11:      453..     481:      66304..     66332:     29:       4322: unwritten,shared
  12:      649..     672:      60729..     60752:     24:      66500: shared
  13:      673..     673:      72068..     72068:      1:      60753: shared
  14:      806..     820:      71688..     71702:     15:      72201: last,shared,eof
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196: 14 extents found
after filter: 17154048#16384#73728#shared 14913536#4096#147456#shared 17743872#45056#151552#shared 14962688#16384#196608#shared 17788928#4096#212992#shared 17793024#57344#716800#shared 20025344#12288#897024#shared 272097280#122880#970752#shared 17850368#110592#1617920#shared 271519744#61440#1728512#unwritten,shared 17637376#65536#1789952#shared 271581184#118784#1855488#unwritten,shared 248745984#98304#2658304#shared 295190528#4096#2756608#shared 293634048#61440#3301376#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17154048 /mnt/scratch
inode 267 offset 73728 root 258
inode 267 offset 73728 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 14913536 /mnt/scratch
inode 471 offset 1998848 root 258
inode 267 offset 147456 root 258
inode 267 offset 147456 root 5
inode 471 offset 1998848 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17743872 /mnt/scratch
inode 471 offset 2002944 root 258
inode 267 offset 151552 root 258
inode 267 offset 151552 root 5
inode 471 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 14962688 /mnt/scratch
background rm
inode 471 offset 2048000 root 258
inode 267 offset 196608 root 258
inode 267 offset 196608 root 5
inode 471 offset 2048000 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
seed = 1518785819
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17788928 /mnt/scratch
inode 471 offset 2064384 root 258
inode 471 offset 2064384 root 5
inode 267 offset 212992 root 258
inode 267 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17793024 /mnt/scratch
inode 267 offset 716800 root 258
inode 267 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 20025344 /mnt/scratch
inode 267 offset 897024 root 258
inode 267 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 272097280 /mnt/scratch
inode 267 offset 970752 root 258
inode 267 offset 970752 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17850368 /mnt/scratch
inode 267 offset 1617920 root 258
inode 267 offset 1617920 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 271519744 /mnt/scratch
inode 267 offset 1728512 root 258
inode 267 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 17637376 /mnt/scratch
inode 332 offset 876544 root 258
inode 267 offset 1789952 root 258
inode 267 offset 1789952 root 5
inode 332 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 271581184 /mnt/scratch
inode 267 offset 1855488 root 258
inode 267 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 248745984 /mnt/scratch
inode 267 offset 2658304 root 258
inode 267 offset 2658304 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 295190528 /mnt/scratch
inode 267 offset 2756608 root 258
inode 267 offset 2756608 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
# stat -c %i /mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
267
# /bin/btrfs inspect-internal logical-resolve -P 293634048 /mnt/scratch
inode 267 offset 3301376 root 258
inode 267 offset 3301376 root 5
# /bin/btrfs inspect-internal inode-resolve 267 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d2/fa
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d4c/d115/f150
/mnt/scratch/snap1/p0/d2/d18/d66/d136/d40/d56/d5b/d168/f196
background rm
