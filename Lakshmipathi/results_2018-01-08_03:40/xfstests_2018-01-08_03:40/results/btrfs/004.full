*** mkfs -dsize=2097152000

btrfs-progs v4.14.1-17-g73f2db98
See http://btrfs.wiki.kernel.org for more information.

Detected a SSD, turning off metadata duplication.  Mkfs with -m dup if you want to force metadata duplication.
Label:              (null)
UUID:               bc94454f-d279-4e5a-b969-8a1d143e73e0
Node size:          16384
Sector size:        4096
Filesystem size:    1.95GiB
Block group profiles:
  Data:             single            8.00MiB
  Metadata:         single            8.00MiB
  System:           single            4.00MiB
SSD detected:       yes
Incompat features:  extref, skinny-metadata
Number of devices:  1
Devices:
   ID        SIZE  PATH
    1     1.95GiB  /dev/xvdc

# _scratch_mount
# ./ltp/fsstress -d /mnt/scratch -w -p 1 -n 2000
seed = 1515597630
# /bin/btrfs subvolume snapshot /mnt/scratch /mnt/scratch/snap1
Create a snapshot of '/mnt/scratch' in '/mnt/scratch/snap1'
# _scratch_unmount
# _scratch_mount -o compress=lzo
# ./ltp/fsstress -d /mnt/scratch -p 1 -n 4000 -z -f chown=3 -f link=1 -f mkdir=2 -f mknod=2 -f rename=2 -f setxattr=1 -f symlink=2
seed = 1515821664
# ./ltp/fsstress -d /mnt/scratch/next -w -p 1 -n 2000
seed = 1516014701
# _scratch_unmount
# _scratch_mount -o atime
background noise by 25686
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515463365
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63 is 3272152 (799 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       53..      53:      60414..     60414:      1:         53: shared
   1:      106..     106:      61409..     61409:      1:      60467: shared
   2:      195..     219:      67239..     67263:     25:      61498: shared
   3:      289..     304:      61319..     61334:     16:      67333: shared
   4:      344..     359:      66610..     66625:     16:      61374: shared
   5:      514..     534:      62022..     62042:     21:      66780: shared
   6:      573..     589:      66167..     66183:     17:      62081: shared
   7:      590..     590:      66333..     66333:      1:      66184: shared
   8:      640..     646:      66334..     66340:      7:             shared
   9:      647..     647:      73176..     73176:      1:      66341: shared
  10:      768..     798:      73177..     73207:     31:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63: 9 extents found
after filter: 247455744#4096#217088#shared 251531264#4096#434176#shared 275410944#102400#798720#shared 251162624#65536#1183744#shared 272834560#65536#1409024#shared 254042112#86016#2105344#shared 271020032#69632#2347008#shared 271699968#4096#2416640#shared 271704064#28672#2621440#shared 299728896#4096#2650112#shared 299732992#126976#3145728#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 247455744 /mnt/scratch
inode 269 offset 217088 root 258
inode 269 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 251531264 /mnt/scratch
inode 269 offset 434176 root 258
inode 269 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 275410944 /mnt/scratch
inode 269 offset 798720 root 258
inode 269 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 251162624 /mnt/scratch
inode 269 offset 1183744 root 258
inode 269 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 272834560 /mnt/scratch
inode 269 offset 1409024 root 258
inode 269 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 254042112 /mnt/scratch
inode 269 offset 2105344 root 258
inode 269 offset 2105344 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 271020032 /mnt/scratch
inode 269 offset 2347008 root 258
inode 269 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 271699968 /mnt/scratch
inode 269 offset 2416640 root 258
inode 269 offset 2416640 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 271704064 /mnt/scratch
inode 269 offset 2621440 root 258
inode 269 offset 2621440 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 299728896 /mnt/scratch
inode 269 offset 2650112 root 258
inode 269 offset 2650112 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
269
# /bin/btrfs inspect-internal logical-resolve -P 299732992 /mnt/scratch
inode 269 offset 3145728 root 258
inode 269 offset 3145728 root 5
# /bin/btrfs inspect-internal inode-resolve 269 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f63
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f is 2637426 (644 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      14:      59952..     59958:      7:          8: shared
   1:       15..      35:      61230..     61250:     21:      59959: shared
   2:       36..      38:      63787..     63789:      3:      61251: shared
   3:       39..      44:      62468..     62473:      6:      63790: shared
   4:       45..      54:      63790..     63799:     10:      62474: shared
   5:       55..      56:      61084..     61085:      2:      63800: shared
   6:       57..      57:      65217..     65217:      1:      61086: shared
   7:       58..      98:      62474..     62514:     41:      65218: unwritten,shared
   8:      112..     135:      72895..     72918:     24:      62528: shared
   9:      245..     275:      64473..     64503:     31:      73028: shared
  10:      470..     488:      66392..     66410:     19:      64698: shared
  11:      530..     531:      64504..     64505:      2:      66452: shared
  12:      618..     643:      70877..     70902:     26:      64592: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f: 13 extents found
after filter: 245563392#28672#32768#shared 250798080#86016#61440#shared 261271552#12288#147456#shared 255868928#24576#159744#shared 261283840#40960#184320#shared 250200064#8192#225280#shared 267128832#4096#233472#shared 255893504#167936#237568#unwritten,shared 298577920#98304#458752#shared 264081408#126976#1003520#shared 271941632#77824#1925120#shared 264208384#8192#2170880#shared 290312192#106496#2531328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 245563392 /mnt/scratch
inode 320 offset 32768 root 258
inode 320 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 250798080 /mnt/scratch
inode 320 offset 61440 root 258
inode 320 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 261271552 /mnt/scratch
inode 320 offset 147456 root 258
inode 320 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 255868928 /mnt/scratch
inode 320 offset 159744 root 258
inode 320 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 261283840 /mnt/scratch
inode 320 offset 184320 root 258
inode 320 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 250200064 /mnt/scratch
inode 320 offset 225280 root 258
inode 320 offset 225280 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 267128832 /mnt/scratch
inode 320 offset 233472 root 258
inode 320 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 255893504 /mnt/scratch
inode 320 offset 237568 root 258
inode 320 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 298577920 /mnt/scratch
inode 320 offset 458752 root 258
inode 320 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 264081408 /mnt/scratch
inode 320 offset 1003520 root 258
inode 320 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 271941632 /mnt/scratch
inode 320 offset 1925120 root 258
inode 320 offset 1925120 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 264208384 /mnt/scratch
inode 320 offset 2170880 root 258
inode 320 offset 2170880 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
320
# /bin/btrfs inspect-internal logical-resolve -P 290312192 /mnt/scratch
inode 320 offset 2531328 root 258
inode 320 offset 2531328 root 5
# /bin/btrfs inspect-internal inode-resolve 320 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/f4f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff is 1859424 (454 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       81..      92:      70790..     70801:     12:         81: shared
   1:       93..     100:      67952..     67959:      8:      70802: shared
   2:      101..     186:      67960..     68045:     86:             unwritten,shared
   3:      187..     203:      68046..     68062:     17:             shared
   4:      204..     212:      68063..     68071:      9:             unwritten,shared
   5:      439..     453:      70802..     70816:     15:      68298: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff: 3 extents found
after filter: 289955840#49152#331776#shared 278331392#32768#380928#shared 278364160#352256#413696#unwritten,shared 278716416#69632#765952#shared 278786048#36864#835584#unwritten,shared 290004992#61440#1798144#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 289955840 /mnt/scratch
inode 449 offset 331776 root 258
inode 449 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 278331392 /mnt/scratch
inode 449 offset 380928 root 258
inode 449 offset 380928 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 278364160 /mnt/scratch
inode 449 offset 413696 root 258
inode 449 offset 413696 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 278716416 /mnt/scratch
inode 449 offset 765952 root 258
inode 449 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 278786048 /mnt/scratch
inode 449 offset 835584 root 258
inode 449 offset 835584 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
449
# /bin/btrfs inspect-internal logical-resolve -P 290004992 /mnt/scratch
inode 449 offset 1798144 root 258
inode 449 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 449 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fff
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/f76
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/f76 is 2547934 (623 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       58..      80:      59308..     59330:     23:         58: shared
   1:      152..     167:      60051..     60066:     16:      59402: shared
   2:      195..     200:      58849..     58854:      6:      60094: shared
   3:      223..     255:      65581..     65613:     33:      58877: shared
   4:      294..     295:       4669..      4670:      2:      65652: shared
   5:      296..     300:      65614..     65618:      5:       4671: shared
   6:      301..     319:       4676..      4694:     19:      65619: shared
   7:      378..     401:      59423..     59446:     24:       4753: unwritten,shared
   8:      402..     423:      59447..     59468:     22:             shared
   9:      424..     520:      59469..     59565:     97:             unwritten,shared
  10:      521..     521:      59566..     59566:      1:             shared
  11:      589..     590:      66650..     66651:      2:      59634: shared
  12:      591..     591:      73663..     73663:      1:      66652: shared
  13:      619..     622:      73664..     73667:      4:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/f76: 10 extents found
after filter: 242925568#94208#237568#shared 245968896#65536#622592#shared 241045504#24576#798720#shared 268619776#135168#913408#shared 19124224#8192#1204224#shared 268754944#20480#1212416#shared 19152896#77824#1232896#shared 243396608#98304#1548288#unwritten,shared 243494912#90112#1646592#shared 243585024#397312#1736704#unwritten,shared 243982336#4096#2134016#shared 272998400#8192#2412544#shared 301723648#4096#2420736#shared 301727744#16384#2535424#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 242925568 /mnt/scratch
inode 299 offset 237568 root 258
inode 299 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 245968896 /mnt/scratch
inode 299 offset 622592 root 258
inode 299 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 241045504 /mnt/scratch
inode 299 offset 798720 root 258
inode 299 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 268619776 /mnt/scratch
inode 299 offset 913408 root 258
inode 299 offset 913408 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 19124224 /mnt/scratch
inode 299 offset 1204224 root 258
inode 299 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 268754944 /mnt/scratch
inode 299 offset 1212416 root 258
inode 299 offset 1212416 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 19152896 /mnt/scratch
inode 299 offset 1232896 root 258
inode 299 offset 1232896 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 243396608 /mnt/scratch
inode 299 offset 1548288 root 258
inode 299 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 243494912 /mnt/scratch
inode 299 offset 1646592 root 258
inode 299 offset 1646592 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 243585024 /mnt/scratch
inode 299 offset 1736704 root 258
inode 299 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 243982336 /mnt/scratch
inode 299 offset 2134016 root 258
inode 299 offset 2134016 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 272998400 /mnt/scratch
inode 299 offset 2412544 root 258
inode 299 offset 2412544 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 301723648 /mnt/scratch
inode 299 offset 2420736 root 258
inode 299 offset 2420736 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f76
299
# /bin/btrfs inspect-internal logical-resolve -P 301727744 /mnt/scratch
inode 299 offset 2535424 root 258
inode 299 offset 2535424 root 5
# /bin/btrfs inspect-internal inode-resolve 299 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f76
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9 is 1753088 (428 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       39..      53:      68971..     68985:     15:         39: shared
   1:       76..      96:      65443..     65463:     21:      69008: shared
   2:       97..      97:      73279..     73279:      1:      65464: shared
   3:      186..     194:      73280..     73288:      9:             shared
   4:      195..     195:      73654..     73654:      1:      73289: shared
   5:      412..     427:      73427..     73442:     16:      73871: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9: 5 extents found
after filter: 282505216#61440#159744#shared 268054528#86016#311296#shared 300150784#4096#397312#shared 300154880#36864#761856#shared 301686784#4096#798720#shared 300756992#65536#1687552#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 282505216 /mnt/scratch
inode 432 offset 159744 root 258
inode 432 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 268054528 /mnt/scratch
inode 432 offset 311296 root 258
inode 432 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 300150784 /mnt/scratch
inode 432 offset 397312 root 258
inode 432 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 300154880 /mnt/scratch
inode 432 offset 761856 root 258
inode 432 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 301686784 /mnt/scratch
inode 432 offset 798720 root 258
inode 432 offset 798720 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
432
# /bin/btrfs inspect-internal logical-resolve -P 300756992 /mnt/scratch
inode 432 offset 1687552 root 258
inode 432 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 432 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/db0/fe9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f127
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f127 is 1027795 (251 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      23:      75947..     75947:      1:         23: last,shared
/mnt/scratch/snap1/p0/d0/d1/f127: 1 extent found
after filter: 311078912#4096#94208#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f127
483
# /bin/btrfs inspect-internal logical-resolve -P 311078912 /mnt/scratch
inode 483 offset 94208 root 258
inode 483 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 483 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f127
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0 is 3735049 (912 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      239..     259:      65250..     65270:     21:        239: shared
   1:      260..     260:      66156..     66156:      1:      65271: shared
   2:      314..     322:      66157..     66165:      9:             shared
   3:      323..     323:      71080..     71080:      1:      66166: shared
   4:      347..     372:      74887..     74912:     26:      71104: shared
   5:      454..     485:      71081..     71112:     32:      74994: shared
   6:      513..     528:      69739..     69754:     16:      71140: shared
   7:      712..     734:      72177..     72199:     23:      69938: shared
   8:      889..     911:      75134..     75156:     23:      72354: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0: 8 extents found
after filter: 267264000#86016#978944#shared 270974976#4096#1064960#shared 270979072#36864#1286144#shared 291143680#4096#1323008#shared 306737152#106496#1421312#shared 291147776#131072#1859584#shared 285650944#65536#2101248#shared 295636992#94208#2916352#shared 307748864#94208#3641344#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 267264000 /mnt/scratch
inode 415 offset 978944 root 258
inode 415 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 270974976 /mnt/scratch
inode 415 offset 1064960 root 258
inode 415 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 270979072 /mnt/scratch
inode 415 offset 1286144 root 258
inode 415 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 291143680 /mnt/scratch
inode 415 offset 1323008 root 258
inode 415 offset 1323008 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 306737152 /mnt/scratch
inode 415 offset 1421312 root 258
inode 415 offset 1421312 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 291147776 /mnt/scratch
inode 415 offset 1859584 root 258
inode 415 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 285650944 /mnt/scratch
inode 415 offset 2101248 root 258
inode 415 offset 2101248 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 295636992 /mnt/scratch
inode 415 offset 2916352 root 258
inode 415 offset 2916352 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
415
# /bin/btrfs inspect-internal logical-resolve -P 307748864 /mnt/scratch
inode 415 offset 3641344 root 258
inode 415 offset 3641344 root 5
# /bin/btrfs inspect-internal inode-resolve 415 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/fd0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/dd3/f1b4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/dd3/f1b4 is 729088 (178 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      161..     163:      75252..     75254:      3:        161: unwritten,shared
   1:      164..     177:      72609..     72622:     14:      75255: shared,eof
   2:      178..     391:      75255..     75468:    214:      72623: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/dd3/f1b4: 3 extents found
after filter: 308232192#12288#659456#unwritten,shared 297406464#57344#671744#shared,eof 308244480#876544#729088#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/f1b4
531
# /bin/btrfs inspect-internal logical-resolve -P 308232192 /mnt/scratch
inode 531 offset 659456 root 258
inode 531 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/f1b4
531
# /bin/btrfs inspect-internal logical-resolve -P 297406464 /mnt/scratch
inode 531 offset 671744 root 258
inode 531 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/f1b4
531
# /bin/btrfs inspect-internal logical-resolve -P 308244480 /mnt/scratch
inode 531 offset 729088 root 258
inode 531 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d is 853722 (209 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       21..      21:      74873..     74873:      1:         21: shared
   1:      200..     208:      74874..     74882:      9:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d: 1 extent found
after filter: 306679808#4096#86016#shared 306683904#36864#819200#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d
555
# /bin/btrfs inspect-internal logical-resolve -P 306679808 /mnt/scratch
inode 555 offset 86016 root 258
inode 555 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d
555
# /bin/btrfs inspect-internal logical-resolve -P 306683904 /mnt/scratch
inode 555 offset 819200 root 258
inode 555 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 555 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/f17d
background rm
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d160/f1af
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d160/f1af is 71872 (18 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        9..      17:      72864..     72872:      9:          9: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d160/f1af: 1 extent found
after filter: 298450944#36864#36864#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515833780
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f1af
596
# /bin/btrfs inspect-internal logical-resolve -P 298450944 /mnt/scratch
inode 596 offset 36864 root 258
inode 596 offset 36864 root 5
# /bin/btrfs inspect-internal inode-resolve 596 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d160/f1af
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6 is 2259074 (552 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      44:      66412..     66412:      1:         44: shared
   1:       76..      84:      66346..     66354:      9:      66444: shared
   2:       97..     103:      70817..     70823:      7:      66367: shared
   3:      135..     146:      70214..     70225:     12:      70855: unwritten,shared
   4:      147..     171:      69092..     69116:     25:      70226: shared
   5:      172..     182:      70226..     70236:     11:      69117: unwritten,shared
   6:      183..     183:      68781..     68781:      1:      70237: shared
   7:      184..     188:      70237..     70241:      5:      68782: unwritten,shared
   8:      189..     213:      68782..     68806:     25:      70242: shared
   9:      214..     219:      70179..     70184:      6:      68807: shared
  10:      220..     267:      70242..     70289:     48:      70185: unwritten,shared
  11:      268..     285:      70185..     70202:     18:      70290: shared
  12:      286..     286:      74322..     74322:      1:      70203: shared
  13:      546..     551:      74323..     74328:      6:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6: 13 extents found
after filter: 272023552#4096#180224#shared 271753216#36864#311296#shared 290066432#28672#397312#shared 287596544#49152#552960#unwritten,shared 283000832#102400#602112#shared 287645696#45056#704512#unwritten,shared 281726976#4096#749568#shared 287690752#20480#753664#unwritten,shared 281731072#102400#774144#shared 287453184#24576#876544#shared 287711232#196608#901120#unwritten,shared 287477760#73728#1097728#shared 304422912#4096#1171456#shared 304427008#24576#2236416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 272023552 /mnt/scratch
inode 430 offset 180224 root 258
inode 430 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 271753216 /mnt/scratch
inode 430 offset 311296 root 258
inode 430 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 290066432 /mnt/scratch
inode 430 offset 397312 root 258
inode 430 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287596544 /mnt/scratch
inode 430 offset 552960 root 258
inode 430 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 283000832 /mnt/scratch
inode 430 offset 602112 root 258
inode 430 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287645696 /mnt/scratch
inode 430 offset 704512 root 258
inode 430 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 281726976 /mnt/scratch
inode 430 offset 749568 root 258
inode 430 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287690752 /mnt/scratch
inode 430 offset 753664 root 258
inode 430 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 281731072 /mnt/scratch
inode 430 offset 774144 root 258
inode 430 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287453184 /mnt/scratch
inode 430 offset 876544 root 258
inode 430 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287711232 /mnt/scratch
inode 430 offset 901120 root 258
inode 430 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 287477760 /mnt/scratch
inode 430 offset 1097728 root 258
inode 430 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 304422912 /mnt/scratch
inode 430 offset 1171456 root 258
inode 430 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
430
# /bin/btrfs inspect-internal logical-resolve -P 304427008 /mnt/scratch
inode 430 offset 2236416 root 258
inode 430 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b is 1290240 (315 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      160..     178:      68459..     68477:     19:        160: shared
   1:      179..     179:      72811..     72811:      1:      68478: shared
   2:      196..     228:      73246..     73278:     33:      72828: shared
   3:      294..     314:      72513..     72533:     21:      73344: shared,eof
   4:      378..     534:      68612..     68768:    157:      72597: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b: 5 extents found
after filter: 280408064#77824#655360#shared 298233856#4096#733184#shared 300015616#135168#802816#shared 297013248#86016#1204224#shared,eof 281034752#643072#1548288#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
473
# /bin/btrfs inspect-internal logical-resolve -P 280408064 /mnt/scratch
inode 473 offset 655360 root 258
inode 473 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
473
# /bin/btrfs inspect-internal logical-resolve -P 298233856 /mnt/scratch
inode 473 offset 733184 root 258
inode 473 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
473
# /bin/btrfs inspect-internal logical-resolve -P 300015616 /mnt/scratch
inode 473 offset 802816 root 258
inode 473 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
473
# /bin/btrfs inspect-internal logical-resolve -P 297013248 /mnt/scratch
inode 473 offset 1204224 root 258
inode 473 offset 1204224 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
473
# /bin/btrfs inspect-internal logical-resolve -P 281034752 /mnt/scratch
inode 473 offset 1548288 root 258
inode 473 offset 1548288 root 5
# /bin/btrfs inspect-internal inode-resolve 473 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f11b
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/df2/f12d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/df2/f12d is 421888 (103 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       83..     102:      67782..     67801:     20:         83: last,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/df2/f12d: 1 extent found
after filter: 277635072#81920#339968#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/df2/f12d
487
# /bin/btrfs inspect-internal logical-resolve -P 277635072 /mnt/scratch
inode 487 offset 339968 root 258
inode 487 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 487 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/df2/f12d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7 is 729088 (178 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      161..     163:      75252..     75254:      3:        161: unwritten,shared
   1:      164..     177:      72609..     72622:     14:      75255: shared,eof
   2:      178..     391:      75255..     75468:    214:      72623: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7: 3 extents found
after filter: 308232192#12288#659456#unwritten,shared 297406464#57344#671744#shared,eof 308244480#876544#729088#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
531
# /bin/btrfs inspect-internal logical-resolve -P 308232192 /mnt/scratch
inode 531 offset 659456 root 258
inode 531 offset 659456 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
531
# /bin/btrfs inspect-internal logical-resolve -P 297406464 /mnt/scratch
inode 531 offset 671744 root 258
inode 531 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
531
# /bin/btrfs inspect-internal logical-resolve -P 308244480 /mnt/scratch
inode 531 offset 729088 root 258
inode 531 offset 729088 root 5
# /bin/btrfs inspect-internal inode-resolve 531 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/f1b4
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d17b/f1c7
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f74
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f74 is 1302528 (318 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       38..      54:      71235..     71251:     17:         38: shared
   1:      104..     117:      59405..     59418:     14:      71301: shared
   2:      151..     151:      66411..     66411:      1:      59452: shared
   3:      287..     288:      75668..     75669:      2:      66547: shared
   4:      314..     317:      66342..     66345:      4:      75695: shared,eof
   5:      341..     428:       4581..      4668:     88:      66369: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/f74: 6 extents found
after filter: 291778560#69632#155648#shared 243322880#57344#425984#shared 272019456#4096#618496#shared 309936128#8192#1175552#shared 271736832#16384#1286144#shared,eof 18763776#360448#1396736#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
294
# /bin/btrfs inspect-internal logical-resolve -P 291778560 /mnt/scratch
inode 294 offset 155648 root 258
inode 294 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
294
# /bin/btrfs inspect-internal logical-resolve -P 243322880 /mnt/scratch
inode 294 offset 425984 root 258
inode 294 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
294
# /bin/btrfs inspect-internal logical-resolve -P 272019456 /mnt/scratch
inode 294 offset 618496 root 258
inode 294 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
seed = 1515810192
294
# /bin/btrfs inspect-internal logical-resolve -P 309936128 /mnt/scratch
inode 294 offset 1175552 root 258
inode 294 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
294
# /bin/btrfs inspect-internal logical-resolve -P 271736832 /mnt/scratch
inode 294 offset 1286144 root 258
inode 294 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f74
294
# /bin/btrfs inspect-internal logical-resolve -P 18763776 /mnt/scratch
inode 294 offset 1396736 root 258
inode 294 offset 1396736 root 5
# /bin/btrfs inspect-internal inode-resolve 294 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f74
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d is 2224128 (543 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      37:      60014..     60039:     26:         12: shared
   1:       38..      38:      60321..     60321:      1:      60040: shared
   2:       63..      85:      60322..     60344:     23:             shared
   3:       86..      86:      67314..     67314:      1:      60345: shared
   4:      168..     182:      73443..     73457:     15:      67396: unwritten,shared
   5:      183..     219:      66516..     66552:     37:      73458: unwritten,shared
   6:      220..     261:      59122..     59163:     42:      66553: unwritten,shared
   7:      262..     263:      59164..     59165:      2:             shared
   8:      264..     314:      59166..     59216:     51:             unwritten,shared
   9:      315..     331:      59217..     59233:     17:             shared
  10:      332..     332:      70964..     70964:      1:      59234: shared
  11:      333..     374:      59235..     59276:     42:      70965: unwritten,shared
  12:      375..     400:      59277..     59302:     26:             shared
  13:      401..     405:      59303..     59307:      5:             unwritten,shared
  14:      406..     452:      64266..     64312:     47:      59308: unwritten,shared
  15:      453..     461:      64313..     64321:      9:             shared
  16:      531..     542:      70290..     70301:     12:      64391: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d: 10 extents found
after filter: 245817344#106496#49152#shared 247074816#4096#155648#shared 247078912#94208#258048#shared 275718144#4096#352256#shared 300822528#61440#688128#unwritten,shared 272449536#151552#749568#unwritten,shared 242163712#172032#901120#unwritten,shared 242335744#8192#1073152#shared 242343936#208896#1081344#unwritten,shared 242552832#69632#1290240#shared 290668544#4096#1359872#shared 242626560#172032#1363968#unwritten,shared 242798592#106496#1536000#shared 242905088#20480#1642496#unwritten,shared 263233536#192512#1662976#unwritten,shared 263426048#36864#1855488#shared 287907840#49152#2174976#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 245817344 /mnt/scratch
inode 307 offset 49152 root 258
inode 307 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 247074816 /mnt/scratch
inode 307 offset 155648 root 258
inode 307 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 247078912 /mnt/scratch
inode 307 offset 258048 root 258
inode 307 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 275718144 /mnt/scratch
inode 307 offset 352256 root 258
inode 307 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 300822528 /mnt/scratch
inode 307 offset 688128 root 258
inode 307 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 272449536 /mnt/scratch
inode 307 offset 749568 root 258
inode 307 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242163712 /mnt/scratch
inode 307 offset 901120 root 258
inode 307 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242335744 /mnt/scratch
inode 307 offset 1073152 root 258
inode 307 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242343936 /mnt/scratch
inode 307 offset 1081344 root 258
inode 307 offset 1081344 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242552832 /mnt/scratch
inode 307 offset 1290240 root 258
inode 307 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 290668544 /mnt/scratch
inode 307 offset 1359872 root 258
inode 307 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242626560 /mnt/scratch
inode 307 offset 1363968 root 258
inode 307 offset 1363968 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242798592 /mnt/scratch
inode 307 offset 1536000 root 258
inode 307 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 242905088 /mnt/scratch
inode 307 offset 1642496 root 258
inode 307 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 263233536 /mnt/scratch
inode 307 offset 1662976 root 258
inode 307 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 263426048 /mnt/scratch
inode 307 offset 1855488 root 258
inode 307 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
307
# /bin/btrfs inspect-internal logical-resolve -P 287907840 /mnt/scratch
inode 307 offset 2174976 root 258
inode 307 offset 2174976 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d52/f91
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d52/f91 is 1901295 (465 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      28:      61088..     61088:      1:         28: shared
   1:       71..      78:      65203..     65210:      8:      61131: shared
   2:      208..     215:      60618..     60625:      8:      65340: shared
   3:      221..     239:      61296..     61314:     19:      60631: shared
   4:      266..     292:      60709..     60735:     27:      61341: shared
   5:      298..     301:      65320..     65323:      4:      60741: shared
   6:      345..     353:      65324..     65332:      9:             shared
   7:      354..     382:      70847..     70875:     29:      65333: last,shared
/mnt/scratch/snap1/p0/d0/d107/d52/f91: 7 extents found
after filter: 250216448#4096#114688#shared 267071488#32768#290816#shared 248291328#32768#851968#shared 251068416#77824#905216#shared 248664064#110592#1089536#shared 267550720#16384#1220608#shared 267567104#36864#1413120#shared 290189312#118784#1449984#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 250216448 /mnt/scratch
inode 313 offset 114688 root 258
inode 313 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 267071488 /mnt/scratch
inode 313 offset 290816 root 258
inode 313 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 248291328 /mnt/scratch
inode 313 offset 851968 root 258
inode 313 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 251068416 /mnt/scratch
inode 313 offset 905216 root 258
inode 313 offset 905216 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 248664064 /mnt/scratch
inode 313 offset 1089536 root 258
inode 313 offset 1089536 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 267550720 /mnt/scratch
inode 313 offset 1220608 root 258
inode 313 offset 1220608 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 267567104 /mnt/scratch
inode 313 offset 1413120 root 258
inode 313 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f91
313
# /bin/btrfs inspect-internal logical-resolve -P 290189312 /mnt/scratch
inode 313 offset 1449984 root 258
inode 313 offset 1449984 root 5
# /bin/btrfs inspect-internal inode-resolve 313 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f91
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f180
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f180 is 928420 (227 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      205..     226:      72873..     72894:     22:        205: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f180: 1 extent found
after filter: 298487808#90112#839680#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f180
558
# /bin/btrfs inspect-internal logical-resolve -P 298487808 /mnt/scratch
inode 558 offset 839680 root 258
inode 558 offset 839680 root 5
# /bin/btrfs inspect-internal inode-resolve 558 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f180
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/f1a2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/f1a2 is 897024 (219 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      196..     218:      74292..     74314:     23:        196: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/f1a2: 1 extent found
after filter: 304300032#94208#802816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/f1a2
586
# /bin/btrfs inspect-internal logical-resolve -P 304300032 /mnt/scratch
inode 586 offset 802816 root 258
inode 586 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 586 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/f1a2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf is 3712046 (907 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      35:      63843..     63843:      1:         35: shared
   1:       57..      81:      70965..     70989:     25:      63865: shared
   2:       82..      90:      68993..     69001:      9:      70990: shared
   3:      106..     118:      68072..     68084:     13:      69017: unwritten,shared
   4:      119..     148:      63844..     63873:     30:      68085: shared
   5:      149..     161:      68085..     68097:     13:      63874: unwritten,shared
   6:      162..     182:      68098..     68118:     21:             shared
   7:      183..     206:      68119..     68142:     24:             unwritten,shared
   8:      208..     210:      64101..     64103:      3:      68144: shared
   9:      435..     450:      64216..     64231:     16:      64328: shared
  10:      665..     670:      65211..     65216:      6:      64446: shared
  11:      745..     838:      65699..     65792:     94:      65291: unwritten,shared
  12:      880..     905:      66711..     66736:     26:      65834: shared
  13:      906..     906:      68479..     68479:      1:      66737: shared,eof
  14:      965..    1078:      67802..     67915:    114:      68538: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf: 13 extents found
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516202702
after filter: 261500928#4096#143360#shared 290672640#102400#233472#shared 282595328#36864#335872#shared 278822912#53248#434176#unwritten,shared 261505024#122880#487424#shared 278876160#53248#610304#unwritten,shared 278929408#86016#663552#shared 279015424#98304#749568#unwritten,shared 262557696#12288#851968#shared 263028736#65536#1781760#shared 267104256#24576#2723840#shared 269103104#385024#3051520#unwritten,shared 273248256#106496#3604480#shared 280489984#4096#3710976#shared,eof 277716992#466944#3952640#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 261500928 /mnt/scratch
inode 401 offset 143360 root 258
inode 401 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 290672640 /mnt/scratch
inode 401 offset 233472 root 258
inode 401 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 282595328 /mnt/scratch
inode 401 offset 335872 root 258
inode 401 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 278822912 /mnt/scratch
inode 401 offset 434176 root 258
inode 401 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 261505024 /mnt/scratch
inode 401 offset 487424 root 258
inode 401 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 278876160 /mnt/scratch
inode 401 offset 610304 root 258
inode 401 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 278929408 /mnt/scratch
inode 401 offset 663552 root 258
inode 401 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 279015424 /mnt/scratch
inode 401 offset 749568 root 258
inode 401 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 262557696 /mnt/scratch
inode 401 offset 851968 root 258
inode 401 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 263028736 /mnt/scratch
inode 401 offset 1781760 root 258
inode 401 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 267104256 /mnt/scratch
inode 401 offset 2723840 root 258
inode 401 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 269103104 /mnt/scratch
inode 401 offset 3051520 root 258
inode 401 offset 3051520 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 273248256 /mnt/scratch
inode 401 offset 3604480 root 258
inode 401 offset 3604480 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 280489984 /mnt/scratch
inode 401 offset 3710976 root 258
inode 401 offset 3710976 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
401
# /bin/btrfs inspect-internal logical-resolve -P 277716992 /mnt/scratch
inode 401 offset 3952640 root 258
inode 401 offset 3952640 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/f8c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/f8c is 3264244 (797 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      158..     186:      72220..     72248:     29:        158: shared
   1:      215..     232:      61749..     61766:     18:      72277: shared
   2:      268..     277:      71193..     71202:     10:      61802: shared
   3:      374..     399:      65375..     65400:     26:      71299: shared
   4:      433..     446:      62515..     62528:     14:      65434: shared
   5:      454..     457:      65401..     65404:      4:      62536: shared
   6:      458..     458:      66681..     66681:      1:      65405: shared
   7:      584..     593:      66577..     66586:     10:      66807: shared
   8:      674..     739:      69929..     69994:     66:      66667: unwritten,shared
   9:      740..     740:      69995..     69995:      1:             shared
  10:      795..     796:      72249..     72250:      2:      70050: last,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/f8c: 10 extents found
after filter: 295813120#118784#647168#shared 252923904#73728#880640#shared 291606528#40960#1097728#shared 267776000#106496#1531904#shared 256061440#57344#1773568#shared 267882496#16384#1859584#shared 273125376#4096#1875968#shared 272699392#40960#2392064#shared 286429184#270336#2760704#unwritten,shared 286699520#4096#3031040#shared 295931904#8192#3256320#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 295813120 /mnt/scratch
inode 362 offset 647168 root 258
inode 362 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 252923904 /mnt/scratch
inode 362 offset 880640 root 258
inode 362 offset 880640 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 291606528 /mnt/scratch
inode 362 offset 1097728 root 258
inode 362 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 267776000 /mnt/scratch
inode 362 offset 1531904 root 258
inode 362 offset 1531904 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 256061440 /mnt/scratch
inode 362 offset 1773568 root 258
inode 362 offset 1773568 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 267882496 /mnt/scratch
inode 362 offset 1859584 root 258
inode 362 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 273125376 /mnt/scratch
inode 362 offset 1875968 root 258
inode 362 offset 1875968 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 272699392 /mnt/scratch
inode 362 offset 2392064 root 258
inode 362 offset 2392064 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 286429184 /mnt/scratch
inode 362 offset 2760704 root 258
inode 362 offset 2760704 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 286699520 /mnt/scratch
inode 362 offset 3031040 root 258
inode 362 offset 3031040 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f8c
362
# /bin/btrfs inspect-internal logical-resolve -P 295931904 /mnt/scratch
inode 362 offset 3256320 root 258
inode 362 offset 3256320 root 5
# /bin/btrfs inspect-internal inode-resolve 362 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f8c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/fd2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/fd2 is 951123 (233 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       66..      66:      66057..     66057:      1:         66: shared
   1:       82..      85:      66058..     66061:      4:             shared
   2:       86..      86:      76054..     76054:      1:      66062: shared
   3:      132..     174:      69049..     69091:     43:      76100: unwritten,shared
   4:      175..     231:      66937..     66993:     57:      69092: unwritten,shared
   5:      232..     232:      76055..     76055:      1:      66994: shared,eof
   6:      233..     421:      66995..     67183:    189:      76056: unwritten,shared,eof
   7:      422..     440:      67469..     67487:     19:      67184: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/fd2: 7 extents found
after filter: 270569472#4096#270336#shared 270573568#16384#335872#shared 311517184#4096#352256#shared 282824704#176128#540672#unwritten,shared 274173952#233472#716800#unwritten,shared 311521280#4096#950272#shared,eof 274411520#774144#954368#unwritten,shared,eof 276353024#77824#1728512#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 270569472 /mnt/scratch
inode 417 offset 270336 root 258
inode 417 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 270573568 /mnt/scratch
inode 417 offset 335872 root 258
inode 417 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 311517184 /mnt/scratch
inode 417 offset 352256 root 258
inode 417 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 282824704 /mnt/scratch
inode 417 offset 540672 root 258
inode 417 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 274173952 /mnt/scratch
background rm
inode 417 offset 716800 root 258
inode 417 offset 716800 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515380787
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 311521280 /mnt/scratch
inode 417 offset 950272 root 258
inode 417 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 274411520 /mnt/scratch
inode 417 offset 954368 root 258
inode 417 offset 954368 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fd2
417
# /bin/btrfs inspect-internal logical-resolve -P 276353024 /mnt/scratch
inode 417 offset 1728512 root 258
inode 417 offset 1728512 root 5
# /bin/btrfs inspect-internal inode-resolve 417 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fd2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc is 818760 (200 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       78..      91:      67345..     67358:     14:         78: shared
   1:      152..     174:      72388..     72410:     23:      67419: shared
   2:      194..     199:      66428..     66433:      6:      72430: shared,eof
   3:      239..     456:      64566..     64783:    218:      66473: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc: 4 extents found
after filter: 275845120#57344#319488#shared 296501248#94208#622592#shared 272089088#24576#794624#shared,eof 264462336#892928#978944#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
412
# /bin/btrfs inspect-internal logical-resolve -P 275845120 /mnt/scratch
inode 412 offset 319488 root 258
inode 412 offset 319488 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
412
# /bin/btrfs inspect-internal logical-resolve -P 296501248 /mnt/scratch
inode 412 offset 622592 root 258
inode 412 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
412
# /bin/btrfs inspect-internal logical-resolve -P 272089088 /mnt/scratch
inode 412 offset 794624 root 258
inode 412 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
412
# /bin/btrfs inspect-internal logical-resolve -P 264462336 /mnt/scratch
inode 412 offset 978944 root 258
inode 412 offset 978944 root 5
# /bin/btrfs inspect-internal inode-resolve 412 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/fcc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164 is 254022 (63 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       47..      61:      72833..     72847:     15:         47: shared
   1:       62..      62:      75106..     75106:      1:      72848: shared,eof
   2:      133..     183:      75011..     75061:     51:      75177: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164: 3 extents found
after filter: 298323968#61440#192512#shared 307634176#4096#253952#shared,eof 307245056#208896#544768#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
533
# /bin/btrfs inspect-internal logical-resolve -P 298323968 /mnt/scratch
inode 533 offset 192512 root 258
inode 533 offset 192512 root 5
# /bin/btrfs inspect-internal inode-resolve 533 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
533
# /bin/btrfs inspect-internal logical-resolve -P 307634176 /mnt/scratch
inode 533 offset 253952 root 258
inode 533 offset 253952 root 5
# /bin/btrfs inspect-internal inode-resolve 533 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
533
# /bin/btrfs inspect-internal logical-resolve -P 307245056 /mnt/scratch
inode 533 offset 544768 root 258
inode 533 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 533 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f164
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f17a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f17a is 913408 (223 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      217..     222:      70302..     70307:      6:        217: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f17a: 1 extent found
after filter: 287956992#24576#888832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f17a
552
# /bin/btrfs inspect-internal logical-resolve -P 287956992 /mnt/scratch
inode 552 offset 888832 root 258
inode 552 offset 888832 root 5
# /bin/btrfs inspect-internal inode-resolve 552 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f17a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/dd3/fc5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/dd3/fc5 is 2882394 (704 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      35:      67376..     67378:      3:         33: shared
   1:       36..      48:      67939..     67951:     13:      67379: shared
   2:       49..      71:      64394..     64416:     23:      67952: shared
   3:       72..      72:      65300..     65300:      1:      64417: shared
   4:      256..     282:      65554..     65580:     27:      65484: shared
   5:      283..     283:      66371..     66371:      1:      65581: shared
   6:      461..     514:      66217..     66270:     54:      66549: unwritten,shared
   7:      515..     515:      66271..     66271:      1:             shared
   8:      595..     611:      71402..     71418:     17:      66351: unwritten,shared
   9:      612..     612:      71419..     71419:      1:             shared
  10:      613..     613:      75816..     75816:      1:      71420: shared
  11:      614..     674:      71421..     71481:     61:      75817: unwritten,shared
  12:      675..     703:      75817..     75845:     29:      71482: shared,eof
  13:      704..     748:      71511..     71555:     45:      75846: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/dd3/fc5: 12 extents found
after filter: 275972096#12288#135168#shared 278278144#53248#147456#shared 263757824#94208#200704#shared 267468800#4096#294912#shared 268509184#110592#1048576#shared 271855616#4096#1159168#shared 271224832#221184#1888256#unwritten,shared 271446016#4096#2109440#shared 292462592#69632#2437120#unwritten,shared 292532224#4096#2506752#shared 310542336#4096#2510848#shared 292540416#249856#2514944#unwritten,shared 310546432#118784#2764800#shared,eof 292909056#184320#2883584#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 275972096 /mnt/scratch
inode 375 offset 135168 root 258
inode 375 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 278278144 /mnt/scratch
inode 375 offset 147456 root 258
inode 375 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 263757824 /mnt/scratch
inode 375 offset 200704 root 258
inode 375 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 267468800 /mnt/scratch
inode 375 offset 294912 root 258
inode 375 offset 294912 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 268509184 /mnt/scratch
inode 375 offset 1048576 root 258
inode 375 offset 1048576 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 271855616 /mnt/scratch
inode 375 offset 1159168 root 258
inode 375 offset 1159168 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 271224832 /mnt/scratch
inode 375 offset 1888256 root 258
inode 375 offset 1888256 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 271446016 /mnt/scratch
inode 375 offset 2109440 root 258
inode 375 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 292462592 /mnt/scratch
inode 375 offset 2437120 root 258
inode 375 offset 2437120 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 292532224 /mnt/scratch
inode 375 offset 2506752 root 258
inode 375 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 310542336 /mnt/scratch
inode 375 offset 2510848 root 258
inode 375 offset 2510848 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 292540416 /mnt/scratch
inode 375 offset 2514944 root 258
inode 375 offset 2514944 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 310546432 /mnt/scratch
inode 375 offset 2764800 root 258
inode 375 offset 2764800 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fc5
375
# /bin/btrfs inspect-internal logical-resolve -P 292909056 /mnt/scratch
inode 375 offset 2883584 root 258
inode 375 offset 2883584 root 5
# /bin/btrfs inspect-internal inode-resolve 375 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/fc5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5 is 357653 (88 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       43..      44:      66738..     66739:      2:         43: shared
   1:       45..      51:      75212..     75218:      7:      66740: shared
   2:       52..      55:      66747..     66750:      4:      75219: shared
   3:       56..      56:      71184..     71184:      1:      66751: shared
   4:       87..      87:      72920..     72920:      1:      71215: shared,eof
   5:      252..     431:      72625..     72804:    180:      73085: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5: 6 extents found
after filter: 273358848#8192#176128#shared 308068352#28672#184320#shared 273395712#16384#212992#shared 291569664#4096#229376#shared 298680320#4096#356352#shared,eof 297472000#737280#1032192#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
405
# /bin/btrfs inspect-internal logical-resolve -P 273358848 /mnt/scratch
inode 405 offset 176128 root 258
inode 405 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
405
# /bin/btrfs inspect-internal logical-resolve -P 308068352 /mnt/scratch
inode 405 offset 184320 root 258
inode 405 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
405
# /bin/btrfs inspect-internal logical-resolve -P 273395712 /mnt/scratch
inode 405 offset 212992 root 258
inode 405 offset 212992 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
405
# /bin/btrfs inspect-internal logical-resolve -P 291569664 /mnt/scratch
inode 405 offset 229376 root 258
inode 405 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
seed = 1515402399
405
# /bin/btrfs inspect-internal logical-resolve -P 298680320 /mnt/scratch
inode 405 offset 356352 root 258
inode 405 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
405
# /bin/btrfs inspect-internal logical-resolve -P 297472000 /mnt/scratch
inode 405 offset 1032192 root 258
inode 405 offset 1032192 root 5
# /bin/btrfs inspect-internal inode-resolve 405 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fe5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f17e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f17e is 1910970 (467 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      151..     234:      75670..     75753:     84:        151: unwritten,shared
   1:      235..     244:      72013..     72022:     10:      75754: shared
   2:      245..     285:      75754..     75794:     41:      72023: last,unwritten,shared
/mnt/scratch/snap1/p0/d0/d1/f17e: 3 extents found
after filter: 309944320#344064#618496#unwritten,shared 294965248#40960#962560#shared 310288384#167936#1003520#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17e
556
# /bin/btrfs inspect-internal logical-resolve -P 309944320 /mnt/scratch
inode 556 offset 618496 root 258
inode 556 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 556 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17e
556
# /bin/btrfs inspect-internal logical-resolve -P 294965248 /mnt/scratch
inode 556 offset 962560 root 258
inode 556 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 556 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17e
556
# /bin/btrfs inspect-internal logical-resolve -P 310288384 /mnt/scratch
inode 556 offset 1003520 root 258
inode 556 offset 1003520 root 5
# /bin/btrfs inspect-internal inode-resolve 556 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/f166
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/f166 is 1605632 (392 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      174..     205:      71876..     71907:     32:        174: shared
   1:      206..     206:      72361..     72361:      1:      71908: shared
   2:      235..     238:      72362..     72365:      4:             shared
   3:      318..     324:      75004..     75010:      7:      72445: shared
   4:      363..     391:      72129..     72157:     29:      75049: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/f166: 4 extents found
after filter: 294404096#131072#712704#shared 296390656#4096#843776#shared 296394752#16384#962560#shared 307216384#28672#1302528#shared 295440384#118784#1486848#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f166
535
# /bin/btrfs inspect-internal logical-resolve -P 294404096 /mnt/scratch
inode 535 offset 712704 root 258
inode 535 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f166
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f166
535
# /bin/btrfs inspect-internal logical-resolve -P 296390656 /mnt/scratch
inode 535 offset 843776 root 258
inode 535 offset 843776 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f166
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f166
535
# /bin/btrfs inspect-internal logical-resolve -P 296394752 /mnt/scratch
inode 535 offset 962560 root 258
inode 535 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f166
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f166
535
# /bin/btrfs inspect-internal logical-resolve -P 307216384 /mnt/scratch
inode 535 offset 1302528 root 258
inode 535 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f166
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f166
535
# /bin/btrfs inspect-internal logical-resolve -P 295440384 /mnt/scratch
inode 535 offset 1486848 root 258
inode 535 offset 1486848 root 5
# /bin/btrfs inspect-internal inode-resolve 535 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/f166
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/dd3/fcf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/dd3/fcf is 3712046 (907 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       35..      35:      63843..     63843:      1:         35: shared
   1:       57..      81:      70965..     70989:     25:      63865: shared
   2:       82..      90:      68993..     69001:      9:      70990: shared
   3:      106..     118:      68072..     68084:     13:      69017: unwritten,shared
   4:      119..     148:      63844..     63873:     30:      68085: shared
   5:      149..     161:      68085..     68097:     13:      63874: unwritten,shared
   6:      162..     182:      68098..     68118:     21:             shared
   7:      183..     206:      68119..     68142:     24:             unwritten,shared
   8:      208..     210:      64101..     64103:      3:      68144: shared
   9:      435..     450:      64216..     64231:     16:      64328: shared
  10:      665..     670:      65211..     65216:      6:      64446: shared
  11:      745..     838:      65699..     65792:     94:      65291: unwritten,shared
  12:      880..     905:      66711..     66736:     26:      65834: shared
  13:      906..     906:      68479..     68479:      1:      66737: shared,eof
  14:      965..    1078:      67802..     67915:    114:      68538: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/dd3/fcf: 13 extents found
after filter: 261500928#4096#143360#shared 290672640#102400#233472#shared 282595328#36864#335872#shared 278822912#53248#434176#unwritten,shared 261505024#122880#487424#shared 278876160#53248#610304#unwritten,shared 278929408#86016#663552#shared 279015424#98304#749568#unwritten,shared 262557696#12288#851968#shared 263028736#65536#1781760#shared 267104256#24576#2723840#shared 269103104#385024#3051520#unwritten,shared 273248256#106496#3604480#shared 280489984#4096#3710976#shared,eof 277716992#466944#3952640#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 261500928 /mnt/scratch
inode 401 offset 143360 root 258
inode 401 offset 143360 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 290672640 /mnt/scratch
inode 401 offset 233472 root 258
inode 401 offset 233472 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 282595328 /mnt/scratch
inode 401 offset 335872 root 258
inode 401 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 278822912 /mnt/scratch
inode 401 offset 434176 root 258
inode 401 offset 434176 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 261505024 /mnt/scratch
inode 401 offset 487424 root 258
inode 401 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 278876160 /mnt/scratch
inode 401 offset 610304 root 258
inode 401 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 278929408 /mnt/scratch
inode 401 offset 663552 root 258
inode 401 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 279015424 /mnt/scratch
inode 401 offset 749568 root 258
inode 401 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 262557696 /mnt/scratch
inode 401 offset 851968 root 258
inode 401 offset 851968 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 263028736 /mnt/scratch
inode 401 offset 1781760 root 258
inode 401 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 267104256 /mnt/scratch
inode 401 offset 2723840 root 258
inode 401 offset 2723840 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 269103104 /mnt/scratch
inode 401 offset 3051520 root 258
inode 401 offset 3051520 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 273248256 /mnt/scratch
inode 401 offset 3604480 root 258
inode 401 offset 3604480 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 280489984 /mnt/scratch
inode 401 offset 3710976 root 258
inode 401 offset 3710976 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/fcf
401
# /bin/btrfs inspect-internal logical-resolve -P 277716992 /mnt/scratch
inode 401 offset 3952640 root 258
inode 401 offset 3952640 root 5
# /bin/btrfs inspect-internal inode-resolve 401 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbf
/mnt/scratch/snap1/p0/d0/dd3/fcf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120 is 1625754 (397 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      63:      67197..     67214:     18:         46: shared
   1:       64..      64:      70824..     70824:      1:      67215: shared
   2:       66..      86:      70825..     70845:     21:             shared
   3:      235..     238:      69535..     69538:      4:      70994: shared
   4:      388..     396:      72211..     72219:      9:      69688: shared,eof
   5:      482..     737:      70366..     70621:    256:      72305: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120: 5 extents found
after filter: 275238912#73728#188416#shared 290095104#4096#262144#shared 290099200#86016#270336#shared 284815360#16384#962560#shared 295776256#36864#1589248#shared,eof 288219136#1048576#1974272#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 275238912 /mnt/scratch
inode 455 offset 188416 root 258
inode 455 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 290095104 /mnt/scratch
inode 455 offset 262144 root 258
inode 455 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 290099200 /mnt/scratch
inode 455 offset 270336 root 258
inode 455 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 284815360 /mnt/scratch
inode 455 offset 962560 root 258
inode 455 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 295776256 /mnt/scratch
inode 455 offset 1589248 root 258
inode 455 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
455
# /bin/btrfs inspect-internal logical-resolve -P 288219136 /mnt/scratch
inode 455 offset 1974272 root 258
inode 455 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55 is 1941504 (474 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      157..     163:      60294..     60300:      7:        157: shared
   1:      166..     167:      69539..     69540:      2:      60303: unwritten,shared
   2:      168..     168:      60301..     60301:      1:      69541: shared
   3:      169..     169:      62105..     62105:      1:      60302: shared
   4:      170..     218:      69541..     69589:     49:      62106: unwritten,shared
   5:      219..     235:      62605..     62621:     17:      69590: shared
   6:      236..     249:      69590..     69603:     14:      62622: unwritten,shared
   7:      250..     250:      62106..     62106:      1:      69604: shared
   8:      251..     328:      69604..     69681:     78:      62107: unwritten,shared
   9:      329..     344:      66009..     66024:     16:      69682: shared
  10:      345..     401:      69682..     69738:     57:      66025: unwritten,shared
  11:      441..     456:      75108..     75123:     16:      69778: shared
  12:      457..     459:      62047..     62049:      3:      75124: shared
  13:      470..     473:      64942..     64945:      4:      62060: shared,eof
  14:      572..     637:      70113..     70178:     66:      65044: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55: 15 extents found
after filter: 246964224#28672#643072#shared 284831744#8192#679936#unwritten,shared 246992896#4096#688128#shared 254382080#4096#692224#shared 284839936#200704#696320#unwritten,shared 256430080#69632#897024#shared 285040640#57344#966656#unwritten,shared 254386176#4096#1024000#shared 285097984#319488#1028096#unwritten,shared 270372864#65536#1347584#shared 285417472#233472#1413120#unwritten,shared 307642368#65536#1806336#shared 254144512#12288#1871872#shared 266002432#16384#1925120#shared,eof 287182848#270336#2342912#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 246964224 /mnt/scratch
inode 324 offset 643072 root 258
inode 324 offset 643072 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 284831744 /mnt/scratch
inode 324 offset 679936 root 258
inode 324 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 246992896 /mnt/scratch
inode 324 offset 688128 root 258
inode 324 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 254382080 /mnt/scratch
inode 324 offset 692224 root 258
inode 324 offset 692224 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515541721
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 284839936 /mnt/scratch
inode 324 offset 696320 root 258
inode 324 offset 696320 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 256430080 /mnt/scratch
inode 324 offset 897024 root 258
inode 324 offset 897024 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 285040640 /mnt/scratch
inode 324 offset 966656 root 258
inode 324 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 254386176 /mnt/scratch
inode 324 offset 1024000 root 258
inode 324 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 285097984 /mnt/scratch
inode 324 offset 1028096 root 258
inode 324 offset 1028096 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 270372864 /mnt/scratch
inode 324 offset 1347584 root 258
inode 324 offset 1347584 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 285417472 /mnt/scratch
inode 324 offset 1413120 root 258
inode 324 offset 1413120 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 307642368 /mnt/scratch
inode 324 offset 1806336 root 258
inode 324 offset 1806336 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 254144512 /mnt/scratch
inode 324 offset 1871872 root 258
inode 324 offset 1871872 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 266002432 /mnt/scratch
inode 324 offset 1925120 root 258
inode 324 offset 1925120 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
324
# /bin/btrfs inspect-internal logical-resolve -P 287182848 /mnt/scratch
inode 324 offset 2342912 root 258
inode 324 offset 2342912 root 5
# /bin/btrfs inspect-internal inode-resolve 324 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f55
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106 is 2650428 (648 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      165..     165:      70990..     70990:      1:        165: shared
   1:      314..     337:      72251..     72274:     24:      71139: shared
   2:      364..     392:      70991..     71019:     29:      72301: shared
   3:      393..     393:      73909..     73909:      1:      71020: shared
   4:      426..     624:      74405..     74603:    199:      73942: unwritten,shared
   5:      625..     647:      73910..     73932:     23:      74604: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106: 6 extents found
after filter: 290775040#4096#675840#shared 295940096#98304#1286144#shared 290779136#118784#1490944#shared 302731264#4096#1609728#shared 304762880#815104#1744896#unwritten,shared 302735360#94208#2560000#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 290775040 /mnt/scratch
inode 456 offset 675840 root 258
inode 456 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 295940096 /mnt/scratch
inode 456 offset 1286144 root 258
inode 456 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 290779136 /mnt/scratch
inode 456 offset 1490944 root 258
inode 456 offset 1490944 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 302731264 /mnt/scratch
inode 456 offset 1609728 root 258
inode 456 offset 1609728 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 304762880 /mnt/scratch
inode 456 offset 1744896 root 258
inode 456 offset 1744896 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
456
# /bin/btrfs inspect-internal logical-resolve -P 302735360 /mnt/scratch
inode 456 offset 2560000 root 258
inode 456 offset 2560000 root 5
# /bin/btrfs inspect-internal inode-resolve 456 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f106
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb is 668926 (164 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      141..     163:      75981..     76003:     23:        141: last,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb: 1 extent found
after filter: 311218176#94208#577536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb
616
# /bin/btrfs inspect-internal logical-resolve -P 311218176 /mnt/scratch
inode 616 offset 577536 root 258
inode 616 offset 577536 root 5
# /bin/btrfs inspect-internal inode-resolve 616 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8
/mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f14e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f14e is 948741 (232 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       90..      96:      73957..     73963:      7:         90: last,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f14e: 1 extent found
after filter: 302927872#28672#368640#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f14e
515
# /bin/btrfs inspect-internal logical-resolve -P 302927872 /mnt/scratch
inode 515 offset 368640 root 258
inode 515 offset 368640 root 5
# /bin/btrfs inspect-internal inode-resolve 515 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f14e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/dd3/d12e/f146
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/dd3/d12e/f146 is 410549 (101 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       36..      37:      73115..     73116:      2:         36: shared
   1:       38..      41:      74329..     74332:      4:      73117: shared
   2:       42..      55:      73121..     73134:     14:      74333: last,shared
/mnt/scratch/snap1/p0/d0/dd3/d12e/f146: 3 extents found
after filter: 299479040#8192#147456#shared 304451584#16384#155648#shared 299503616#57344#172032#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/d12e/f146
509
# /bin/btrfs inspect-internal logical-resolve -P 299479040 /mnt/scratch
inode 509 offset 147456 root 258
inode 509 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/d12e/f146
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/d12e/f146
509
# /bin/btrfs inspect-internal logical-resolve -P 304451584 /mnt/scratch
inode 509 offset 155648 root 258
inode 509 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/d12e/f146
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/d12e/f146
509
# /bin/btrfs inspect-internal logical-resolve -P 299503616 /mnt/scratch
inode 509 offset 172032 root 258
inode 509 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 509 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/d12e/f146
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/fda
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/fda is 1228800 (300 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      15:      72324..     72335:     12:          4: shared
   1:       19..      32:      66450..     66463:     14:      72339: shared
   2:       33..      36:      58613..     58616:      4:      66464: shared
   3:       37..      52:      58478..     58493:     16:      58617: shared
   4:      119..     119:      72336..     72336:      1:      58560: shared
   5:      193..     193:      72012..     72012:      1:      72410: shared
   6:      211..     229:      73226..     73244:     19:      72030: shared
   7:      230..     230:      73965..     73965:      1:      73245: shared
   8:      273..     299:      73881..     73907:     27:      74008: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/fda: 9 extents found
after filter: 296239104#49152#16384#shared 272179200#57344#77824#shared 240078848#16384#135168#shared 239525888#65536#151552#shared 296288256#4096#487424#shared 294961152#4096#790528#shared 299933696#77824#864256#shared 302960640#4096#942080#shared 302616576#110592#1118208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 296239104 /mnt/scratch
inode 280 offset 16384 root 258
inode 280 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 272179200 /mnt/scratch
inode 280 offset 77824 root 258
inode 280 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 240078848 /mnt/scratch
inode 280 offset 135168 root 258
inode 280 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 239525888 /mnt/scratch
inode 280 offset 151552 root 258
inode 280 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 296288256 /mnt/scratch
inode 280 offset 487424 root 258
inode 280 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 294961152 /mnt/scratch
inode 280 offset 790528 root 258
inode 280 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 299933696 /mnt/scratch
inode 280 offset 864256 root 258
inode 280 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 302960640 /mnt/scratch
inode 280 offset 942080 root 258
inode 280 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/fda
280
# /bin/btrfs inspect-internal logical-resolve -P 302616576 /mnt/scratch
inode 280 offset 1118208 root 258
inode 280 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8 is 668926 (164 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      141..     163:      75981..     76003:     23:        141: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8: 1 extent found
after filter: 311218176#94208#577536#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8
background rm
616
# /bin/btrfs inspect-internal logical-resolve -P 311218176 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 616 offset 577536 root 258
inode 616 offset 577536 root 5
seed = 1515751746
# /bin/btrfs inspect-internal inode-resolve 616 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f1c8
/mnt/scratch/snap1/p0/d0/d6e/dc9/f1fb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105 is 1625754 (397 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       46..      63:      67197..     67214:     18:         46: shared
   1:       64..      64:      70824..     70824:      1:      67215: shared
   2:       66..      86:      70825..     70845:     21:             shared
   3:      235..     238:      69535..     69538:      4:      70994: shared
   4:      388..     396:      72211..     72219:      9:      69688: shared,eof
   5:      482..     737:      70366..     70621:    256:      72305: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105: 5 extents found
after filter: 275238912#73728#188416#shared 290095104#4096#262144#shared 290099200#86016#270336#shared 284815360#16384#962560#shared 295776256#36864#1589248#shared,eof 288219136#1048576#1974272#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 275238912 /mnt/scratch
inode 455 offset 188416 root 258
inode 455 offset 188416 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 290095104 /mnt/scratch
inode 455 offset 262144 root 258
inode 455 offset 262144 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 290099200 /mnt/scratch
inode 455 offset 270336 root 258
inode 455 offset 270336 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 284815360 /mnt/scratch
inode 455 offset 962560 root 258
inode 455 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 295776256 /mnt/scratch
inode 455 offset 1589248 root 258
inode 455 offset 1589248 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
455
# /bin/btrfs inspect-internal logical-resolve -P 288219136 /mnt/scratch
inode 455 offset 1974272 root 258
inode 455 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 455 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/f105
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/f120
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111 is 1431345 (350 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       34..      53:      74385..     74404:     20:         34: shared
   1:       91..     106:      66464..     66479:     16:      74442: shared
   2:      107..     107:      68480..     68480:      1:      66480: shared
   3:      318..     348:      68481..     68511:     31:             shared
   4:      349..     349:      73143..     73143:      1:      68512: shared,eof
   5:      443..     481:      73076..     73114:     39:      73237: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111: 5 extents found
after filter: 304680960#81920#139264#shared 272236544#65536#372736#shared 280494080#4096#438272#shared 280498176#126976#1302528#shared 299593728#4096#1429504#shared,eof 299319296#159744#1814528#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 304680960 /mnt/scratch
inode 464 offset 139264 root 258
inode 464 offset 139264 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 272236544 /mnt/scratch
inode 464 offset 372736 root 258
inode 464 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 280494080 /mnt/scratch
inode 464 offset 438272 root 258
inode 464 offset 438272 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 280498176 /mnt/scratch
inode 464 offset 1302528 root 258
inode 464 offset 1302528 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 299593728 /mnt/scratch
inode 464 offset 1429504 root 258
inode 464 offset 1429504 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
464
# /bin/btrfs inspect-internal logical-resolve -P 299319296 /mnt/scratch
inode 464 offset 1814528 root 258
inode 464 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 464 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/dce/f111
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d is 1988779 (486 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      156..     161:      65436..     65441:      6:        156: shared
   1:      162..     162:      67375..     67375:      1:      65442: shared
   2:      316..     346:      76004..     76034:     31:      67529: shared
   3:      391..     403:      67184..     67196:     13:      76079: shared
   4:      439..     477:      71706..     71744:     39:      67232: unwritten,shared
   5:      478..     484:      71306..     71312:      7:      71745: shared
   6:      485..     485:      71705..     71705:      1:      71313: shared,eof
   7:      486..     612:      71745..     71871:    127:      71706: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d: 8 extents found
after filter: 268025856#24576#638976#shared 275968000#4096#663552#shared 311312384#126976#1294336#shared 275185664#53248#1601536#shared 293707776#159744#1798144#unwritten,shared 292069376#28672#1957888#shared 293703680#4096#1986560#shared,eof 293867520#520192#1990656#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 268025856 /mnt/scratch
inode 363 offset 638976 root 258
inode 363 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 275968000 /mnt/scratch
inode 363 offset 663552 root 258
inode 363 offset 663552 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 311312384 /mnt/scratch
inode 363 offset 1294336 root 258
inode 363 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 275185664 /mnt/scratch
inode 363 offset 1601536 root 258
inode 363 offset 1601536 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 293707776 /mnt/scratch
inode 363 offset 1798144 root 258
inode 363 offset 1798144 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 292069376 /mnt/scratch
inode 363 offset 1957888 root 258
inode 363 offset 1957888 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 293703680 /mnt/scratch
inode 363 offset 1986560 root 258
inode 363 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
363
# /bin/btrfs inspect-internal logical-resolve -P 293867520 /mnt/scratch
inode 363 offset 1990656 root 258
inode 363 offset 1990656 root 5
# /bin/btrfs inspect-internal inode-resolve 363 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f8d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d52/f96
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d52/f96 is 390417 (96 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        6..       9:      62241..     62244:      4:          6: shared
   1:       10..      10:      65374..     65374:      1:      62245: shared
   2:       12..      25:      68893..     68906:     14:      65376: shared
   3:       56..      70:      72849..     72863:     15:      68937: last,shared
/mnt/scratch/snap1/p0/d0/d107/d52/f96: 4 extents found
after filter: 254939136#16384#24576#shared 267771904#4096#40960#shared 282185728#57344#49152#shared 298389504#61440#229376#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f96
369
# /bin/btrfs inspect-internal logical-resolve -P 254939136 /mnt/scratch
inode 369 offset 24576 root 258
inode 369 offset 24576 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f96
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f96
369
# /bin/btrfs inspect-internal logical-resolve -P 267771904 /mnt/scratch
inode 369 offset 40960 root 258
inode 369 offset 40960 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f96
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f96
369
# /bin/btrfs inspect-internal logical-resolve -P 282185728 /mnt/scratch
inode 369 offset 49152 root 258
inode 369 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f96
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f96
369
# /bin/btrfs inspect-internal logical-resolve -P 298389504 /mnt/scratch
inode 369 offset 229376 root 258
inode 369 offset 229376 root 5
# /bin/btrfs inspect-internal inode-resolve 369 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f96
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/df2/f1d6
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/df2/f1d6 is 498269 (122 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      105..     114:      75124..     75133:     10:        105: shared
   1:      118..     121:      74869..     74872:      4:      75137: last,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/df2/f1d6: 2 extents found
after filter: 307707904#40960#430080#shared 306663424#16384#483328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/df2/f1d6
626
# /bin/btrfs inspect-internal logical-resolve -P 307707904 /mnt/scratch
inode 626 offset 430080 root 258
inode 626 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 626 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/df2/f1d6
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/df2/f1d6
626
# /bin/btrfs inspect-internal logical-resolve -P 306663424 /mnt/scratch
inode 626 offset 483328 root 258
inode 626 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 626 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/df2/f1d6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9 is 1708225 (418 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       77..      87:      66360..     66370:     11:         77: shared
   1:      240..     240:      71021..     71021:      1:      66523: last,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9: 2 extents found
after filter: 271810560#45056#315392#shared 290902016#4096#983040#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9
382
# /bin/btrfs inspect-internal logical-resolve -P 271810560 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515782483
inode 382 offset 315392 root 258
inode 382 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9
382
# /bin/btrfs inspect-internal logical-resolve -P 290902016 /mnt/scratch
inode 382 offset 983040 root 258
inode 382 offset 983040 root 5
# /bin/btrfs inspect-internal inode-resolve 382 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f147
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f147 is 1016724 (249 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      218..     248:      71123..     71153:     31:        218: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f147: 1 extent found
after filter: 291319808#126976#892928#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f147
510
# /bin/btrfs inspect-internal logical-resolve -P 291319808 /mnt/scratch
inode 510 offset 892928 root 258
inode 510 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 510 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f147
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/f113
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/f113 is 2224128 (543 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      37:      60014..     60039:     26:         12: shared
   1:       38..      38:      60321..     60321:      1:      60040: shared
   2:       63..      85:      60322..     60344:     23:             shared
   3:       86..      86:      67314..     67314:      1:      60345: shared
   4:      168..     182:      73443..     73457:     15:      67396: unwritten,shared
   5:      183..     219:      66516..     66552:     37:      73458: unwritten,shared
   6:      220..     261:      59122..     59163:     42:      66553: unwritten,shared
   7:      262..     263:      59164..     59165:      2:             shared
   8:      264..     314:      59166..     59216:     51:             unwritten,shared
   9:      315..     331:      59217..     59233:     17:             shared
  10:      332..     332:      70964..     70964:      1:      59234: shared
  11:      333..     374:      59235..     59276:     42:      70965: unwritten,shared
  12:      375..     400:      59277..     59302:     26:             shared
  13:      401..     405:      59303..     59307:      5:             unwritten,shared
  14:      406..     452:      64266..     64312:     47:      59308: unwritten,shared
  15:      453..     461:      64313..     64321:      9:             shared
  16:      531..     542:      70290..     70301:     12:      64391: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/f113: 10 extents found
after filter: 245817344#106496#49152#shared 247074816#4096#155648#shared 247078912#94208#258048#shared 275718144#4096#352256#shared 300822528#61440#688128#unwritten,shared 272449536#151552#749568#unwritten,shared 242163712#172032#901120#unwritten,shared 242335744#8192#1073152#shared 242343936#208896#1081344#unwritten,shared 242552832#69632#1290240#shared 290668544#4096#1359872#shared 242626560#172032#1363968#unwritten,shared 242798592#106496#1536000#shared 242905088#20480#1642496#unwritten,shared 263233536#192512#1662976#unwritten,shared 263426048#36864#1855488#shared 287907840#49152#2174976#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 245817344 /mnt/scratch
inode 307 offset 49152 root 258
inode 307 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 247074816 /mnt/scratch
inode 307 offset 155648 root 258
inode 307 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 247078912 /mnt/scratch
inode 307 offset 258048 root 258
inode 307 offset 258048 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 275718144 /mnt/scratch
inode 307 offset 352256 root 258
inode 307 offset 352256 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 300822528 /mnt/scratch
inode 307 offset 688128 root 258
inode 307 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 272449536 /mnt/scratch
inode 307 offset 749568 root 258
inode 307 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242163712 /mnt/scratch
inode 307 offset 901120 root 258
inode 307 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242335744 /mnt/scratch
inode 307 offset 1073152 root 258
inode 307 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242343936 /mnt/scratch
inode 307 offset 1081344 root 258
inode 307 offset 1081344 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242552832 /mnt/scratch
inode 307 offset 1290240 root 258
inode 307 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 290668544 /mnt/scratch
inode 307 offset 1359872 root 258
inode 307 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242626560 /mnt/scratch
inode 307 offset 1363968 root 258
inode 307 offset 1363968 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242798592 /mnt/scratch
inode 307 offset 1536000 root 258
inode 307 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 242905088 /mnt/scratch
inode 307 offset 1642496 root 258
inode 307 offset 1642496 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 263233536 /mnt/scratch
inode 307 offset 1662976 root 258
inode 307 offset 1662976 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 263426048 /mnt/scratch
inode 307 offset 1855488 root 258
inode 307 offset 1855488 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/f113
307
# /bin/btrfs inspect-internal logical-resolve -P 287907840 /mnt/scratch
inode 307 offset 2174976 root 258
inode 307 offset 2174976 root 5
# /bin/btrfs inspect-internal inode-resolve 307 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f3d
/mnt/scratch/snap1/p0/d0/d107/f113
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27 is 811015 (199 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       27..      27:      70846..     70846:      1:         27: shared
   1:       53..      74:      69002..     69023:     22:      70872: shared
   2:      173..     198:      75906..     75931:     26:      69122: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27: 3 extents found
after filter: 290185216#4096#110592#shared 282632192#90112#217088#shared 310910976#106496#708608#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
289
# /bin/btrfs inspect-internal logical-resolve -P 290185216 /mnt/scratch
inode 289 offset 110592 root 258
inode 289 offset 110592 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
289
# /bin/btrfs inspect-internal logical-resolve -P 282632192 /mnt/scratch
inode 289 offset 217088 root 258
inode 289 offset 217088 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
289
# /bin/btrfs inspect-internal logical-resolve -P 310910976 /mnt/scratch
inode 289 offset 708608 root 258
inode 289 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 289 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f27
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba is 887857 (217 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       38..     146:      73459..     73567:    109:         38: unwritten,shared
   1:      147..     147:      73458..     73458:      1:      73568: shared
   2:      148..     216:      73568..     73636:     69:      73459: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba: 3 extents found
after filter: 300888064#446464#155648#unwritten,shared 300883968#4096#602112#shared 301334528#282624#606208#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
605
# /bin/btrfs inspect-internal logical-resolve -P 300888064 /mnt/scratch
inode 605 offset 155648 root 258
inode 605 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 605 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
605
# /bin/btrfs inspect-internal logical-resolve -P 300883968 /mnt/scratch
inode 605 offset 602112 root 258
inode 605 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 605 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
605
# /bin/btrfs inspect-internal logical-resolve -P 301334528 /mnt/scratch
inode 605 offset 606208 root 258
inode 605 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 605 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f1ba
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe is 1511115 (369 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      218..     246:      66752..     66780:     29:        218: shared
   1:      247..     247:      73668..     73668:      1:      66781: shared
   2:      351..     359:      73669..     73677:      9:             shared
   3:      360..     360:      75251..     75251:      1:      73678: shared
   4:      361..     368:      73679..     73686:      8:      75252: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe: 4 extents found
after filter: 273416192#118784#892928#shared 301744128#4096#1011712#shared 301748224#36864#1437696#shared 308228096#4096#1474560#shared 301789184#32768#1478656#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
448
# /bin/btrfs inspect-internal logical-resolve -P 273416192 /mnt/scratch
inode 448 offset 892928 root 258
inode 448 offset 892928 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
448
# /bin/btrfs inspect-internal logical-resolve -P 301744128 /mnt/scratch
inode 448 offset 1011712 root 258
inode 448 offset 1011712 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
448
# /bin/btrfs inspect-internal logical-resolve -P 301748224 /mnt/scratch
inode 448 offset 1437696 root 258
inode 448 offset 1437696 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
448
# /bin/btrfs inspect-internal logical-resolve -P 308228096 /mnt/scratch
inode 448 offset 1474560 root 258
inode 448 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
448
# /bin/btrfs inspect-internal logical-resolve -P 301789184 /mnt/scratch
inode 448 offset 1478656 root 258
inode 448 offset 1478656 root 5
# /bin/btrfs inspect-internal inode-resolve 448 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/ffe
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a is 1486848 (363 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      124..     149:      70917..     70942:     26:        124: shared
   1:      185..     185:      69755..     69755:      1:      70978: shared
   2:      340..     362:      74651..     74673:     23:      69910: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a: 3 extents found
after filter: 290476032#106496#507904#shared 285716480#4096#757760#shared 305770496#94208#1392640#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
485
# /bin/btrfs inspect-internal logical-resolve -P 290476032 /mnt/scratch
inode 485 offset 507904 root 258
inode 485 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
background rm
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
485
# /bin/btrfs inspect-internal logical-resolve -P 285716480 /mnt/scratch
inode 485 offset 757760 root 258
inode 485 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
485
# /bin/btrfs inspect-internal logical-resolve -P 305770496 /mnt/scratch
inode 485 offset 1392640 root 258
inode 485 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 485 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/df6/f12a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57 is 1912832 (467 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       38..      52:      61517..     61531:     15:         38: shared
   1:      106..     122:      66078..     66094:     17:      61585: shared
   2:      258..     278:      74848..     74868:     21:      66230: shared
   3:      289..     289:      63883..     63883:      1:      74879: shared
   4:      295..     322:      67286..     67313:     28:      63889: shared
   5:      344..     362:      66095..     66113:     19:      67335: shared
   6:      448..     466:      62861..     62879:     19:      66199: shared,eof
   7:      663..     736:      63256..     63329:     74:      63076: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57: 8 extents found
after filter: 251973632#61440#155648#shared 270655488#69632#434176#shared 306577408#86016#1056768#shared 261664768#4096#1183744#shared 275603456#114688#1208320#shared 270725120#77824#1409024#shared 257478656#77824#1835008#shared,eof 259096576#303104#2715648#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 251973632 /mnt/scratch
inode 325 offset 155648 root 258
inode 325 offset 155648 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 270655488 /mnt/scratch
inode 325 offset 434176 root 258
inode 325 offset 434176 root 5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515410854
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 306577408 /mnt/scratch
inode 325 offset 1056768 root 258
inode 325 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 261664768 /mnt/scratch
inode 325 offset 1183744 root 258
inode 325 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 275603456 /mnt/scratch
inode 325 offset 1208320 root 258
inode 325 offset 1208320 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 270725120 /mnt/scratch
inode 325 offset 1409024 root 258
inode 325 offset 1409024 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 257478656 /mnt/scratch
inode 325 offset 1835008 root 258
inode 325 offset 1835008 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
325
# /bin/btrfs inspect-internal logical-resolve -P 259096576 /mnt/scratch
inode 325 offset 2715648 root 258
inode 325 offset 2715648 root 5
# /bin/btrfs inspect-internal inode-resolve 325 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f57
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/f101
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/f101 is 500175 (123 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       70..      88:      74604..     74622:     19:         70: shared
   1:      112..     122:      68916..     68926:     11:      74646: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/f101: 2 extents found
after filter: 305577984#77824#286720#shared 282279936#45056#458752#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f101
451
# /bin/btrfs inspect-internal logical-resolve -P 305577984 /mnt/scratch
inode 451 offset 286720 root 258
inode 451 offset 286720 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f101
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f101
451
# /bin/btrfs inspect-internal logical-resolve -P 282279936 /mnt/scratch
inode 451 offset 458752 root 258
inode 451 offset 458752 root 5
# /bin/btrfs inspect-internal inode-resolve 451 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f101
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8 is 2274611 (556 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       81..      88:      67513..     67520:      8:         81: shared
   1:       89..     116:      72555..     72582:     28:      67521: shared
   2:      151..     157:      73655..     73661:      7:      72617: shared
   3:      175..     180:      64386..     64391:      6:      73679: shared
   4:      189..     209:      68514..     68534:     21:      64400: shared
   5:      255..     269:      62529..     62543:     15:      68580: shared
   6:      289..     303:      67703..     67717:     15:      62563: shared
   7:      304..     313:      69276..     69285:     10:      67718: shared
   8:      314..     317:      67728..     67731:      4:      69286: shared
   9:      375..     464:      67533..     67622:     90:      67789: unwritten,shared
  10:      465..     481:      67623..     67639:     17:             shared
  11:      482..     482:      68777..     68777:      1:      67640: shared
  12:      483..     544:      67641..     67702:     62:      68778: last,unwritten,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8: 12 extents found
after filter: 276533248#32768#331776#shared 297185280#114688#364544#shared 301690880#28672#618496#shared 263725056#24576#716800#shared 280633344#86016#774144#shared 256118784#61440#1044480#shared 277311488#61440#1183744#shared 283754496#40960#1245184#shared 277413888#16384#1286144#shared 276615168#368640#1536000#unwritten,shared 276983808#69632#1904640#shared 281710592#4096#1974272#shared 277057536#253952#1978368#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 276533248 /mnt/scratch
inode 394 offset 331776 root 258
inode 394 offset 331776 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 297185280 /mnt/scratch
inode 394 offset 364544 root 258
inode 394 offset 364544 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 301690880 /mnt/scratch
inode 394 offset 618496 root 258
inode 394 offset 618496 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 263725056 /mnt/scratch
inode 394 offset 716800 root 258
inode 394 offset 716800 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 280633344 /mnt/scratch
inode 394 offset 774144 root 258
inode 394 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 256118784 /mnt/scratch
inode 394 offset 1044480 root 258
inode 394 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 277311488 /mnt/scratch
inode 394 offset 1183744 root 258
inode 394 offset 1183744 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 283754496 /mnt/scratch
inode 394 offset 1245184 root 258
inode 394 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 277413888 /mnt/scratch
inode 394 offset 1286144 root 258
inode 394 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 276615168 /mnt/scratch
inode 394 offset 1536000 root 258
inode 394 offset 1536000 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 276983808 /mnt/scratch
inode 394 offset 1904640 root 258
inode 394 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 281710592 /mnt/scratch
inode 394 offset 1974272 root 258
inode 394 offset 1974272 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
394
# /bin/btrfs inspect-internal logical-resolve -P 277057536 /mnt/scratch
inode 394 offset 1978368 root 258
inode 394 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 394 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/fb8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f1cb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f1cb is 619490 (152 blocks of 4096 bytes)
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f1cb: 0 extents found
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193 is 533789 (131 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       91..     102:      72023..     72034:     12:         91: shared
   1:      116..     130:      75860..     75874:     15:      72048: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193: 2 extents found
after filter: 295006208#49152#372736#shared 310722560#61440#475136#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193
573
# /bin/btrfs inspect-internal logical-resolve -P 295006208 /mnt/scratch
inode 573 offset 372736 root 258
inode 573 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 573 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193
573
# /bin/btrfs inspect-internal logical-resolve -P 310722560 /mnt/scratch
inode 573 offset 475136 root 258
inode 573 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 573 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d175/f193
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1 is 524288 (128 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       64..      74:      69756..     69766:     11:         64: unwritten,shared
   1:       75..      75:      69767..     69767:      1:             shared
   2:       76..     117:      69768..     69809:     42:             unwritten,shared
   3:      118..     127:      69810..     69819:     10:             shared,eof
   4:      128..     236:      69820..     69928:    109:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1: 1 extent found
after filter: 285720576#45056#262144#unwritten,shared 285765632#4096#307200#shared 285769728#172032#311296#unwritten,shared 285941760#40960#483328#shared,eof 285982720#446464#524288#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
542
# /bin/btrfs inspect-internal logical-resolve -P 285720576 /mnt/scratch
inode 542 offset 262144 root 258
inode 542 offset 262144 root 5
background rm
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515432179
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
542
# /bin/btrfs inspect-internal logical-resolve -P 285765632 /mnt/scratch
inode 542 offset 307200 root 258
inode 542 offset 307200 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
542
# /bin/btrfs inspect-internal logical-resolve -P 285769728 /mnt/scratch
inode 542 offset 311296 root 258
inode 542 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
542
# /bin/btrfs inspect-internal logical-resolve -P 285941760 /mnt/scratch
inode 542 offset 483328 root 258
inode 542 offset 483328 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
542
# /bin/btrfs inspect-internal logical-resolve -P 285982720 /mnt/scratch
inode 542 offset 524288 root 258
inode 542 offset 524288 root 5
# /bin/btrfs inspect-internal inode-resolve 542 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/d194/f1f1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f1ad
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f1ad is 901752 (221 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      202..     220:      76035..     76053:     19:        202: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f1ad: 1 extent found
after filter: 311439360#77824#827392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f1ad
594
# /bin/btrfs inspect-internal logical-resolve -P 311439360 /mnt/scratch
inode 594 offset 827392 root 258
inode 594 offset 827392 root 5
# /bin/btrfs inspect-internal inode-resolve 594 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f1ad
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4 is 1142784 (279 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      14:      75806..     75815:     10:          5: shared
   1:       95..     123:      73290..     73318:     29:      75896: shared
   2:      226..     246:      65986..     66006:     21:      73421: shared
   3:      255..     278:      65675..     65698:     24:      66015: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4: 4 extents found
after filter: 310501376#40960#20480#shared 300195840#118784#389120#shared 270278656#86016#925696#shared 269004800#98304#1044480#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
391
# /bin/btrfs inspect-internal logical-resolve -P 310501376 /mnt/scratch
inode 391 offset 20480 root 258
inode 391 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
391
# /bin/btrfs inspect-internal logical-resolve -P 300195840 /mnt/scratch
inode 391 offset 389120 root 258
inode 391 offset 389120 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
391
# /bin/btrfs inspect-internal logical-resolve -P 270278656 /mnt/scratch
inode 391 offset 925696 root 258
inode 391 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
391
# /bin/btrfs inspect-internal logical-resolve -P 269004800 /mnt/scratch
inode 391 offset 1044480 root 258
inode 391 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 391 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fb4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/ff3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/ff3 is 808886 (198 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      144..     148:      73364..     73368:      5:        144: shared
   1:      190..     197:      66796..     66803:      8:      73410: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/ff3: 2 extents found
after filter: 300498944#20480#589824#shared 273596416#32768#778240#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/ff3
440
# /bin/btrfs inspect-internal logical-resolve -P 300498944 /mnt/scratch
inode 440 offset 589824 root 258
inode 440 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/ff3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/ff3
440
# /bin/btrfs inspect-internal logical-resolve -P 273596416 /mnt/scratch
inode 440 offset 778240 root 258
inode 440 offset 778240 root 5
# /bin/btrfs inspect-internal inode-resolve 440 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/ff3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d is 609523 (149 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      123..     142:      70943..     70962:     20:        123: shared
   1:      143..     143:      73135..     73135:      1:      70963: last,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d: 2 extents found
after filter: 290582528#81920#503808#shared 299560960#4096#585728#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d
501
# /bin/btrfs inspect-internal logical-resolve -P 290582528 /mnt/scratch
inode 501 offset 503808 root 258
inode 501 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d
501
# /bin/btrfs inspect-internal logical-resolve -P 299560960 /mnt/scratch
inode 501 offset 585728 root 258
inode 501 offset 585728 root 5
# /bin/btrfs inspect-internal inode-resolve 501 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/f13d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125 is 2259074 (552 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       44..      44:      66412..     66412:      1:         44: shared
   1:       76..      84:      66346..     66354:      9:      66444: shared
   2:       97..     103:      70817..     70823:      7:      66367: shared
   3:      135..     146:      70214..     70225:     12:      70855: unwritten,shared
   4:      147..     171:      69092..     69116:     25:      70226: shared
   5:      172..     182:      70226..     70236:     11:      69117: unwritten,shared
   6:      183..     183:      68781..     68781:      1:      70237: shared
   7:      184..     188:      70237..     70241:      5:      68782: unwritten,shared
   8:      189..     213:      68782..     68806:     25:      70242: shared
   9:      214..     219:      70179..     70184:      6:      68807: shared
  10:      220..     267:      70242..     70289:     48:      70185: unwritten,shared
  11:      268..     285:      70185..     70202:     18:      70290: shared
  12:      286..     286:      74322..     74322:      1:      70203: shared
  13:      546..     551:      74323..     74328:      6:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125: 13 extents found
after filter: 272023552#4096#180224#shared 271753216#36864#311296#shared 290066432#28672#397312#shared 287596544#49152#552960#unwritten,shared 283000832#102400#602112#shared 287645696#45056#704512#unwritten,shared 281726976#4096#749568#shared 287690752#20480#753664#unwritten,shared 281731072#102400#774144#shared 287453184#24576#876544#shared 287711232#196608#901120#unwritten,shared 287477760#73728#1097728#shared 304422912#4096#1171456#shared 304427008#24576#2236416#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 272023552 /mnt/scratch
inode 430 offset 180224 root 258
inode 430 offset 180224 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 271753216 /mnt/scratch
inode 430 offset 311296 root 258
inode 430 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 290066432 /mnt/scratch
inode 430 offset 397312 root 258
inode 430 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287596544 /mnt/scratch
inode 430 offset 552960 root 258
inode 430 offset 552960 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 283000832 /mnt/scratch
inode 430 offset 602112 root 258
inode 430 offset 602112 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287645696 /mnt/scratch
inode 430 offset 704512 root 258
inode 430 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 281726976 /mnt/scratch
inode 430 offset 749568 root 258
inode 430 offset 749568 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287690752 /mnt/scratch
inode 430 offset 753664 root 258
inode 430 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 281731072 /mnt/scratch
inode 430 offset 774144 root 258
inode 430 offset 774144 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287453184 /mnt/scratch
inode 430 offset 876544 root 258
inode 430 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287711232 /mnt/scratch
inode 430 offset 901120 root 258
inode 430 offset 901120 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 287477760 /mnt/scratch
inode 430 offset 1097728 root 258
inode 430 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 304422912 /mnt/scratch
inode 430 offset 1171456 root 258
inode 430 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
430
# /bin/btrfs inspect-internal logical-resolve -P 304427008 /mnt/scratch
inode 430 offset 2236416 root 258
inode 430 offset 2236416 root 5
# /bin/btrfs inspect-internal inode-resolve 430 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d2a/f125
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/fe6
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb is 943759 (231 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      15:      72583..     72583:      1:         15: shared
   1:       50..      83:      64965..     64998:     34:      72618: unwritten,shared
   2:       84..     103:      64999..     65018:     20:             shared
   3:      104..     225:      65019..     65140:    122:             unwritten,shared
   4:      226..     230:      65141..     65145:      5:             shared,eof
   5:      231..     287:      65146..     65202:     57:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb: 2 extents found
after filter: 297299968#4096#61440#shared 266096640#139264#204800#unwritten,shared 266235904#81920#344064#shared 266317824#499712#425984#unwritten,shared 266817536#20480#925696#shared,eof 266838016#233472#946176#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 297299968 /mnt/scratch
inode 397 offset 61440 root 258
inode 397 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 266096640 /mnt/scratch
inode 397 offset 204800 root 258
inode 397 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 266235904 /mnt/scratch
inode 397 offset 344064 root 258
inode 397 offset 344064 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 266317824 /mnt/scratch
inode 397 offset 425984 root 258
inode 397 offset 425984 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 266817536 /mnt/scratch
inode 397 offset 925696 root 258
inode 397 offset 925696 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
397
# /bin/btrfs inspect-internal logical-resolve -P 266838016 /mnt/scratch
inode 397 offset 946176 root 258
inode 397 offset 946176 root 5
# /bin/btrfs inspect-internal inode-resolve 397 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f16
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f16 is 815391 (200 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      20:      58665..     58670:      6:         15: shared
   1:       26..      40:      75932..     75946:     15:      58676: shared
   2:       49..     122:       4248..      4321:     74:      75955: unwritten,shared
   3:      123..     131:       4239..      4247:      9:       4322: shared
   4:      132..     151:       4322..      4341:     20:       4248: unwritten,shared
   5:      152..     155:       4342..      4345:      4:             shared
   6:      156..     171:       4346..      4361:     16:             unwritten,shared
   7:      172..     175:       4362..      4365:      4:             shared
   8:      176..     196:      72812..     72832:     21:       4366: last,shared
/mnt/scratch/snap1/p0/d0/d1/f16: 6 extents found
after filter: 240291840#24576#61440#shared 311017472#61440#106496#shared 17399808#303104#200704#unwritten,shared 17362944#36864#503808#shared 17702912#81920#540672#unwritten,shared 17784832#16384#622592#shared 17801216#65536#638976#unwritten,shared 17866752#16384#704512#shared 298237952#86016#720896#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 240291840 /mnt/scratch
inode 277 offset 61440 root 258
inode 277 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 311017472 /mnt/scratch
inode 277 offset 106496 root 258
inode 277 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 17399808 /mnt/scratch
inode 277 offset 200704 root 258
inode 277 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
background rm
277
# /bin/btrfs inspect-internal logical-resolve -P 17362944 /mnt/scratch
inode 277 offset 503808 root 258
inode 277 offset 503808 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515494096
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 17702912 /mnt/scratch
inode 277 offset 540672 root 258
inode 277 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 17784832 /mnt/scratch
inode 277 offset 622592 root 258
inode 277 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 17801216 /mnt/scratch
inode 277 offset 638976 root 258
inode 277 offset 638976 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 17866752 /mnt/scratch
inode 277 offset 704512 root 258
inode 277 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f16
277
# /bin/btrfs inspect-internal logical-resolve -P 298237952 /mnt/scratch
inode 277 offset 720896 root 258
inode 277 offset 720896 root 5
# /bin/btrfs inspect-internal inode-resolve 277 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f16
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35 is 4091904 (999 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      38:      58701..     58716:     16:         23: shared
   1:       74..      78:      59861..     59865:      5:      58752: shared
   2:      129..     129:      61138..     61138:      1:      59916: shared
   3:      140..     143:       3556..      3559:      4:      61149: unwritten,shared
   4:      144..     167:       3560..      3583:     24:             shared
   5:      168..     169:      66007..     66008:      2:       3584: shared
   6:      260..     260:      58455..     58455:      1:      66099: shared
   7:      261..     273:      58456..     58468:     13:             unwritten,shared
   8:      286..     292:      63932..     63938:      7:      58481: shared
   9:      293..     306:      61146..     61159:     14:      63939: shared
  10:      307..     315:      60242..     60250:      9:      61160: shared
  11:      366..     395:      73036..     73065:     30:      60301: shared
  12:      423..     424:      58717..     58718:      2:      73093: shared
  13:      467..     474:      60737..     60744:      8:      58761: unwritten,shared
  14:      475..     475:      60745..     60745:      1:             shared
  15:      612..     612:      60868..     60868:      1:      60882: shared
  16:      613..     698:      60869..     60954:     86:             unwritten,shared
  17:      699..     704:      60955..     60960:      6:             shared
  18:      705..     718:      60961..     60974:     14:             unwritten,shared
  19:      911..     928:      62586..     62603:     18:      61167: shared
  20:      929..     929:      63939..     63939:      1:      62604: shared
  21:      972..     998:      63193..     63219:     27:      63982: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35: 16 extents found
after filter: 240439296#65536#94208#shared 245190656#20480#303104#shared 250421248#4096#528384#shared 14565376#16384#573440#unwritten,shared 14581760#98304#589824#shared 270364672#8192#688128#shared 239431680#4096#1064960#shared 239435776#53248#1069056#unwritten,shared 261865472#28672#1171456#shared 250454016#57344#1200128#shared 246751232#36864#1257472#shared 299155456#122880#1499136#shared 240504832#8192#1732608#shared 248778752#32768#1912832#unwritten,shared 248811520#4096#1945600#shared 249315328#4096#2506752#shared 249319424#352256#2510848#unwritten,shared 249671680#24576#2863104#shared 249696256#57344#2887680#unwritten,shared 256352256#73728#3731456#shared 261894144#4096#3805184#shared 258838528#110592#3981312#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 240439296 /mnt/scratch
inode 286 offset 94208 root 258
inode 286 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 245190656 /mnt/scratch
inode 286 offset 303104 root 258
inode 286 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 250421248 /mnt/scratch
inode 286 offset 528384 root 258
inode 286 offset 528384 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 14565376 /mnt/scratch
inode 286 offset 573440 root 258
inode 286 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 14581760 /mnt/scratch
inode 286 offset 589824 root 258
inode 286 offset 589824 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 270364672 /mnt/scratch
inode 286 offset 688128 root 258
inode 286 offset 688128 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 239431680 /mnt/scratch
inode 286 offset 1064960 root 258
inode 286 offset 1064960 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 239435776 /mnt/scratch
inode 286 offset 1069056 root 258
inode 286 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 261865472 /mnt/scratch
inode 286 offset 1171456 root 258
inode 286 offset 1171456 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 250454016 /mnt/scratch
inode 286 offset 1200128 root 258
inode 286 offset 1200128 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 246751232 /mnt/scratch
inode 286 offset 1257472 root 258
inode 286 offset 1257472 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 299155456 /mnt/scratch
inode 286 offset 1499136 root 258
inode 286 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 240504832 /mnt/scratch
inode 286 offset 1732608 root 258
inode 286 offset 1732608 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 248778752 /mnt/scratch
inode 286 offset 1912832 root 258
inode 286 offset 1912832 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 248811520 /mnt/scratch
inode 286 offset 1945600 root 258
inode 286 offset 1945600 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 249315328 /mnt/scratch
inode 286 offset 2506752 root 258
inode 286 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 249319424 /mnt/scratch
inode 286 offset 2510848 root 258
inode 286 offset 2510848 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 249671680 /mnt/scratch
inode 286 offset 2863104 root 258
inode 286 offset 2863104 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 249696256 /mnt/scratch
inode 286 offset 2887680 root 258
inode 286 offset 2887680 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 256352256 /mnt/scratch
inode 286 offset 3731456 root 258
inode 286 offset 3731456 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 261894144 /mnt/scratch
inode 286 offset 3805184 root 258
inode 286 offset 3805184 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
286
# /bin/btrfs inspect-internal logical-resolve -P 258838528 /mnt/scratch
inode 286 offset 3981312 root 258
inode 286 offset 3981312 root 5
# /bin/btrfs inspect-internal inode-resolve 286 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f35
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f149
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f149 is 1583307 (387 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       51..     131:      69143..     69223:     81:         51: unwritten,shared
   1:      132..     132:      69224..     69224:      1:             shared
   2:      379..     386:      71185..     71192:      8:      69471: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/f149: 2 extents found
after filter: 283209728#331776#208896#unwritten,shared 283541504#4096#540672#shared 291573760#32768#1552384#last,shared,eof 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f149
seed = 1515473687
512
# /bin/btrfs inspect-internal logical-resolve -P 283209728 /mnt/scratch
inode 512 offset 208896 root 258
inode 512 offset 208896 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f149
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f149
512
# /bin/btrfs inspect-internal logical-resolve -P 283541504 /mnt/scratch
inode 512 offset 540672 root 258
inode 512 offset 540672 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f149
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f149
512
# /bin/btrfs inspect-internal logical-resolve -P 291573760 /mnt/scratch
inode 512 offset 1552384 root 258
inode 512 offset 1552384 root 5
# /bin/btrfs inspect-internal inode-resolve 512 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f149
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d52/f134
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d52/f134 is 883841 (216 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      160..     169:      73066..     73075:     10:        160: shared
   1:      174..     178:      75207..     75211:      5:      73080: shared
   2:      191..     215:      72921..     72945:     25:      75224: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d52/f134: 3 extents found
after filter: 299278336#40960#655360#shared 308047872#20480#712704#shared 298684416#102400#782336#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f134
493
# /bin/btrfs inspect-internal logical-resolve -P 299278336 /mnt/scratch
inode 493 offset 655360 root 258
inode 493 offset 655360 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f134
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f134
493
# /bin/btrfs inspect-internal logical-resolve -P 308047872 /mnt/scratch
inode 493 offset 712704 root 258
inode 493 offset 712704 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f134
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f134
493
# /bin/btrfs inspect-internal logical-resolve -P 298684416 /mnt/scratch
inode 493 offset 782336 root 258
inode 493 offset 782336 root 5
# /bin/btrfs inspect-internal inode-resolve 493 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f134
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c is 1228800 (300 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        4..      15:      72324..     72335:     12:          4: shared
   1:       19..      32:      66450..     66463:     14:      72339: shared
   2:       33..      36:      58613..     58616:      4:      66464: shared
   3:       37..      52:      58478..     58493:     16:      58617: shared
   4:      119..     119:      72336..     72336:      1:      58560: shared
   5:      193..     193:      72012..     72012:      1:      72410: shared
   6:      211..     229:      73226..     73244:     19:      72030: shared
   7:      230..     230:      73965..     73965:      1:      73245: shared
   8:      273..     299:      73881..     73907:     27:      74008: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c: 9 extents found
after filter: 296239104#49152#16384#shared 272179200#57344#77824#shared 240078848#16384#135168#shared 239525888#65536#151552#shared 296288256#4096#487424#shared 294961152#4096#790528#shared 299933696#77824#864256#shared 302960640#4096#942080#shared 302616576#110592#1118208#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 296239104 /mnt/scratch
inode 280 offset 16384 root 258
inode 280 offset 16384 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 272179200 /mnt/scratch
inode 280 offset 77824 root 258
inode 280 offset 77824 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 240078848 /mnt/scratch
inode 280 offset 135168 root 258
inode 280 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 239525888 /mnt/scratch
inode 280 offset 151552 root 258
inode 280 offset 151552 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 296288256 /mnt/scratch
inode 280 offset 487424 root 258
inode 280 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 294961152 /mnt/scratch
inode 280 offset 790528 root 258
inode 280 offset 790528 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 299933696 /mnt/scratch
inode 280 offset 864256 root 258
inode 280 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 302960640 /mnt/scratch
inode 280 offset 942080 root 258
inode 280 offset 942080 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
280
# /bin/btrfs inspect-internal logical-resolve -P 302616576 /mnt/scratch
inode 280 offset 1118208 root 258
inode 280 offset 1118208 root 5
# /bin/btrfs inspect-internal inode-resolve 280 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/fda
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d130/f14c
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1 is 3133440 (765 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       71..      82:      72051..     72062:     12:         71: shared
   1:       87..      96:      67359..     67368:     10:      72067: shared
   2:       97..     116:      74030..     74049:     20:      67369: shared
   3:      158..     163:      72411..     72416:      6:      74091: shared
   4:      173..     185:      66414..     66426:     13:      72426: shared
   5:      186..     186:      66680..     66680:      1:      66427: shared
   6:      316..     339:      66553..     66576:     24:      66810: shared
   7:      547..     565:      72494..     72512:     19:      66784: shared
   8:      573..     573:      69117..     69117:      1:      72520: shared
   9:      642..     665:      71978..     72001:     24:      69186: shared
  10:      761..     764:      74050..     74053:      4:      72097: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1: 11 extents found
after filter: 295120896#49152#290816#shared 275902464#40960#356352#shared 303226880#81920#397312#shared 296595456#24576#647168#shared 272031744#53248#708608#shared 273121280#4096#761856#shared 272601088#98304#1294336#shared 296935424#77824#2240512#shared 283103232#4096#2347008#shared 294821888#98304#2629632#shared 303308800#16384#3117056#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 295120896 /mnt/scratch
inode 416 offset 290816 root 258
inode 416 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 275902464 /mnt/scratch
inode 416 offset 356352 root 258
inode 416 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 303226880 /mnt/scratch
inode 416 offset 397312 root 258
inode 416 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 296595456 /mnt/scratch
inode 416 offset 647168 root 258
inode 416 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 272031744 /mnt/scratch
inode 416 offset 708608 root 258
inode 416 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 273121280 /mnt/scratch
inode 416 offset 761856 root 258
inode 416 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 272601088 /mnt/scratch
inode 416 offset 1294336 root 258
inode 416 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 296935424 /mnt/scratch
inode 416 offset 2240512 root 258
inode 416 offset 2240512 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 283103232 /mnt/scratch
inode 416 offset 2347008 root 258
inode 416 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 294821888 /mnt/scratch
inode 416 offset 2629632 root 258
inode 416 offset 2629632 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
416
# /bin/btrfs inspect-internal logical-resolve -P 303308800 /mnt/scratch
inode 416 offset 3117056 root 258
inode 416 offset 3117056 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70 is 4714496 (1151 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       25..      40:      61792..     61807:     16:         25: shared
   1:      103..     126:      60131..     60154:     24:      61870: shared
   2:      127..     154:      63228..     63255:     28:      60155: shared
   3:      244..     253:      60626..     60635:     10:      63345: shared
   4:      408..     433:      65409..     65434:     26:      60790: shared
   5:      434..     434:      66682..     66682:      1:      65435: shared
   6:      461..     482:      66683..     66704:     22:             shared
   7:      483..     483:      68808..     68808:      1:      66705: shared
   8:      523..     526:      71872..     71875:      4:      68848: shared
   9:      588..     611:      73933..     73956:     24:      71937: shared
  10:      677..     727:      69225..     69275:     51:      74022: unwritten,shared
  11:      728..     746:      68809..     68827:     19:      69276: shared
  12:      747..     747:      72810..     72810:      1:      68828: shared
  13:      918..     946:      72465..     72493:     29:      72981: shared
  14:     1070..    1081:      72597..     72608:     12:      72617: shared
  15:     1123..    1150:      74623..     74650:     28:      72650: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70: 15 extents found
after filter: 253100032#65536#102400#shared 246296576#98304#421888#shared 258981888#114688#520192#shared 248324096#40960#999424#shared 267915264#106496#1671168#shared 273129472#4096#1777664#shared 273133568#90112#1888256#shared 281837568#4096#1978368#shared 294387712#16384#2142208#shared 302829568#98304#2408448#shared 283545600#208896#2772992#unwritten,shared 281841664#77824#2981888#shared 298229760#4096#3059712#shared 296816640#118784#3760128#shared 297357312#49152#4382720#shared 305655808#114688#4599808#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 253100032 /mnt/scratch
inode 339 offset 102400 root 258
inode 339 offset 102400 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 246296576 /mnt/scratch
inode 339 offset 421888 root 258
inode 339 offset 421888 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 258981888 /mnt/scratch
inode 339 offset 520192 root 258
inode 339 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 248324096 /mnt/scratch
inode 339 offset 999424 root 258
inode 339 offset 999424 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 267915264 /mnt/scratch
inode 339 offset 1671168 root 258
inode 339 offset 1671168 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 273129472 /mnt/scratch
inode 339 offset 1777664 root 258
inode 339 offset 1777664 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
background rm
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 273133568 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
inode 339 offset 1888256 root 258
inode 339 offset 1888256 root 5
seed = 1515858213
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 281837568 /mnt/scratch
inode 339 offset 1978368 root 258
inode 339 offset 1978368 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 294387712 /mnt/scratch
inode 339 offset 2142208 root 258
inode 339 offset 2142208 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 302829568 /mnt/scratch
inode 339 offset 2408448 root 258
inode 339 offset 2408448 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 283545600 /mnt/scratch
inode 339 offset 2772992 root 258
inode 339 offset 2772992 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 281841664 /mnt/scratch
inode 339 offset 2981888 root 258
inode 339 offset 2981888 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 298229760 /mnt/scratch
inode 339 offset 3059712 root 258
inode 339 offset 3059712 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 296816640 /mnt/scratch
inode 339 offset 3760128 root 258
inode 339 offset 3760128 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 297357312 /mnt/scratch
inode 339 offset 4382720 root 258
inode 339 offset 4382720 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
339
# /bin/btrfs inspect-internal logical-resolve -P 305655808 /mnt/scratch
inode 339 offset 4599808 root 258
inode 339 offset 4599808 root 5
# /bin/btrfs inspect-internal inode-resolve 339 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/f70
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/f116
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/f116 is 1036082 (253 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       67..      86:      75626..     75645:     20:         67: shared
   1:      124..     133:      72002..     72011:     10:      75683: shared
   2:      166..     184:      72369..     72387:     19:      72044: shared
   3:      243..     252:      71113..     71122:     10:      72446: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/f116: 4 extents found
after filter: 309764096#81920#274432#shared 294920192#40960#507904#shared 296423424#77824#679936#shared 291278848#40960#995328#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f116
468
# /bin/btrfs inspect-internal logical-resolve -P 309764096 /mnt/scratch
inode 468 offset 274432 root 258
inode 468 offset 274432 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f116
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f116
468
# /bin/btrfs inspect-internal logical-resolve -P 294920192 /mnt/scratch
inode 468 offset 507904 root 258
inode 468 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f116
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f116
468
# /bin/btrfs inspect-internal logical-resolve -P 296423424 /mnt/scratch
inode 468 offset 679936 root 258
inode 468 offset 679936 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f116
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f116
468
# /bin/btrfs inspect-internal logical-resolve -P 291278848 /mnt/scratch
inode 468 offset 995328 root 258
inode 468 offset 995328 root 5
# /bin/btrfs inspect-internal inode-resolve 468 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f116
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58 is 1306967 (320 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      12:      66706..     66710:      5:          8: shared
   1:       32..      38:      70653..     70659:      7:      66730: unwritten,shared
   2:       39..      41:      61161..     61163:      3:      70660: shared
   3:       42..     104:      70660..     70722:     63:      61164: unwritten,shared
   4:      105..     121:      62108..     62124:     17:      70723: shared
   5:      122..     172:      70723..     70773:     51:      62125: unwritten,shared
   6:      173..     176:      61532..     61535:      4:      70774: shared
   7:      177..     178:      70774..     70775:      2:      61536: unwritten,shared
   8:      179..     195:      61726..     61742:     17:      70776: shared
   9:      258..     261:      62926..     62929:      4:      61805: shared
  10:      262..     271:      62930..     62939:     10:             unwritten,shared
  11:      272..     273:      61164..     61165:      2:      62940: shared
  12:      274..     274:      62125..     62125:      1:      61166: shared
  13:      275..     319:      62940..     62984:     45:      62126: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58: 13 extents found
after filter: 273227776#20480#32768#shared 289394688#28672#131072#unwritten,shared 250515456#12288#159744#shared 289423360#258048#172032#unwritten,shared 254394368#69632#430080#shared 289681408#208896#499712#unwritten,shared 252035072#16384#708608#shared 289890304#8192#724992#unwritten,shared 252829696#69632#733184#shared 257744896#16384#1056768#shared 257761280#40960#1073152#unwritten,shared 250527744#8192#1114112#shared 254464000#4096#1122304#shared 257802240#184320#1126400#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 273227776 /mnt/scratch
inode 326 offset 32768 root 258
inode 326 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 289394688 /mnt/scratch
inode 326 offset 131072 root 258
inode 326 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 250515456 /mnt/scratch
inode 326 offset 159744 root 258
inode 326 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 289423360 /mnt/scratch
inode 326 offset 172032 root 258
inode 326 offset 172032 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 254394368 /mnt/scratch
inode 326 offset 430080 root 258
inode 326 offset 430080 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 289681408 /mnt/scratch
inode 326 offset 499712 root 258
inode 326 offset 499712 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 252035072 /mnt/scratch
inode 326 offset 708608 root 258
inode 326 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 289890304 /mnt/scratch
inode 326 offset 724992 root 258
inode 326 offset 724992 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 252829696 /mnt/scratch
inode 326 offset 733184 root 258
inode 326 offset 733184 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 257744896 /mnt/scratch
inode 326 offset 1056768 root 258
inode 326 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 257761280 /mnt/scratch
inode 326 offset 1073152 root 258
inode 326 offset 1073152 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 250527744 /mnt/scratch
inode 326 offset 1114112 root 258
inode 326 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 254464000 /mnt/scratch
background rm
inode 326 offset 1122304 root 258
inode 326 offset 1122304 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515866041
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
326
# /bin/btrfs inspect-internal logical-resolve -P 257802240 /mnt/scratch
inode 326 offset 1126400 root 258
inode 326 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 326 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f58
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42 is 2509831 (613 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       39..      44:      59064..     59069:      6:         39: shared
   1:       45..      45:      60303..     60303:      1:      59070: shared
   2:      116..     122:      60304..     60310:      7:             shared
   3:      165..     170:      61615..     61620:      6:      60353: unwritten,shared
   4:      171..     179:      60311..     60319:      9:      61621: shared
   5:      180..     180:      61118..     61118:      1:      60320: shared
   6:      181..     231:      61621..     61671:     51:      61119: unwritten,shared
   7:      232..     235:      61672..     61675:      4:             shared
   8:      236..     254:      64946..     64964:     19:      61676: shared
   9:      258..     264:      61576..     61582:      7:      64968: shared
  10:      269..     296:      62299..     62326:     28:      61587: unwritten,shared
  11:      297..     314:      61119..     61136:     18:      62327: shared
  12:      315..     315:      64440..     64440:      1:      61137: shared
  13:      316..     414:      62327..     62425:     99:      64441: unwritten,shared
  14:      415..     415:      62426..     62426:      1:             shared
  15:      416..     455:      62427..     62466:     40:             last,unwritten,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42: 12 extents found
after filter: 241926144#24576#159744#shared 247001088#4096#184320#shared 247005184#28672#475136#shared 252375040#24576#675840#unwritten,shared 247033856#36864#700416#shared 250339328#4096#737280#shared 252399616#208896#741376#unwritten,shared 252608512#16384#950272#shared 266018816#77824#966656#shared 252215296#28672#1056768#shared 255176704#114688#1101824#unwritten,shared 250343424#73728#1216512#shared 263946240#4096#1290240#shared 255291392#405504#1294336#unwritten,shared 255696896#4096#1699840#shared 255700992#163840#1703936#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 241926144 /mnt/scratch
inode 312 offset 159744 root 258
inode 312 offset 159744 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 247001088 /mnt/scratch
inode 312 offset 184320 root 258
inode 312 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 247005184 /mnt/scratch
inode 312 offset 475136 root 258
inode 312 offset 475136 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 252375040 /mnt/scratch
inode 312 offset 675840 root 258
inode 312 offset 675840 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 247033856 /mnt/scratch
inode 312 offset 700416 root 258
inode 312 offset 700416 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 250339328 /mnt/scratch
inode 312 offset 737280 root 258
inode 312 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 252399616 /mnt/scratch
inode 312 offset 741376 root 258
inode 312 offset 741376 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 252608512 /mnt/scratch
inode 312 offset 950272 root 258
inode 312 offset 950272 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 266018816 /mnt/scratch
inode 312 offset 966656 root 258
inode 312 offset 966656 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 252215296 /mnt/scratch
inode 312 offset 1056768 root 258
inode 312 offset 1056768 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 255176704 /mnt/scratch
inode 312 offset 1101824 root 258
inode 312 offset 1101824 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 250343424 /mnt/scratch
inode 312 offset 1216512 root 258
inode 312 offset 1216512 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 263946240 /mnt/scratch
inode 312 offset 1290240 root 258
inode 312 offset 1290240 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 255291392 /mnt/scratch
inode 312 offset 1294336 root 258
inode 312 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 255696896 /mnt/scratch
inode 312 offset 1699840 root 258
inode 312 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
312
# /bin/btrfs inspect-internal logical-resolve -P 255700992 /mnt/scratch
inode 312 offset 1703936 root 258
inode 312 offset 1703936 root 5
# /bin/btrfs inspect-internal inode-resolve 312 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f42
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/ff1
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/ff1 is 2438623 (596 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      172..     186:      66434..     66448:     15:        172: shared
   1:      187..     187:      67264..     67264:      1:      66449: shared
   2:      412..     423:      67265..     67276:     12:             shared
   3:      424..     424:      71203..     71203:      1:      67277: shared
   4:      573..     595:      71204..     71226:     23:             last,shared,eof
/mnt/scratch/snap1/p0/d0/ff1: 3 extents found
after filter: 272113664#61440#704512#shared 275513344#4096#765952#shared 275517440#49152#1687552#shared 291647488#4096#1736704#shared 291651584#94208#2347008#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/ff1
438
# /bin/btrfs inspect-internal logical-resolve -P 272113664 /mnt/scratch
inode 438 offset 704512 root 258
inode 438 offset 704512 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/ff1
# stat -c %i /mnt/scratch/snap1/p0/d0/ff1
438
# /bin/btrfs inspect-internal logical-resolve -P 275513344 /mnt/scratch
inode 438 offset 765952 root 258
inode 438 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/ff1
# stat -c %i /mnt/scratch/snap1/p0/d0/ff1
438
# /bin/btrfs inspect-internal logical-resolve -P 275517440 /mnt/scratch
inode 438 offset 1687552 root 258
inode 438 offset 1687552 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/ff1
# stat -c %i /mnt/scratch/snap1/p0/d0/ff1
438
# /bin/btrfs inspect-internal logical-resolve -P 291647488 /mnt/scratch
inode 438 offset 1736704 root 258
inode 438 offset 1736704 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/ff1
# stat -c %i /mnt/scratch/snap1/p0/d0/ff1
438
# /bin/btrfs inspect-internal logical-resolve -P 291651584 /mnt/scratch
inode 438 offset 2347008 root 258
inode 438 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 438 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/ff1
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151 is 1826598 (446 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      185..     195:      69122..     69132:     11:        185: shared
   1:      415..     445:      75875..     75905:     31:      69352: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151: 2 extents found
after filter: 283123712#45056#757760#shared 310784000#126976#1699840#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151
517
# /bin/btrfs inspect-internal logical-resolve -P 283123712 /mnt/scratch
inode 517 offset 757760 root 258
inode 517 offset 757760 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151
517
# /bin/btrfs inspect-internal logical-resolve -P 310784000 /mnt/scratch
inode 517 offset 1699840 root 258
inode 517 offset 1699840 root 5
# /bin/btrfs inspect-internal inode-resolve 517 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/ded/d190/d1ea/f151
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3 is 1896448 (463 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       45..      74:      71154..     71183:     30:         45: shared
   1:      109..     109:      58745..     58745:      1:      71218: shared
   2:      127..     147:      61438..     61458:     21:      58763: shared
   3:      148..     151:      60574..     60577:      4:      61459: shared
   4:      152..     166:      58751..     58765:     15:      60578: shared
   5:      288..     317:      58766..     58795:     30:             shared
   6:      325..     348:       3798..      3821:     24:      58803: shared
   7:      376..     391:      58796..     58811:     16:       3849: shared
   8:      392..     392:      59346..     59346:      1:      58812: shared
   9:      454..     462:      59331..     59339:      9:      59408: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3: 9 extents found
after filter: 291446784#122880#184320#shared 240619520#4096#446464#shared 251650048#86016#520192#shared 248111104#16384#606208#shared 240644096#61440#622592#shared 240705536#122880#1179648#shared 15556608#98304#1331200#shared 240828416#65536#1540096#shared 243081216#4096#1605632#shared 243019776#36864#1859584#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 291446784 /mnt/scratch
inode 287 offset 184320 root 258
inode 287 offset 184320 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 240619520 /mnt/scratch
inode 287 offset 446464 root 258
inode 287 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 251650048 /mnt/scratch
inode 287 offset 520192 root 258
inode 287 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 248111104 /mnt/scratch
inode 287 offset 606208 root 258
inode 287 offset 606208 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 240644096 /mnt/scratch
inode 287 offset 622592 root 258
inode 287 offset 622592 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 240705536 /mnt/scratch
inode 287 offset 1179648 root 258
inode 287 offset 1179648 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
background rm
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 15556608 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515717281
inode 287 offset 1331200 root 258
inode 287 offset 1331200 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 240828416 /mnt/scratch
inode 287 offset 1540096 root 258
inode 287 offset 1540096 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 243081216 /mnt/scratch
inode 287 offset 1605632 root 258
inode 287 offset 1605632 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
287
# /bin/btrfs inspect-internal logical-resolve -P 243019776 /mnt/scratch
inode 287 offset 1859584 root 258
inode 287 offset 1859584 root 5
# /bin/btrfs inspect-internal inode-resolve 287 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/fa3
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d52/f16f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d52/f16f is 2108846 (515 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      18:      71314..     71324:     11:          8: shared
   1:       68..      95:      70085..     70112:     28:      71374: shared
   2:      216..     218:      74316..     74318:      3:      70233: shared
   3:      238..     258:      72534..     72554:     21:      74338: shared
   4:      502..     509:      73719..     73726:      8:      72798: unwritten,shared
   5:      510..     514:      73727..     73731:      5:             shared,eof
   6:      515..     643:      73732..     73860:    129:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d52/f16f: 5 extents found
after filter: 292102144#45056#32768#shared 287068160#114688#278528#shared 304398336#12288#884736#shared 297099264#86016#974848#shared 301953024#32768#2056192#unwritten,shared 301985792#20480#2088960#shared,eof 302006272#528384#2109440#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 292102144 /mnt/scratch
inode 543 offset 32768 root 258
inode 543 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 287068160 /mnt/scratch
inode 543 offset 278528 root 258
inode 543 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 304398336 /mnt/scratch
inode 543 offset 884736 root 258
inode 543 offset 884736 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 297099264 /mnt/scratch
inode 543 offset 974848 root 258
inode 543 offset 974848 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 301953024 /mnt/scratch
inode 543 offset 2056192 root 258
inode 543 offset 2056192 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 301985792 /mnt/scratch
inode 543 offset 2088960 root 258
inode 543 offset 2088960 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f16f
543
# /bin/btrfs inspect-internal logical-resolve -P 302006272 /mnt/scratch
inode 543 offset 2109440 root 258
inode 543 offset 2109440 root 5
# /bin/btrfs inspect-internal inode-resolve 543 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f16f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a is 2052392 (502 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        0..      19:      61370..     61389:     20:             shared
   1:       21..      24:      60549..     60552:      4:      61391: shared
   2:       33..      37:      68960..     68964:      5:      60561: shared
   3:       71..      92:      59991..     60012:     22:      68998: shared
   4:      142..     148:      58957..     58963:      7:      60062: shared
   5:      149..     149:      66063..     66063:      1:      58964: shared
   6:      278..     284:      74958..     74964:      7:      66192: unwritten,shared
   7:      285..     292:      66064..     66071:      8:      74965: shared
   8:      293..     331:      74965..     75003:     39:      66072: unwritten,shared
   9:      334..     334:      66936..     66936:      1:      75006: shared
  10:      362..     447:      59866..     59951:     86:      66964: unwritten,shared
  11:      489..     491:      68769..     68771:      3:      59993: shared
  12:      492..     494:      74319..     74321:      3:      68772: shared
  13:      495..     496:      68775..     68776:      2:      74322: last,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a: 14 extents found
after filter: 251371520#81920#0#shared 248008704#16384#86016#shared 282460160#20480#135168#shared 245723136#90112#290816#shared 241487872#28672#581632#shared 270594048#4096#610304#shared 307027968#28672#1138688#unwritten,shared 270598144#32768#1167360#shared 307056640#159744#1200128#unwritten,shared 274169856#4096#1368064#shared 245211136#352256#1482752#unwritten,shared 281677824#12288#2002944#shared 304410624#12288#2015232#shared 281702400#8192#2027520#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 251371520 /mnt/scratch
inode 306 offset 0 root 258
inode 306 offset 0 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 248008704 /mnt/scratch
inode 306 offset 86016 root 258
inode 306 offset 86016 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 282460160 /mnt/scratch
inode 306 offset 135168 root 258
inode 306 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 245723136 /mnt/scratch
inode 306 offset 290816 root 258
inode 306 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 241487872 /mnt/scratch
inode 306 offset 581632 root 258
inode 306 offset 581632 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 270594048 /mnt/scratch
inode 306 offset 610304 root 258
inode 306 offset 610304 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 307027968 /mnt/scratch
inode 306 offset 1138688 root 258
inode 306 offset 1138688 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 270598144 /mnt/scratch
inode 306 offset 1167360 root 258
inode 306 offset 1167360 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 307056640 /mnt/scratch
inode 306 offset 1200128 root 258
inode 306 offset 1200128 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 274169856 /mnt/scratch
inode 306 offset 1368064 root 258
inode 306 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 245211136 /mnt/scratch
inode 306 offset 1482752 root 258
inode 306 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 281677824 /mnt/scratch
inode 306 offset 2002944 root 258
inode 306 offset 2002944 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 304410624 /mnt/scratch
inode 306 offset 2015232 root 258
inode 306 offset 2015232 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
306
# /bin/btrfs inspect-internal logical-resolve -P 281702400 /mnt/scratch
inode 306 offset 2027520 root 258
inode 306 offset 2027520 root 5
# /bin/btrfs inspect-internal inode-resolve 306 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/f3a
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135 is 1187840 (290 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       32..      32:      75107..     75107:      1:         32: shared
   1:      265..     289:      75062..     75086:     25:      75340: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135: 2 extents found
after filter: 307638272#4096#131072#shared 307453952#102400#1085440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135
494
# /bin/btrfs inspect-internal logical-resolve -P 307638272 /mnt/scratch
inode 494 offset 131072 root 258
inode 494 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135
494
# /bin/btrfs inspect-internal logical-resolve -P 307453952 /mnt/scratch
inode 494 offset 1085440 root 258
inode 494 offset 1085440 root 5
# /bin/btrfs inspect-internal inode-resolve 494 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f135
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc is 2996792 (732 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        8..      39:      65218..     65249:     32:          8: shared
   1:      255..     261:      63924..     63930:      7:      65465: shared
   2:      427..     430:      64180..     64183:      4:      64096: shared
   3:      440..     484:      63330..     63374:     45:      64193: unwritten,shared
   4:      485..     503:      63375..     63393:     19:             shared
   5:      504..     544:      63394..     63434:     41:             unwritten,shared
   6:      545..     575:      63435..     63465:     31:             shared
   7:      576..     678:      63466..     63568:    103:             unwritten,shared
   8:      679..     679:      63569..     63569:      1:             shared
   9:      725..     731:      64433..     64439:      7:      63615: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc: 5 extents found
after filter: 267132928#131072#32768#shared 261832704#28672#1044480#shared 262881280#16384#1748992#shared 259399680#184320#1802240#unwritten,shared 259584000#77824#1986560#shared 259661824#167936#2064384#unwritten,shared 259829760#126976#2232320#shared 259956736#421888#2359296#unwritten,shared 260378624#4096#2781184#shared 263917568#28672#2969600#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 267132928 /mnt/scratch
inode 398 offset 32768 root 258
inode 398 offset 32768 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 261832704 /mnt/scratch
inode 398 offset 1044480 root 258
inode 398 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 262881280 /mnt/scratch
inode 398 offset 1748992 root 258
inode 398 offset 1748992 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 259399680 /mnt/scratch
inode 398 offset 1802240 root 258
inode 398 offset 1802240 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 259584000 /mnt/scratch
inode 398 offset 1986560 root 258
inode 398 offset 1986560 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 259661824 /mnt/scratch
inode 398 offset 2064384 root 258
inode 398 offset 2064384 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 259829760 /mnt/scratch
inode 398 offset 2232320 root 258
inode 398 offset 2232320 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 259956736 /mnt/scratch
inode 398 offset 2359296 root 258
inode 398 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 260378624 /mnt/scratch
inode 398 offset 2781184 root 258
inode 398 offset 2781184 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
398
# /bin/btrfs inspect-internal logical-resolve -P 263917568 /mnt/scratch
inode 398 offset 2969600 root 258
inode 398 offset 2969600 root 5
# /bin/btrfs inspect-internal inode-resolve 398 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fbc
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/dd3/faf
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/dd3/faf is 1363523 (333 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       48..      58:      65507..     65517:     11:         48: shared
   1:       59..      67:      63945..     63953:      9:      65518: shared
   2:       68..      68:      66389..     66389:      1:      63954: shared
   3:      110..     110:      66390..     66390:      1:             shared
   4:      111..     111:      67315..     67315:      1:      66391: shared
   5:      138..     163:      67316..     67341:     26:             shared
   6:      164..     164:      72919..     72919:      1:      67342: shared
   7:      268..     269:      72623..     72624:      2:      73023: shared
   8:      320..     332:      73213..     73225:     13:      72675: last,shared,eof
/mnt/scratch/snap1/p0/d0/dd3/faf: 7 extents found
after filter: 268316672#45056#196608#shared 261918720#36864#241664#shared 271929344#4096#278528#shared 271933440#4096#450560#shared 275722240#4096#454656#shared 275726336#106496#565248#shared 298676224#4096#671744#shared 297463808#8192#1097728#shared 299880448#53248#1310720#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 268316672 /mnt/scratch
inode 386 offset 196608 root 258
inode 386 offset 196608 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 261918720 /mnt/scratch
inode 386 offset 241664 root 258
inode 386 offset 241664 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
background rm
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 271929344 /mnt/scratch
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515390612
inode 386 offset 278528 root 258
inode 386 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 271933440 /mnt/scratch
inode 386 offset 450560 root 258
inode 386 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 275722240 /mnt/scratch
inode 386 offset 454656 root 258
inode 386 offset 454656 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 275726336 /mnt/scratch
inode 386 offset 565248 root 258
inode 386 offset 565248 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 298676224 /mnt/scratch
inode 386 offset 671744 root 258
inode 386 offset 671744 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 297463808 /mnt/scratch
inode 386 offset 1097728 root 258
inode 386 offset 1097728 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# stat -c %i /mnt/scratch/snap1/p0/d0/dd3/faf
386
# /bin/btrfs inspect-internal logical-resolve -P 299880448 /mnt/scratch
inode 386 offset 1310720 root 258
inode 386 offset 1310720 root 5
# /bin/btrfs inspect-internal inode-resolve 386 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/dd3/faf
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f140
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f140 is 1048576 (256 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      255..     255:      75087..     75087:      1:        255: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f140: 1 extent found
after filter: 307556352#4096#1044480#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f140
504
# /bin/btrfs inspect-internal logical-resolve -P 307556352 /mnt/scratch
inode 504 offset 1044480 root 258
inode 504 offset 1044480 root 5
# /bin/btrfs inspect-internal inode-resolve 504 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d160/d19f/d1a5/f140
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9 is 1146900 (281 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       50..      66:      73637..     73653:     17:         50: shared
   1:      124..     280:      75469..     75625:    157:      73711: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9: 2 extents found
after filter: 301617152#69632#204800#shared 309121024#643072#507904#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9
604
# /bin/btrfs inspect-internal logical-resolve -P 301617152 /mnt/scratch
inode 604 offset 204800 root 258
inode 604 offset 204800 root 5
# /bin/btrfs inspect-internal inode-resolve 604 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9
604
# /bin/btrfs inspect-internal logical-resolve -P 309121024 /mnt/scratch
inode 604 offset 507904 root 258
inode 604 offset 507904 root 5
# /bin/btrfs inspect-internal inode-resolve 604 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/dc7/d14d/d1a0/f1b9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e is 2800153 (684 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      125..     132:      63832..     63839:      8:        125: shared
   1:      133..     146:      65911..     65924:     14:      63840: shared
   2:      163..     181:      60994..     61012:     19:      65941: shared
   3:      182..     182:      61390..     61390:      1:      61013: shared
   4:      302..     316:      65925..     65939:     15:      61510: shared
   5:      317..     326:      72275..     72284:     10:      65940: shared
   6:      334..     334:      73964..     73964:      1:      72292: shared
   7:      509..     528:      73861..     73880:     20:      74139: shared
   8:      680..     683:      74883..     74886:      4:      74032: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e: 9 extents found
after filter: 261455872#32768#512000#shared 269971456#57344#544768#shared 249831424#77824#667648#shared 251453440#4096#745472#shared 270028800#61440#1236992#shared 296038400#40960#1298432#shared 302956544#4096#1368064#shared 302534656#81920#2084864#shared 306720768#16384#2785280#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 261455872 /mnt/scratch
inode 346 offset 512000 root 258
inode 346 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 269971456 /mnt/scratch
inode 346 offset 544768 root 258
inode 346 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 249831424 /mnt/scratch
inode 346 offset 667648 root 258
inode 346 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 251453440 /mnt/scratch
inode 346 offset 745472 root 258
inode 346 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 270028800 /mnt/scratch
inode 346 offset 1236992 root 258
inode 346 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 296038400 /mnt/scratch
inode 346 offset 1298432 root 258
inode 346 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 302956544 /mnt/scratch
inode 346 offset 1368064 root 258
inode 346 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 302534656 /mnt/scratch
inode 346 offset 2084864 root 258
inode 346 offset 2084864 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
346
# /bin/btrfs inspect-internal logical-resolve -P 306720768 /mnt/scratch
inode 346 offset 2785280 root 258
inode 346 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb is 1546481 (378 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        5..      11:      61536..     61542:      7:          5: shared
   1:       12..      12:      61809..     61809:      1:      61543: shared
   2:       32..      37:      68965..     68970:      6:      61829: shared
   3:       68..      71:      62237..     62240:      4:      69001: shared
   4:      180..     210:      61810..     61840:     31:      62349: shared
   5:      211..     211:      64004..     64004:      1:      61841: shared
   6:      235..     253:      74333..     74351:     19:      64028: shared
   7:      275..     297:      65518..     65540:     23:      74373: shared
   8:      340..     340:      67734..     67734:      1:      65583: shared
   9:      353..     366:      67735..     67748:     14:             shared
  10:      367..     377:      72313..     72323:     11:      67749: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb: 10 extents found
after filter: 252051456#28672#20480#shared 253169664#4096#49152#shared 282480640#24576#131072#shared 254922752#16384#278528#shared 253173760#126976#737280#shared 262160384#4096#864256#shared 304467968#77824#962560#shared 268361728#94208#1126400#shared 277438464#4096#1392640#shared 277442560#57344#1445888#shared 296194048#45056#1503232#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 252051456 /mnt/scratch
inode 337 offset 20480 root 258
inode 337 offset 20480 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 253169664 /mnt/scratch
inode 337 offset 49152 root 258
inode 337 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 282480640 /mnt/scratch
inode 337 offset 131072 root 258
inode 337 offset 131072 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 254922752 /mnt/scratch
inode 337 offset 278528 root 258
inode 337 offset 278528 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 253173760 /mnt/scratch
inode 337 offset 737280 root 258
inode 337 offset 737280 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 262160384 /mnt/scratch
inode 337 offset 864256 root 258
inode 337 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 304467968 /mnt/scratch
inode 337 offset 962560 root 258
inode 337 offset 962560 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 268361728 /mnt/scratch
inode 337 offset 1126400 root 258
inode 337 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 277438464 /mnt/scratch
inode 337 offset 1392640 root 258
inode 337 offset 1392640 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 277442560 /mnt/scratch
inode 337 offset 1445888 root 258
inode 337 offset 1445888 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
337
# /bin/btrfs inspect-internal logical-resolve -P 296194048 /mnt/scratch
inode 337 offset 1503232 root 258
inode 337 offset 1503232 root 5
# /bin/btrfs inspect-internal inode-resolve 337 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/dbe/fdb
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f is 388591 (95 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       12..      21:      65497..     65506:     10:         12: shared
   1:       26..      35:      59968..     59977:     10:      65511: shared
   2:       49..      61:      59978..     59990:     13:             shared
   3:       77..      94:      58933..     58950:     18:      60006: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f: 3 extents found
after filter: 268275712#40960#49152#shared 245628928#40960#106496#shared 245669888#53248#200704#shared 241389568#73728#315392#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
309
# /bin/btrfs inspect-internal logical-resolve -P 268275712 /mnt/scratch
inode 309 offset 49152 root 258
inode 309 offset 49152 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
309
# /bin/btrfs inspect-internal logical-resolve -P 245628928 /mnt/scratch
inode 309 offset 106496 root 258
inode 309 offset 106496 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
309
# /bin/btrfs inspect-internal logical-resolve -P 245669888 /mnt/scratch
inode 309 offset 200704 root 258
inode 309 offset 200704 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
309
# /bin/btrfs inspect-internal logical-resolve -P 241389568 /mnt/scratch
inode 309 offset 315392 root 258
inode 309 offset 315392 root 5
# /bin/btrfs inspect-internal inode-resolve 309 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f3f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b is 1389245 (340 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      36:      67384..     67406:     23:         14: shared
   1:       58..      75:      75157..     75174:     18:      67428: shared
   2:       85..      91:      63955..     63961:      7:      75184: shared
   3:       92..      92:      66077..     66077:      1:      63962: shared
   4:      290..     307:      65619..     65636:     18:      66275: shared
   5:      308..     339:      75175..     75206:     32:      65637: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b: 6 extents found
after filter: 276004864#94208#57344#shared 307843072#73728#237568#shared 261959680#28672#348160#shared 270651392#4096#376832#shared 268775424#73728#1187840#shared 307916800#131072#1261568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 276004864 /mnt/scratch
inode 361 offset 57344 root 258
inode 361 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 307843072 /mnt/scratch
inode 361 offset 237568 root 258
inode 361 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 261959680 /mnt/scratch
inode 361 offset 348160 root 258
inode 361 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 270651392 /mnt/scratch
inode 361 offset 376832 root 258
inode 361 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 361 offset 1187840 root 258
inode 361 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
361
# /bin/btrfs inspect-internal logical-resolve -P 307916800 /mnt/scratch
inode 361 offset 1261568 root 258
inode 361 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba is 2493953 (609 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       91..     101:      66836..     66846:     11:         91: shared
   1:      356..     367:      72584..     72595:     12:      67101: shared
   2:      368..     368:      73662..     73662:      1:      72596: last,shared
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba: 3 extents found
after filter: 273760256#45056#372736#shared 297304064#49152#1458176#shared 301719552#4096#1507328#last,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
396
# /bin/btrfs inspect-internal logical-resolve -P 273760256 /mnt/scratch
inode 396 offset 372736 root 258
inode 396 offset 372736 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
396
# /bin/btrfs inspect-internal logical-resolve -P 297304064 /mnt/scratch
inode 396 offset 1458176 root 258
inode 396 offset 1458176 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
396
# /bin/btrfs inspect-internal logical-resolve -P 301719552 /mnt/scratch
inode 396 offset 1507328 root 258
inode 396 offset 1507328 root 5
# /bin/btrfs inspect-internal inode-resolve 396 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/fba
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191 is 3783748 (924 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       6:       3848..      3851:      4:          3: shared
   1:        7..      18:      59634..     59645:     12:       3852: shared
   2:       83..     105:      58498..     58520:     23:      59710: shared
   3:      120..     152:      75948..     75980:     33:      58535: shared
   4:      194..     213:      62194..     62213:     20:      76022: shared
   5:      214..     220:      61070..     61076:      7:      62214: shared
   6:      229..     238:      60041..     60050:     10:      61085: shared
   7:      261..     261:      60578..     60578:      1:      60073: shared
   8:      292..     292:      60415..     60415:      1:      60609: shared
   9:      361..     416:      60636..     60691:     56:      60484: unwritten,shared
  10:      417..     442:      60592..     60617:     26:      60692: shared
  11:      443..     459:      60692..     60708:     17:      60618: unwritten,shared
  12:      460..     464:      60416..     60420:      5:      60709: shared
  13:      465..     467:      63884..     63886:      3:      60421: shared
  14:      468..     468:      68778..     68778:      1:      63887: shared
  15:      721..     736:      72417..     72432:     16:      69031: shared
  16:      737..     759:      64357..     64379:     23:      72433: shared
  17:      760..     772:      72063..     72075:     13:      64380: unwritten,shared
  18:      773..     773:      68779..     68779:      1:      72076: shared
  19:      774..     801:      72076..     72103:     28:      68780: unwritten,shared
  20:      802..     821:      72104..     72123:     20:             shared
  21:      822..     828:      73136..     73142:      7:      72124: shared
  22:      829..     847:      70335..     70353:     19:      73143: shared
  23:      848..     852:      72124..     72128:      5:      70354: unwritten,shared
  24:      905..     906:      68165..     68166:      2:      72181: unwritten,shared
  25:      907..     923:      68167..     68183:     17:             shared,eof
  26:      924..    1152:      68184..     68412:    229:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191: 24 extents found
after filter: 15761408#16384#12288#shared 244260864#49152#28672#shared 239607808#94208#339968#shared 311083008#135168#491520#shared 254746624#81920#794624#shared 250142720#28672#876544#shared 245927936#40960#937984#shared 248127488#4096#1069056#shared 247459840#4096#1196032#shared 248365056#229376#1478656#unwritten,shared 248184832#106496#1708032#shared 248594432#69632#1814528#unwritten,shared 247463936#20480#1884160#shared 261668864#12288#1904640#shared 281714688#4096#1916928#shared 296620032#65536#2953216#shared 263606272#94208#3018752#shared 295170048#53248#3112960#unwritten,shared 281718784#4096#3166208#shared 295223296#114688#3170304#unwritten,shared 295337984#81920#3284992#shared 299565056#28672#3366912#shared 288092160#77824#3395584#shared 295419904#20480#3473408#unwritten,shared 279203840#8192#3706880#unwritten,shared 279212032#69632#3715072#shared,eof 279281664#937984#3784704#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 15761408 /mnt/scratch
inode 283 offset 12288 root 258
inode 283 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 244260864 /mnt/scratch
inode 283 offset 28672 root 258
inode 283 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 239607808 /mnt/scratch
inode 283 offset 339968 root 258
inode 283 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
background rm
283
# /bin/btrfs inspect-internal logical-resolve -P 311083008 /mnt/scratch
inode 283 offset 491520 root 258
inode 283 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515835190
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 254746624 /mnt/scratch
inode 283 offset 794624 root 258
inode 283 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 250142720 /mnt/scratch
inode 283 offset 876544 root 258
inode 283 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 245927936 /mnt/scratch
inode 283 offset 937984 root 258
inode 283 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 248127488 /mnt/scratch
inode 283 offset 1069056 root 258
inode 283 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 247459840 /mnt/scratch
inode 283 offset 1196032 root 258
inode 283 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 248365056 /mnt/scratch
inode 283 offset 1478656 root 258
inode 283 offset 1478656 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 248184832 /mnt/scratch
inode 283 offset 1708032 root 258
inode 283 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 248594432 /mnt/scratch
inode 283 offset 1814528 root 258
inode 283 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 247463936 /mnt/scratch
inode 283 offset 1884160 root 258
inode 283 offset 1884160 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 261668864 /mnt/scratch
inode 283 offset 1904640 root 258
inode 283 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 281714688 /mnt/scratch
inode 283 offset 1916928 root 258
inode 283 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 296620032 /mnt/scratch
inode 283 offset 2953216 root 258
inode 283 offset 2953216 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 263606272 /mnt/scratch
inode 283 offset 3018752 root 258
inode 283 offset 3018752 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 295170048 /mnt/scratch
inode 283 offset 3112960 root 258
inode 283 offset 3112960 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 281718784 /mnt/scratch
inode 283 offset 3166208 root 258
inode 283 offset 3166208 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 295223296 /mnt/scratch
inode 283 offset 3170304 root 258
inode 283 offset 3170304 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 295337984 /mnt/scratch
inode 283 offset 3284992 root 258
inode 283 offset 3284992 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 299565056 /mnt/scratch
inode 283 offset 3366912 root 258
inode 283 offset 3366912 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 288092160 /mnt/scratch
inode 283 offset 3395584 root 258
inode 283 offset 3395584 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 295419904 /mnt/scratch
inode 283 offset 3473408 root 258
inode 283 offset 3473408 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 279203840 /mnt/scratch
inode 283 offset 3706880 root 258
inode 283 offset 3706880 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 279212032 /mnt/scratch
inode 283 offset 3715072 root 258
inode 283 offset 3715072 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
283
# /bin/btrfs inspect-internal logical-resolve -P 279281664 /mnt/scratch
inode 283 offset 3784704 root 258
inode 283 offset 3784704 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f17
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f17 is 4222674 (1031 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      102..     102:      61335..     61335:      1:        102: shared
   1:      110..     115:       4488..      4493:      6:      61343: shared
   2:      119..     144:      61092..     61117:     26:       4497: shared
   3:      331..     356:       3883..      3908:     26:      61304: shared
   4:      362..     372:      65946..     65956:     11:       3914: shared
   5:      390..     405:      60067..     60082:     16:      65974: shared
   6:      432..     438:       4494..      4500:      7:      60109: shared
   7:      531..     543:      60579..     60591:     13:       4593: shared
   8:      596..     626:       4501..      4531:     31:      60644: shared
   9:      627..     627:      59071..     59071:      1:       4532: shared
  10:      649..     653:      72805..     72809:      5:      59093: shared
  11:      713..     737:      64155..     64179:     25:      72869: shared
  12:      752..     778:       3923..      3949:     27:      64194: unwritten,shared
  13:      779..     783:       3950..      3954:      5:             shared
  14:      784..     836:       3955..      4007:     53:             unwritten,shared
  15:      837..     837:       4008..      4008:      1:             shared
  16:      838..     840:       4009..      4011:      3:             unwritten,shared
  17:      841..     871:       4012..      4042:     31:             shared
  18:      872..     872:      73908..     73908:      1:       4043: shared
  19:      873..     907:       4044..      4078:     35:      73909: last,unwritten,shared
/mnt/scratch/snap1/p0/d0/d1/f17: 15 extents found
after filter: 251228160#4096#417792#shared 18382848#24576#450560#shared 250232832#106496#487424#shared 15904768#106496#1355776#shared 270114816#45056#1482752#shared 246034432#65536#1597440#shared 18407424#28672#1769472#shared 248131584#53248#2174976#shared 18436096#126976#2441216#shared 241954816#4096#2568192#shared 298209280#20480#2658304#shared 262778880#102400#2920448#shared 16068608#110592#3080192#unwritten,shared 16179200#20480#3190784#shared 16199680#217088#3211264#unwritten,shared 16416768#4096#3428352#shared 16420864#12288#3432448#unwritten,shared 16433152#126976#3444736#shared 302727168#4096#3571712#shared 16564224#143360#3575808#last,unwritten,shared 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 251228160 /mnt/scratch
inode 278 offset 417792 root 258
inode 278 offset 417792 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 18382848 /mnt/scratch
inode 278 offset 450560 root 258
inode 278 offset 450560 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 250232832 /mnt/scratch
inode 278 offset 487424 root 258
inode 278 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 15904768 /mnt/scratch
inode 278 offset 1355776 root 258
inode 278 offset 1355776 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 270114816 /mnt/scratch
inode 278 offset 1482752 root 258
inode 278 offset 1482752 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 246034432 /mnt/scratch
inode 278 offset 1597440 root 258
inode 278 offset 1597440 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516172901
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 18407424 /mnt/scratch
inode 278 offset 1769472 root 258
inode 278 offset 1769472 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 248131584 /mnt/scratch
inode 278 offset 2174976 root 258
inode 278 offset 2174976 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 18436096 /mnt/scratch
inode 278 offset 2441216 root 258
inode 278 offset 2441216 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 241954816 /mnt/scratch
inode 278 offset 2568192 root 258
inode 278 offset 2568192 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 298209280 /mnt/scratch
inode 278 offset 2658304 root 258
inode 278 offset 2658304 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 262778880 /mnt/scratch
inode 278 offset 2920448 root 258
inode 278 offset 2920448 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16068608 /mnt/scratch
inode 278 offset 3080192 root 258
inode 278 offset 3080192 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16179200 /mnt/scratch
inode 278 offset 3190784 root 258
inode 278 offset 3190784 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16199680 /mnt/scratch
inode 278 offset 3211264 root 258
inode 278 offset 3211264 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16416768 /mnt/scratch
inode 278 offset 3428352 root 258
inode 278 offset 3428352 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16420864 /mnt/scratch
inode 278 offset 3432448 root 258
inode 278 offset 3432448 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16433152 /mnt/scratch
inode 278 offset 3444736 root 258
inode 278 offset 3444736 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 302727168 /mnt/scratch
inode 278 offset 3571712 root 258
inode 278 offset 3571712 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f17
278
# /bin/btrfs inspect-internal logical-resolve -P 16564224 /mnt/scratch
inode 278 offset 3575808 root 258
inode 278 offset 3575808 root 5
# /bin/btrfs inspect-internal inode-resolve 278 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f17
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8 is 1792568 (438 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      211..     211:      72946..     72946:      1:        211: shared
   1:      275..     303:      72947..     72975:     29:             shared
   2:      304..     304:      73319..     73319:      1:      72976: shared
   3:      426..     437:      73320..     73331:     12:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8: 2 extents found
after filter: 298786816#4096#864256#shared 298790912#118784#1126400#shared 300314624#4096#1245184#shared 300318720#49152#1744896#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
431
# /bin/btrfs inspect-internal logical-resolve -P 298786816 /mnt/scratch
inode 431 offset 864256 root 258
inode 431 offset 864256 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
431
# /bin/btrfs inspect-internal logical-resolve -P 298790912 /mnt/scratch
inode 431 offset 1126400 root 258
inode 431 offset 1126400 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
431
# /bin/btrfs inspect-internal logical-resolve -P 300314624 /mnt/scratch
inode 431 offset 1245184 root 258
inode 431 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
431
# /bin/btrfs inspect-internal logical-resolve -P 300318720 /mnt/scratch
inode 431 offset 1744896 root 258
inode 431 offset 1744896 root 5
# /bin/btrfs inspect-internal inode-resolve 431 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/fe8
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b is 1601910 (392 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       94..     116:      63151..     63173:     23:         94: unwritten,shared
   1:      117..     129:      62156..     62168:     13:      63174: shared
   2:      130..     139:      63174..     63183:     10:      62169: unwritten,shared
   3:      140..     144:      58598..     58602:      5:      63184: shared
   4:      145..     151:      63184..     63190:      7:      58603: unwritten,shared
   5:      250..     256:      58924..     58930:      7:      63289: shared
   6:      257..     257:      62169..     62169:      1:      58931: shared
   7:      287..     309:      62170..     62192:     23:             shared
   8:      310..     310:      64005..     64005:      1:      62193: shared
   9:      314..     321:      67278..     67285:      8:      64009: shared
  10:      360..     391:      64006..     64037:     32:      67324: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b: 10 extents found
after filter: 258666496#94208#385024#unwritten,shared 254590976#53248#479232#shared 258760704#40960#532480#unwritten,shared 240017408#20480#573440#shared 258801664#28672#593920#unwritten,shared 241352704#28672#1024000#shared 254644224#4096#1052672#shared 254648320#94208#1175552#shared 262164480#4096#1269760#shared 275570688#32768#1286144#shared 262168576#131072#1474560#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 258666496 /mnt/scratch
inode 293 offset 385024 root 258
inode 293 offset 385024 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 254590976 /mnt/scratch
inode 293 offset 479232 root 258
inode 293 offset 479232 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 258760704 /mnt/scratch
inode 293 offset 532480 root 258
inode 293 offset 532480 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 240017408 /mnt/scratch
inode 293 offset 573440 root 258
inode 293 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 258801664 /mnt/scratch
inode 293 offset 593920 root 258
inode 293 offset 593920 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 241352704 /mnt/scratch
inode 293 offset 1024000 root 258
inode 293 offset 1024000 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 254644224 /mnt/scratch
inode 293 offset 1052672 root 258
inode 293 offset 1052672 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 254648320 /mnt/scratch
inode 293 offset 1175552 root 258
inode 293 offset 1175552 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 262164480 /mnt/scratch
inode 293 offset 1269760 root 258
inode 293 offset 1269760 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 275570688 /mnt/scratch
inode 293 offset 1286144 root 258
inode 293 offset 1286144 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
background rm
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
293
# /bin/btrfs inspect-internal logical-resolve -P 262168576 /mnt/scratch
inode 293 offset 1474560 root 258
inode 293 offset 1474560 root 5
# /bin/btrfs inspect-internal inode-resolve 293 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/f2b
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1516134520
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a is 2800153 (684 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      125..     132:      63832..     63839:      8:        125: shared
   1:      133..     146:      65911..     65924:     14:      63840: shared
   2:      163..     181:      60994..     61012:     19:      65941: shared
   3:      182..     182:      61390..     61390:      1:      61013: shared
   4:      302..     316:      65925..     65939:     15:      61510: shared
   5:      317..     326:      72275..     72284:     10:      65940: shared
   6:      334..     334:      73964..     73964:      1:      72292: shared
   7:      509..     528:      73861..     73880:     20:      74139: shared
   8:      680..     683:      74883..     74886:      4:      74032: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a: 9 extents found
after filter: 261455872#32768#512000#shared 269971456#57344#544768#shared 249831424#77824#667648#shared 251453440#4096#745472#shared 270028800#61440#1236992#shared 296038400#40960#1298432#shared 302956544#4096#1368064#shared 302534656#81920#2084864#shared 306720768#16384#2785280#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 261455872 /mnt/scratch
inode 346 offset 512000 root 258
inode 346 offset 512000 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 269971456 /mnt/scratch
inode 346 offset 544768 root 258
inode 346 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 249831424 /mnt/scratch
inode 346 offset 667648 root 258
inode 346 offset 667648 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 251453440 /mnt/scratch
inode 346 offset 745472 root 258
inode 346 offset 745472 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 270028800 /mnt/scratch
inode 346 offset 1236992 root 258
inode 346 offset 1236992 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 296038400 /mnt/scratch
inode 346 offset 1298432 root 258
inode 346 offset 1298432 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 302956544 /mnt/scratch
inode 346 offset 1368064 root 258
inode 346 offset 1368064 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 302534656 /mnt/scratch
inode 346 offset 2084864 root 258
inode 346 offset 2084864 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
346
# /bin/btrfs inspect-internal logical-resolve -P 306720768 /mnt/scratch
inode 346 offset 2785280 root 258
inode 346 offset 2785280 root 5
# /bin/btrfs inspect-internal inode-resolve 346 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f10a
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d14a/f16e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65 is 3690959 (902 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:      60374..     60381:      8:         28: shared
   1:       36..      36:      61087..     61087:      1:      60382: shared
   2:       74..      74:      71022..     71022:      1:      61125: shared
   3:      234..     264:      71023..     71053:     31:             shared
   4:      366..     367:      71054..     71055:      2:             shared
   5:      553..     575:      71056..     71078:     23:             shared
   6:      576..     576:      72977..     72977:      1:      71079: shared
   7:      587..     611:      72978..     73002:     25:             shared
   8:      612..     612:      73208..     73208:      1:      73003: shared
   9:      686..     688:      73209..     73211:      3:             shared
  10:      689..     689:      74352..     74352:      1:      73212: shared
  11:      711..     711:      74913..     74913:      1:      74374: shared
  12:      890..     901:      74914..     74925:     12:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65: 7 extents found
after filter: 247291904#32768#114688#shared 250212352#4096#147456#shared 290906112#4096#303104#shared 290910208#126976#958464#shared 291037184#8192#1499136#shared 291045376#94208#2265088#shared 298913792#4096#2359296#shared 298917888#102400#2404352#shared 299859968#4096#2506752#shared 299864064#12288#2809856#shared 304545792#4096#2822144#shared 306843648#4096#2912256#shared 306847744#49152#3645440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 247291904 /mnt/scratch
inode 335 offset 114688 root 258
inode 335 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 250212352 /mnt/scratch
inode 335 offset 147456 root 258
inode 335 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 290906112 /mnt/scratch
inode 335 offset 303104 root 258
inode 335 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 290910208 /mnt/scratch
inode 335 offset 958464 root 258
inode 335 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 291037184 /mnt/scratch
inode 335 offset 1499136 root 258
inode 335 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 291045376 /mnt/scratch
inode 335 offset 2265088 root 258
inode 335 offset 2265088 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 298913792 /mnt/scratch
inode 335 offset 2359296 root 258
inode 335 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 298917888 /mnt/scratch
inode 335 offset 2404352 root 258
inode 335 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 299859968 /mnt/scratch
inode 335 offset 2506752 root 258
inode 335 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 299864064 /mnt/scratch
inode 335 offset 2809856 root 258
inode 335 offset 2809856 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 304545792 /mnt/scratch
inode 335 offset 2822144 root 258
inode 335 offset 2822144 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 306843648 /mnt/scratch
inode 335 offset 2912256 root 258
inode 335 offset 2912256 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
335
# /bin/btrfs inspect-internal logical-resolve -P 306847744 /mnt/scratch
inode 335 offset 3645440 root 258
inode 335 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5 is 3690959 (902 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       28..      35:      60374..     60381:      8:         28: shared
   1:       36..      36:      61087..     61087:      1:      60382: shared
   2:       74..      74:      71022..     71022:      1:      61125: shared
   3:      234..     264:      71023..     71053:     31:             shared
   4:      366..     367:      71054..     71055:      2:             shared
   5:      553..     575:      71056..     71078:     23:             shared
   6:      576..     576:      72977..     72977:      1:      71079: shared
   7:      587..     611:      72978..     73002:     25:             shared
   8:      612..     612:      73208..     73208:      1:      73003: shared
   9:      686..     688:      73209..     73211:      3:             shared
  10:      689..     689:      74352..     74352:      1:      73212: shared
  11:      711..     711:      74913..     74913:      1:      74374: shared
  12:      890..     901:      74914..     74925:     12:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5: 7 extents found
after filter: 247291904#32768#114688#shared 250212352#4096#147456#shared 290906112#4096#303104#shared 290910208#126976#958464#shared 291037184#8192#1499136#shared 291045376#94208#2265088#shared 298913792#4096#2359296#shared 298917888#102400#2404352#shared 299859968#4096#2506752#shared 299864064#12288#2809856#shared 304545792#4096#2822144#shared 306843648#4096#2912256#shared 306847744#49152#3645440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 247291904 /mnt/scratch
inode 335 offset 114688 root 258
inode 335 offset 114688 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 250212352 /mnt/scratch
inode 335 offset 147456 root 258
inode 335 offset 147456 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 290906112 /mnt/scratch
inode 335 offset 303104 root 258
inode 335 offset 303104 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 290910208 /mnt/scratch
inode 335 offset 958464 root 258
inode 335 offset 958464 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 291037184 /mnt/scratch
inode 335 offset 1499136 root 258
inode 335 offset 1499136 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 291045376 /mnt/scratch
inode 335 offset 2265088 root 258
inode 335 offset 2265088 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 298913792 /mnt/scratch
inode 335 offset 2359296 root 258
inode 335 offset 2359296 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
background rm
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
335
# /bin/btrfs inspect-internal logical-resolve -P 298917888 /mnt/scratch
seed = 1516197322
inode 335 offset 2404352 root 258
inode 335 offset 2404352 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 299859968 /mnt/scratch
inode 335 offset 2506752 root 258
inode 335 offset 2506752 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 299864064 /mnt/scratch
inode 335 offset 2809856 root 258
inode 335 offset 2809856 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 304545792 /mnt/scratch
inode 335 offset 2822144 root 258
inode 335 offset 2822144 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 306843648 /mnt/scratch
inode 335 offset 2912256 root 258
inode 335 offset 2912256 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
335
# /bin/btrfs inspect-internal logical-resolve -P 306847744 /mnt/scratch
inode 335 offset 3645440 root 258
inode 335 offset 3645440 root 5
# /bin/btrfs inspect-internal inode-resolve 335 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/fb5
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/f65
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/f1c0
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/f1c0 is 208896 (51 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       33..      50:      75088..     75105:     18:         33: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/f1c0: 1 extent found
after filter: 307560448#73728#135168#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/f1c0
610
# /bin/btrfs inspect-internal logical-resolve -P 307560448 /mnt/scratch
inode 610 offset 135168 root 258
inode 610 offset 135168 root 5
# /bin/btrfs inspect-internal inode-resolve 610 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/f1c0
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d52/f18e
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d52/f18e is 184320 (45 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       29..      44:      75652..     75667:     16:         29: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d52/f18e: 1 extent found
after filter: 309870592#65536#118784#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d52/f18e
569
# /bin/btrfs inspect-internal logical-resolve -P 309870592 /mnt/scratch
inode 569 offset 118784 root 258
inode 569 offset 118784 root 5
# /bin/btrfs inspect-internal inode-resolve 569 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d107/d52/f18e
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d107/d160/f173
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d107/d160/f173 is 3133440 (765 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       71..      82:      72051..     72062:     12:         71: shared
   1:       87..      96:      67359..     67368:     10:      72067: shared
   2:       97..     116:      74030..     74049:     20:      67369: shared
   3:      158..     163:      72411..     72416:      6:      74091: shared
   4:      173..     185:      66414..     66426:     13:      72426: shared
   5:      186..     186:      66680..     66680:      1:      66427: shared
   6:      316..     339:      66553..     66576:     24:      66810: shared
   7:      547..     565:      72494..     72512:     19:      66784: shared
   8:      573..     573:      69117..     69117:      1:      72520: shared
   9:      642..     665:      71978..     72001:     24:      69186: shared
  10:      761..     764:      74050..     74053:      4:      72097: last,shared,eof
/mnt/scratch/snap1/p0/d0/d107/d160/f173: 11 extents found
after filter: 295120896#49152#290816#shared 275902464#40960#356352#shared 303226880#81920#397312#shared 296595456#24576#647168#shared 272031744#53248#708608#shared 273121280#4096#761856#shared 272601088#98304#1294336#shared 296935424#77824#2240512#shared 283103232#4096#2347008#shared 294821888#98304#2629632#shared 303308800#16384#3117056#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 295120896 /mnt/scratch
inode 416 offset 290816 root 258
inode 416 offset 290816 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 275902464 /mnt/scratch
inode 416 offset 356352 root 258
inode 416 offset 356352 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 303226880 /mnt/scratch
inode 416 offset 397312 root 258
inode 416 offset 397312 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 296595456 /mnt/scratch
inode 416 offset 647168 root 258
inode 416 offset 647168 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 272031744 /mnt/scratch
inode 416 offset 708608 root 258
inode 416 offset 708608 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 273121280 /mnt/scratch
inode 416 offset 761856 root 258
inode 416 offset 761856 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 272601088 /mnt/scratch
inode 416 offset 1294336 root 258
inode 416 offset 1294336 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 296935424 /mnt/scratch
inode 416 offset 2240512 root 258
inode 416 offset 2240512 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 283103232 /mnt/scratch
inode 416 offset 2347008 root 258
inode 416 offset 2347008 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 294821888 /mnt/scratch
inode 416 offset 2629632 root 258
inode 416 offset 2629632 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# stat -c %i /mnt/scratch/snap1/p0/d0/d107/d160/f173
416
# /bin/btrfs inspect-internal logical-resolve -P 303308800 /mnt/scratch
inode 416 offset 3117056 root 258
inode 416 offset 3117056 root 5
# /bin/btrfs inspect-internal inode-resolve 416 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d84/fd1
/mnt/scratch/snap1/p0/d0/d107/d160/f173
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd is 1396736 (341 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      119..     132:      64418..     64431:     14:        119: shared
   1:      133..     133:      68927..     68927:      1:      64432: shared
   2:      134..     147:      70903..     70916:     14:      68928: shared
   3:      280..     298:      72158..     72176:     19:      71049: shared
   4:      332..     340:      68907..     68915:      9:      72210: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd: 5 extents found
after filter: 263856128#57344#487424#shared 282324992#4096#544768#shared 290418688#57344#548864#shared 295559168#77824#1146880#shared 282243072#36864#1359872#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
422
# /bin/btrfs inspect-internal logical-resolve -P 263856128 /mnt/scratch
inode 422 offset 487424 root 258
inode 422 offset 487424 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
422
# /bin/btrfs inspect-internal logical-resolve -P 282324992 /mnt/scratch
inode 422 offset 544768 root 258
inode 422 offset 544768 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
422
# /bin/btrfs inspect-internal logical-resolve -P 290418688 /mnt/scratch
inode 422 offset 548864 root 258
inode 422 offset 548864 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
422
# /bin/btrfs inspect-internal logical-resolve -P 295559168 /mnt/scratch
inode 422 offset 1146880 root 258
inode 422 offset 1146880 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
422
# /bin/btrfs inspect-internal logical-resolve -P 282243072 /mnt/scratch
inode 422 offset 1359872 root 258
inode 422 offset 1359872 root 5
# /bin/btrfs inspect-internal inode-resolve 422 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/f1cd
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99 is 1318912 (322 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       15..      42:      62127..     62154:     28:         15: shared
   1:       43..      69:      66653..     66679:     27:      62155: shared
   2:       82..      89:      71227..     71234:      8:      66692: shared
   3:      139..     147:      63874..     63882:      9:      71284: shared
   4:      272..     296:      69024..     69048:     25:      64007: shared
   5:      304..     321:      67221..     67238:     18:      69056: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99: 6 extents found
after filter: 254472192#114688#61440#shared 273010688#110592#176128#shared 291745792#32768#335872#shared 261627904#36864#569344#shared 282722304#102400#1114112#shared 275337216#73728#1245184#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 254472192 /mnt/scratch
inode 359 offset 61440 root 258
inode 359 offset 61440 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 273010688 /mnt/scratch
inode 359 offset 176128 root 258
inode 359 offset 176128 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 291745792 /mnt/scratch
inode 359 offset 335872 root 258
inode 359 offset 335872 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 261627904 /mnt/scratch
inode 359 offset 569344 root 258
inode 359 offset 569344 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 282722304 /mnt/scratch
inode 359 offset 1114112 root 258
inode 359 offset 1114112 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
359
# /bin/btrfs inspect-internal logical-resolve -P 275337216 /mnt/scratch
inode 359 offset 1245184 root 258
inode 359 offset 1245184 root 5
# /bin/btrfs inspect-internal inode-resolve 359 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f99
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d1ed/d1a3/f1e9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d1ed/d1a3/f1e9 is 859250 (210 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      196..     209:      75846..     75859:     14:        196: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d1ed/d1a3/f1e9: 1 extent found
after filter: 310665216#57344#802816#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d1ed/d1a3/f1e9
644
# /bin/btrfs inspect-internal logical-resolve -P 310665216 /mnt/scratch
inode 644 offset 802816 root 258
inode 644 offset 802816 root 5
# /bin/btrfs inspect-internal inode-resolve 644 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d1ed/d1a3/f1e9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/fa5
background rm
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/fa5 is 975895 (239 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        1..       1:      62215..     62215:      1:          1: shared
   1:      167..     183:      61843..     61859:     17:      62381: shared
   2:      184..     184:      65319..     65319:      1:      61860: last,shared
/mnt/scratch/snap1/p0/d0/d1/fa5: 3 extents found
after filter: 254832640#4096#4096#shared 253308928#69632#684032#shared 267546624#4096#753664#last,shared 
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515424186
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fa5
379
# /bin/btrfs inspect-internal logical-resolve -P 254832640 /mnt/scratch
inode 379 offset 4096 root 258
inode 379 offset 4096 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fa5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fa5
379
# /bin/btrfs inspect-internal logical-resolve -P 253308928 /mnt/scratch
inode 379 offset 684032 root 258
inode 379 offset 684032 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fa5
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/fa5
379
# /bin/btrfs inspect-internal logical-resolve -P 267546624 /mnt/scratch
inode 379 offset 753664 root 258
inode 379 offset 753664 root 5
# /bin/btrfs inspect-internal inode-resolve 379 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/fa5
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9 is 2494863 (610 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       76..      91:      65638..     65653:     16:         76: shared
   1:      267..     269:      66372..     66374:      3:      65829: shared
   2:      270..     270:      66649..     66649:      1:      66375: shared
   3:      480..     480:      67733..     67733:      1:      66859: shared
   4:      516..     517:      67488..     67489:      2:      67769: shared
   5:      518..     542:      73369..     73393:     25:      67490: shared
   6:      543..     543:      74836..     74836:      1:      73394: shared
   7:      599..     609:      74837..     74847:     11:             last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9: 7 extents found
after filter: 268853248#65536#311296#shared 271859712#12288#1093632#shared 272994304#4096#1105920#shared 277434368#4096#1966080#shared 276430848#8192#2113536#shared 300519424#102400#2121728#shared 306528256#4096#2224128#shared 306532352#45056#2453504#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 268853248 /mnt/scratch
inode 434 offset 311296 root 258
inode 434 offset 311296 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 271859712 /mnt/scratch
inode 434 offset 1093632 root 258
inode 434 offset 1093632 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 272994304 /mnt/scratch
inode 434 offset 1105920 root 258
inode 434 offset 1105920 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 277434368 /mnt/scratch
inode 434 offset 1966080 root 258
inode 434 offset 1966080 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 276430848 /mnt/scratch
inode 434 offset 2113536 root 258
inode 434 offset 2113536 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 300519424 /mnt/scratch
inode 434 offset 2121728 root 258
inode 434 offset 2121728 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 306528256 /mnt/scratch
inode 434 offset 2224128 root 258
inode 434 offset 2224128 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
434
# /bin/btrfs inspect-internal logical-resolve -P 306532352 /mnt/scratch
inode 434 offset 2453504 root 258
inode 434 offset 2453504 root 5
# /bin/btrfs inspect-internal inode-resolve 434 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/ff9
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4 is 3112960 (760 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      200..     200:      62622..     62622:      1:        200: shared
   1:      431..     434:      62623..     62626:      4:             shared
   2:      435..     435:      66782..     66782:      1:      62627: shared
   3:      494..     505:      66783..     66794:     12:             shared
   4:      506..     506:      71369..     71369:      1:      66795: shared
   5:      758..     759:      70326..     70327:      2:      71621: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4: 4 extents found
after filter: 256499712#4096#819200#shared 256503808#16384#1765376#shared 273539072#4096#1781760#shared 273543168#49152#2023424#shared 292327424#4096#2072576#shared 288055296#8192#3104768#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 256499712 /mnt/scratch
inode 378 offset 819200 root 258
inode 378 offset 819200 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 256503808 /mnt/scratch
inode 378 offset 1765376 root 258
inode 378 offset 1765376 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 273539072 /mnt/scratch
inode 378 offset 1781760 root 258
inode 378 offset 1781760 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 273543168 /mnt/scratch
inode 378 offset 2023424 root 258
inode 378 offset 2023424 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 292327424 /mnt/scratch
inode 378 offset 2072576 root 258
inode 378 offset 2072576 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
378
# /bin/btrfs inspect-internal logical-resolve -P 288055296 /mnt/scratch
inode 378 offset 3104768 root 258
inode 378 offset 3104768 root 5
# /bin/btrfs inspect-internal inode-resolve 378 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d6d/fa4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/f79
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/f79 is 3783748 (924 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:        3..       6:       3848..      3851:      4:          3: shared
   1:        7..      18:      59634..     59645:     12:       3852: shared
   2:       83..     105:      58498..     58520:     23:      59710: shared
   3:      120..     152:      75948..     75980:     33:      58535: shared
   4:      194..     213:      62194..     62213:     20:      76022: shared
   5:      214..     220:      61070..     61076:      7:      62214: shared
   6:      229..     238:      60041..     60050:     10:      61085: shared
   7:      261..     261:      60578..     60578:      1:      60073: shared
   8:      292..     292:      60415..     60415:      1:      60609: shared
   9:      361..     416:      60636..     60691:     56:      60484: unwritten,shared
  10:      417..     442:      60592..     60617:     26:      60692: shared
  11:      443..     459:      60692..     60708:     17:      60618: unwritten,shared
  12:      460..     464:      60416..     60420:      5:      60709: shared
  13:      465..     467:      63884..     63886:      3:      60421: shared
  14:      468..     468:      68778..     68778:      1:      63887: shared
  15:      721..     736:      72417..     72432:     16:      69031: shared
  16:      737..     759:      64357..     64379:     23:      72433: shared
  17:      760..     772:      72063..     72075:     13:      64380: unwritten,shared
  18:      773..     773:      68779..     68779:      1:      72076: shared
  19:      774..     801:      72076..     72103:     28:      68780: unwritten,shared
  20:      802..     821:      72104..     72123:     20:             shared
  21:      822..     828:      73136..     73142:      7:      72124: shared
  22:      829..     847:      70335..     70353:     19:      73143: shared
  23:      848..     852:      72124..     72128:      5:      70354: unwritten,shared
  24:      905..     906:      68165..     68166:      2:      72181: unwritten,shared
  25:      907..     923:      68167..     68183:     17:             shared,eof
  26:      924..    1152:      68184..     68412:    229:             last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/f79: 24 extents found
after filter: 15761408#16384#12288#shared 244260864#49152#28672#shared 239607808#94208#339968#shared 311083008#135168#491520#shared 254746624#81920#794624#shared 250142720#28672#876544#shared 245927936#40960#937984#shared 248127488#4096#1069056#shared 247459840#4096#1196032#shared 248365056#229376#1478656#unwritten,shared 248184832#106496#1708032#shared 248594432#69632#1814528#unwritten,shared 247463936#20480#1884160#shared 261668864#12288#1904640#shared 281714688#4096#1916928#shared 296620032#65536#2953216#shared 263606272#94208#3018752#shared 295170048#53248#3112960#unwritten,shared 281718784#4096#3166208#shared 295223296#114688#3170304#unwritten,shared 295337984#81920#3284992#shared 299565056#28672#3366912#shared 288092160#77824#3395584#shared 295419904#20480#3473408#unwritten,shared 279203840#8192#3706880#unwritten,shared 279212032#69632#3715072#shared,eof 279281664#937984#3784704#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 15761408 /mnt/scratch
inode 283 offset 12288 root 258
inode 283 offset 12288 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 244260864 /mnt/scratch
inode 283 offset 28672 root 258
inode 283 offset 28672 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 239607808 /mnt/scratch
inode 283 offset 339968 root 258
inode 283 offset 339968 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 311083008 /mnt/scratch
inode 283 offset 491520 root 258
inode 283 offset 491520 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 254746624 /mnt/scratch
inode 283 offset 794624 root 258
inode 283 offset 794624 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 250142720 /mnt/scratch
inode 283 offset 876544 root 258
inode 283 offset 876544 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 245927936 /mnt/scratch
inode 283 offset 937984 root 258
inode 283 offset 937984 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 248127488 /mnt/scratch
inode 283 offset 1069056 root 258
inode 283 offset 1069056 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 247459840 /mnt/scratch
inode 283 offset 1196032 root 258
inode 283 offset 1196032 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 248365056 /mnt/scratch
inode 283 offset 1478656 root 258
inode 283 offset 1478656 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 248184832 /mnt/scratch
inode 283 offset 1708032 root 258
inode 283 offset 1708032 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 248594432 /mnt/scratch
inode 283 offset 1814528 root 258
inode 283 offset 1814528 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 247463936 /mnt/scratch
inode 283 offset 1884160 root 258
inode 283 offset 1884160 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 261668864 /mnt/scratch
inode 283 offset 1904640 root 258
inode 283 offset 1904640 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 281714688 /mnt/scratch
inode 283 offset 1916928 root 258
inode 283 offset 1916928 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 296620032 /mnt/scratch
inode 283 offset 2953216 root 258
inode 283 offset 2953216 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 263606272 /mnt/scratch
inode 283 offset 3018752 root 258
inode 283 offset 3018752 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
background rm
background fsstress
# ./ltp/fsstress -d /mnt/scratch/bgnoise -n 999
seed = 1515600777
283
# /bin/btrfs inspect-internal logical-resolve -P 295170048 /mnt/scratch
inode 283 offset 3112960 root 258
inode 283 offset 3112960 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 281718784 /mnt/scratch
inode 283 offset 3166208 root 258
inode 283 offset 3166208 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 295223296 /mnt/scratch
inode 283 offset 3170304 root 258
inode 283 offset 3170304 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 295337984 /mnt/scratch
inode 283 offset 3284992 root 258
inode 283 offset 3284992 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 299565056 /mnt/scratch
inode 283 offset 3366912 root 258
inode 283 offset 3366912 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 288092160 /mnt/scratch
inode 283 offset 3395584 root 258
inode 283 offset 3395584 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 295419904 /mnt/scratch
inode 283 offset 3473408 root 258
inode 283 offset 3473408 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 279203840 /mnt/scratch
inode 283 offset 3706880 root 258
inode 283 offset 3706880 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 279212032 /mnt/scratch
inode 283 offset 3715072 root 258
inode 283 offset 3715072 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f79
283
# /bin/btrfs inspect-internal logical-resolve -P 279281664 /mnt/scratch
inode 283 offset 3784704 root 258
inode 283 offset 3784704 root 5
# /bin/btrfs inspect-internal inode-resolve 283 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d10/d34/d5a/d64/d8f/f191
/mnt/scratch/snap1/p0/d0/d6e/f79
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d6e/f1c4
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d6e/f1c4 is 310176 (76 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       65..      75:      75795..     75805:     11:         65: shared,eof
   1:      187..     424:      74054..     74291:    238:      75917: last,unwritten,shared,eof
/mnt/scratch/snap1/p0/d0/d6e/f1c4: 2 extents found
after filter: 310456320#45056#266240#shared,eof 303325184#974848#765952#last,unwritten,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f1c4
613
# /bin/btrfs inspect-internal logical-resolve -P 310456320 /mnt/scratch
inode 613 offset 266240 root 258
inode 613 offset 266240 root 5
# /bin/btrfs inspect-internal inode-resolve 613 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f1c4
# stat -c %i /mnt/scratch/snap1/p0/d0/d6e/f1c4
613
# /bin/btrfs inspect-internal logical-resolve -P 303325184 /mnt/scratch
inode 613 offset 765952 root 258
inode 613 offset 765952 root 5
# /bin/btrfs inspect-internal inode-resolve 613 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d6e/f1c4
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/f15d
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/f15d is 649760 (159 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       23..      28:      75646..     75651:      6:         23: shared
   1:      127..     158:      71252..     71283:     32:      75750: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/f15d: 2 extents found
after filter: 309846016#24576#94208#shared 291848192#131072#520192#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f15d
526
# /bin/btrfs inspect-internal logical-resolve -P 309846016 /mnt/scratch
inode 526 offset 94208 root 258
inode 526 offset 94208 root 5
# /bin/btrfs inspect-internal inode-resolve 526 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f15d
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/f15d
526
# /bin/btrfs inspect-internal logical-resolve -P 291848192 /mnt/scratch
inode 526 offset 520192 root 258
inode 526 offset 520192 root 5
# /bin/btrfs inspect-internal inode-resolve 526 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/f15d
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f9f
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f9f is 447063 (110 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       92..     109:      71325..     71342:     18:         92: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f9f: 1 extent found
after filter: 292147200#73728#376832#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f9f
374
# /bin/btrfs inspect-internal logical-resolve -P 292147200 /mnt/scratch
inode 374 offset 376832 root 258
inode 374 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 374 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d37/d86/f9f
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/f163
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/f163 is 622592 (152 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      109..     111:      72366..     72368:      3:        109: shared
   1:      140..     151:      70354..     70365:     12:      72397: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/f163: 2 extents found
after filter: 296411136#12288#446464#shared 288169984#49152#573440#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f163
532
# /bin/btrfs inspect-internal logical-resolve -P 296411136 /mnt/scratch
inode 532 offset 446464 root 258
inode 532 offset 446464 root 5
# /bin/btrfs inspect-internal inode-resolve 532 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f163
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/f163
532
# /bin/btrfs inspect-internal logical-resolve -P 288169984 /mnt/scratch
inode 532 offset 573440 root 258
inode 532 offset 573440 root 5
# /bin/btrfs inspect-internal inode-resolve 532 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/f163
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2 is 1389245 (340 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:       14..      36:      67384..     67406:     23:         14: shared
   1:       58..      75:      75157..     75174:     18:      67428: shared
   2:       85..      91:      63955..     63961:      7:      75184: shared
   3:       92..      92:      66077..     66077:      1:      63962: shared
   4:      290..     307:      65619..     65636:     18:      66275: shared
   5:      308..     339:      75175..     75206:     32:      65637: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2: 6 extents found
after filter: 276004864#94208#57344#shared 307843072#73728#237568#shared 261959680#28672#348160#shared 270651392#4096#376832#shared 268775424#73728#1187840#shared 307916800#131072#1261568#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 276004864 /mnt/scratch
inode 361 offset 57344 root 258
inode 361 offset 57344 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 307843072 /mnt/scratch
inode 361 offset 237568 root 258
inode 361 offset 237568 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 261959680 /mnt/scratch
inode 361 offset 348160 root 258
inode 361 offset 348160 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 270651392 /mnt/scratch
inode 361 offset 376832 root 258
inode 361 offset 376832 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 268775424 /mnt/scratch
inode 361 offset 1187840 root 258
inode 361 offset 1187840 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
361
# /bin/btrfs inspect-internal logical-resolve -P 307916800 /mnt/scratch
inode 361 offset 1261568 root 258
inode 361 offset 1261568 root 5
# /bin/btrfs inspect-internal inode-resolve 361 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d46/f8b
/mnt/scratch/snap1/p0/d0/d1/d8/d182/f1c2
# /sbin/filefrag -v /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f168
Filesystem type is: 9123683e
File size of /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f168 is 1008920 (247 blocks of 4096 bytes)
 ext:     logical_offset:        physical_offset: length:   expected: flags:
   0:      225..     246:      71284..     71305:     22:        225: last,shared,eof
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f168: 1 extent found
after filter: 291979264#90112#921600#last,shared,eof 
# stat -c %i /mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f168
537
# /bin/btrfs inspect-internal logical-resolve -P 291979264 /mnt/scratch
inode 537 offset 921600 root 258
inode 537 offset 921600 root 5
# /bin/btrfs inspect-internal inode-resolve 537 /mnt/scratch/snap1
/mnt/scratch/snap1/p0/d0/d1/d8/d18/d22/d69/d28/d13c/d51/dbd/f168
background rm
